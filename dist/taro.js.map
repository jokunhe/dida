{"version":3,"sources":["webpack:///.._src_polyfill.js","webpack:///.._src_env.js","webpack:///.._src_interceptor_chain.js","webpack:///.._src_interceptor_index.js","webpack:///.._src_interceptor_interceptors.js","webpack:///.._src_tools.js","webpack:///.._src_index.js","webpack:///._node_modules_@tarojs_mini-runner_dist_template_comp.js","webpack:///.._.._src_template_custom-wrapper.ts","webpack:///.._src_polyfill_reflect-metadata.js","webpack:///.._src_constants_identifiers.ts","webpack:///.._src_constants_index.ts","webpack:///.._src_utils_index.ts","webpack:///.._src_dom_event-target.ts","webpack:///.._src_hydrate.ts","webpack:///.._src_dom_event-source.ts","webpack:///.._src_interface_container.ts","webpack:///.._src_dom_node.ts","webpack:///.._src_dom_text.ts","webpack:///.._src_dom_style_properties.ts","webpack:///.._src_dom_style.ts","webpack:///.._src_dom_tree.ts","webpack:///.._src_dom_class-list.ts","webpack:///.._src_dom_element.ts","webpack:///.._node_modules_lodash-es_isArray.js","webpack:///.._node_modules_lodash-es__freeGlobal.js","webpack:///.._node_modules_lodash-es__root.js","webpack:///.._node_modules_lodash-es__Symbol.js","webpack:///.._node_modules_lodash-es__getRawTag.js","webpack:///.._node_modules_lodash-es__objectToString.js","webpack:///.._node_modules_lodash-es__baseGetTag.js","webpack:///.._node_modules_lodash-es_isObjectLike.js","webpack:///.._node_modules_lodash-es_isSymbol.js","webpack:///.._node_modules_lodash-es__isKey.js","webpack:///.._node_modules_lodash-es_isObject.js","webpack:///.._node_modules_lodash-es_isFunction.js","webpack:///.._node_modules_lodash-es__coreJsData.js","webpack:///.._node_modules_lodash-es__isMasked.js","webpack:///.._node_modules_lodash-es__toSource.js","webpack:///.._node_modules_lodash-es__baseIsNative.js","webpack:///.._node_modules_lodash-es__getValue.js","webpack:///.._node_modules_lodash-es__getNative.js","webpack:///.._node_modules_lodash-es__nativeCreate.js","webpack:///.._node_modules_lodash-es__hashClear.js","webpack:///.._node_modules_lodash-es__hashDelete.js","webpack:///.._node_modules_lodash-es__hashGet.js","webpack:///.._node_modules_lodash-es__hashHas.js","webpack:///.._node_modules_lodash-es__hashSet.js","webpack:///.._node_modules_lodash-es__Hash.js","webpack:///.._node_modules_lodash-es__listCacheClear.js","webpack:///.._node_modules_lodash-es_eq.js","webpack:///.._node_modules_lodash-es__assocIndexOf.js","webpack:///.._node_modules_lodash-es__listCacheDelete.js","webpack:///.._node_modules_lodash-es__listCacheGet.js","webpack:///.._node_modules_lodash-es__listCacheHas.js","webpack:///.._node_modules_lodash-es__listCacheSet.js","webpack:///.._node_modules_lodash-es__ListCache.js","webpack:///.._node_modules_lodash-es__Map.js","webpack:///.._node_modules_lodash-es__mapCacheClear.js","webpack:///.._node_modules_lodash-es__isKeyable.js","webpack:///.._node_modules_lodash-es__getMapData.js","webpack:///.._node_modules_lodash-es__mapCacheDelete.js","webpack:///.._node_modules_lodash-es__mapCacheGet.js","webpack:///.._node_modules_lodash-es__mapCacheHas.js","webpack:///.._node_modules_lodash-es__mapCacheSet.js","webpack:///.._node_modules_lodash-es__MapCache.js","webpack:///.._node_modules_lodash-es_memoize.js","webpack:///.._node_modules_lodash-es__memoizeCapped.js","webpack:///.._node_modules_lodash-es__stringToPath.js","webpack:///.._node_modules_lodash-es__arrayMap.js","webpack:///.._node_modules_lodash-es__baseToString.js","webpack:///.._node_modules_lodash-es_toString.js","webpack:///.._node_modules_lodash-es__castPath.js","webpack:///.._node_modules_lodash-es__toKey.js","webpack:///.._node_modules_lodash-es__baseGet.js","webpack:///.._node_modules_lodash-es_get.js","webpack:///.._src_options.ts","webpack:///.._src_perf.ts","webpack:///.._src_dom_root.ts","webpack:///.._src_dom_form.ts","webpack:///.._src_dom_svg.ts","webpack:///.._src_dom-external_inner-html_scaner.ts","webpack:///.._src_dom-external_inner-html_tags.ts","webpack:///.._src_dom-external_inner-html_utils.ts","webpack:///.._src_dom-external_inner-html_style.ts","webpack:///.._src_dom-external_inner-html_parser.ts","webpack:///.._src_dom-external_inner-html_html.ts","webpack:///.._src_dom-external_node.ts","webpack:///.._src_dom-external_node-impl.ts","webpack:///.._src_dom-external_element.ts","webpack:///.._src_dom-external_element-impl.ts","webpack:///.._src_dom_document.ts","webpack:///.._src_hooks.ts","webpack:///.._src_constants_events.ts","webpack:///.._src_container_default-hooks.ts","webpack:///.._src_container_plugin-hooks.ts","webpack:///.._src_container_index.ts","webpack:///.._src_dom_event.ts","webpack:///.._src_env.ts","webpack:///.._src_bom_document.ts","webpack:///.._src_bom_navigator.ts","webpack:///.._src_bom_raf.ts","webpack:///.._src_bom_getComputedStyle.ts","webpack:///.._src_bom_window.ts","webpack:///.._src_current.ts","webpack:///.._src_emitter_emitter.ts","webpack:///.._src_dsl_common.ts","webpack:///.._src_dsl_react.ts","webpack:///.._src_dsl_vue.ts","webpack:///.._src_dsl_vue3.ts","webpack:///.._src_dsl_hooks.ts","webpack:///.._src_next-tick.ts","webpack:///._node_modules_@tarojs_mini-runner_node_modules_regenerator-runtime_runtime-module.js","webpack:///._node_modules_@tarojs_mini-runner_node_modules_regenerator-runtime_runtime.js","webpack:///.._.._taro-components_mini_index.js","webpack:///.._src_components-react.ts","webpack:///.._src_apis-list.ts","webpack:///.._src_apis.ts","webpack:///.._src_components.ts","webpack:///.._src_runtime-utils.ts","webpack:///.._src_runtime.ts","webpack:///.._src_props.ts","webpack:///.._src_reconciler.ts","webpack:///.._src_render.ts","webpack:///.._src_index.ts","webpack:///.._src_is.ts","webpack:///.._src_utils.ts","webpack:///.._src_native-apis.ts","webpack:///._node_modules_@tarojs_taro_index.js"],"names":["Object","target","to","index","arguments","nextSource","desc","d","hasProperty","g","isCallable","s","obj","properties","keys","descs","i","convertToDescriptor","ENV_TYPE","WEAPP","WEB","RN","SWAN","ALIPAY","TT","QQ","JD","_env","jd","qq","tt","wx","swan","my","global","Chain","interceptors","nextInterceptor","nextChain","p","res","Promise","Link","interceptor","requestParams","chain","timeout","setTimeout","reject","clearTimeout","resolve","method","data","url","console","current","key","val","config","designWidth","deviceRatio","taro","parseInt","Taro","Behavior","getEnv","Current","getCurrentInstance","options","nextTick","eventCenter","Events","useDidShow","useDidHide","usePullDownRefresh","useReachBottom","usePageScroll","useResize","useShareAppMessage","useTabItemTap","useTitleClick","useOptionMenuClick","usePullIntercept","useShareTimeline","useAddToFavorites","useReady","useRouter","getInitPxTransform","getPreload","getPxTransform","Component","createRecursiveComponentConfig","isObject","isArray","Symbol","objectProto","nativeObjectToString","symToStringTag","funcProto","funcToString","hasOwnProperty","HASH_UNDEFINED","Map","INFINITY","isFunction","document","ioc_container","container","window","hooks","setReconciler","React","Function","hadRuntime","regeneratorRuntime","getOwnPropertyNames","indexOf","oldRuntime","undefined","module","exports","require","e","Op","prototype","hasOwn","$Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","inModule","runtime","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","_invoke","makeInvokeMethod","tryCatch","fn","arg","type","call","err","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","constructor","displayName","defineIteratorMethods","forEach","isGeneratorFunction","genFun","ctor","name","mark","setPrototypeOf","__proto__","awrap","__await","AsyncIterator","invoke","record","result","value","then","unwrapped","previousPromise","enqueue","callInvokeWithMethodAndArg","async","iter","next","done","state","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","return","TypeError","info","resultName","nextLoc","toString","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","object","reverse","length","pop","iterable","iteratorMethod","isNaN","skipTempReset","prev","charAt","slice","stop","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","SERVICE_IDENTIFIER","default","get","Hooks","initNativeApi"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAI,OAAOA,MAAM,CAAb,WAAJ,YAAyC;AACvC;AACAA,QAAM,CAANA,SAAgB,kBAAkB;AAAE;AAClC,QAAIC,MAAM,IAAV,MAAoB;AAAE;AACpB,YAAM,cAAN,4CAAM,CAAN;AACD;;AAED,QAAMC,EAAE,GAAGF,MAAM,CAAjB,MAAiB,CAAjB;;AAEA,SAAK,IAAIG,KAAK,GAAd,GAAoBA,KAAK,GAAGC,SAAS,CAArC,QAA8CD,KAA9C,IAAuD;AACrD,UAAME,UAAU,GAAGD,SAAS,CAA5B,KAA4B,CAA5B;;AAEA,UAAIC,UAAU,IAAd,MAAwB;AAAE;AACxB,aAAK,IAAL,uBAAkC;AAChC;AACA,cAAIL,MAAM,CAANA,0CAAJ,OAAIA,CAAJ,EAA+D;AAC7DE,cAAE,CAAFA,OAAE,CAAFA,GAAcG,UAAU,CAAxBH,OAAwB,CAAxBA;AACD;AACF;AACF;AACF;;AACD;AAnBFF;AAqBD;;AAED,IAAI,OAAOA,MAAM,CAAb,qBAAJ,YAAmD;AACjDA,QAAM,CAANA,mBAA0B,2BAA2B;AACnD,uCAAoC;AAClC,sCAAiC;AAC/B,eAAOA,MAAM,CAANA,mCAAP,IAAOA,CAAP;AACD;;AAED,6BAAwB;AACtB;AACA,eAAO,aAAP;AACD;;AAED,UAAI,2FAA4BM,IAAI,KAApC,MAA+C;AAAE,cAAM,cAAN,UAAM,CAAN;AAAiC;;AAElF,UAAMC,CAAC,GAAP;AAEA,UAAIC,WAAW,OAAf,YAAe,CAAf,EAAqCD,CAAC,CAADA,aAAe,CAAC,CAACD,IAAI,CAArBC;;AACrC,UAAIC,WAAW,OAAf,cAAe,CAAf,EAAuC;AAAED,SAAC,CAADA,eAAiB,CAAC,CAACD,IAAI,CAAvBC;AAAsC;;AAC/E,UAAIC,WAAW,OAAf,OAAe,CAAf,EAAgCD,CAAC,CAADA,QAAUD,IAAI,CAAdC;AAChC,UAAIC,WAAW,OAAf,UAAe,CAAf,EAAmCD,CAAC,CAADA,WAAa,CAAC,CAACD,IAAI,CAAnBC;;AACnC,UAAIC,WAAW,OAAf,KAAe,CAAf,EAA8B;AAC5B,YAAMC,CAAC,GAAGH,IAAI,CAAd;;AAEA,YAAI,CAACI,UAAU,CAAX,CAAW,CAAX,IAAkB,aAAtB,aAAgD;AAAE,gBAAM,cAAN,SAAM,CAAN;AAAgC;;AAClFH,SAAC,CAADA;AACD;;AACD,UAAIC,WAAW,OAAf,KAAe,CAAf,EAA8B;AAC5B,YAAMG,CAAC,GAAGL,IAAI,CAAd;;AACA,YAAI,CAACI,UAAU,CAAX,CAAW,CAAX,IAAkB,aAAtB,aAAgD;AAAE,gBAAM,cAAN,SAAM,CAAN;AAAgC;;AAClFH,SAAC,CAADA;AACD;;AAED,UAAI,CAAC,cAAc,SAAf,OAA+B,gBAAgB,cAAnD,CAAI,CAAJ,EAAqE;AAAE,cAAM,cAAN,8BAAM,CAAN;AAAqD;;AAE5H;AACD;;AAED,QAAI,0FAA2BK,GAAG,KAAlC,MAA6C,MAAM,cAAN,SAAM,CAAN;AAE7CC,cAAU,GAAGb,MAAM,CAAnBa,UAAmB,CAAnBA;AAEA,QAAMC,IAAI,GAAGd,MAAM,CAANA,KAAb,UAAaA,CAAb;AACA,QAAMe,KAAK,GAAX;;AAEA,SAAK,IAAIC,CAAC,GAAV,GAAgBA,CAAC,GAAGF,IAAI,CAAxB,QAAiCE,CAAjC,IAAsC;AACpCD,WAAK,CAALA,KAAW,CAACD,IAAI,CAAL,CAAK,CAAL,EAAUG,mBAAmB,CAACJ,UAAU,CAACC,IAAI,CAAxDC,CAAwD,CAAL,CAAX,CAA7B,CAAXA;AACD;;AAED,SAAK,IAAIC,EAAC,GAAV,GAAgBA,EAAC,GAAGD,KAAK,CAAzB,QAAkCC,EAAlC,IAAuC;AACrChB,YAAM,CAANA,oBAA2Be,KAAK,CAALA,EAAK,CAALA,CAA3Bf,CAA2Be,CAA3Bf,EAAwCe,KAAK,CAALA,EAAK,CAALA,CAAxCf,CAAwCe,CAAxCf;AACD;;AAED;AAnDFA;AAqDD;;AC/EM,IAAMkB,QAAQ,GAAG;AACtBC,OAAK,EADiB;AAEtBC,KAAG,EAFmB;AAGtBC,IAAE,EAHoB;AAItBC,MAAI,EAJkB;AAKtBC,QAAM,EALgB;AAMtBC,IAAE,EANoB;AAOtBC,IAAE,EAPoB;AAQtBC,IAAE,EAAE;AARkB,CAAjB;AAWP,IAAIC,IAAI,GAAR,K,CAAA;;AAGO,kBAAmB;AACxB,YAAU;;AACV,MAAI,6BAA6BC,EAAE,CAAnC,eAAmD;AACjDD,QAAI,GAAGT,QAAQ,CAAfS;AACA,WAAOT,QAAQ,CAAf;AACD;;AACD,MAAI,6BAA6BW,EAAE,CAAnC,eAAmD;AACjDF,QAAI,GAAGT,QAAQ,CAAfS;AACA,WAAOT,QAAQ,CAAf;AACD;;AACD,MAAI,6BAA6BY,EAAE,CAAnC,eAAmD;AACjDH,QAAI,GAAGT,QAAQ,CAAfS;AACA,WAAOT,QAAQ,CAAf;AACD;;AACD,MAAI,6BAA6Ba,EAAE,CAAnC,eAAmD;AACjDJ,QAAI,GAAGT,QAAQ,CAAfS;AACA,WAAOT,QAAQ,CAAf;AACD;;AACD,MAAI,+BAA+Bc,IAAI,CAAvC,eAAuD;AACrDL,QAAI,GAAGT,QAAQ,CAAfS;AACA,WAAOT,QAAQ,CAAf;AACD;;AACD,MAAI,6BAA6Be,EAAE,CAAnC,eAAmD;AACjDN,QAAI,GAAGT,QAAQ,CAAfS;AACA,WAAOT,QAAQ,CAAf;AACD;;AACD,MAAI,iCAAiCgB,MAAM,CAA3C,qBAAiE;AAC/DP,QAAI,GAAGT,QAAQ,CAAfS;AACA,WAAOT,QAAQ,CAAf;AACD;;AACD,MAAI,kBAAJ,aAAmC;AACjCS,QAAI,GAAGT,QAAQ,CAAfS;AACA,WAAOT,QAAQ,CAAf;AACD;;AACD;AACD;;ICjDoBiB;AACnB,gCAA0D;AAAA,QAA9BC,YAA8B,uEAAf,EAAe;AAAA,QAAXjC,KAAW,uEAAH,CAAG;;AAAA;;AACxD;AACA;AACA;AACD;;;;WAED,gCAAwB;AACtB;;AACA,UAAI,cAAc,kBAAlB,QAA4C;AAC1C,cAAM,UAAN,kCAAM,CAAN;AACD;;AACD,UAAMkC,eAAe,GAAG,KAAxB,mBAAwB,EAAxB;;AACA,UAAMC,SAAS,GAAG,KAAlB,aAAkB,EAAlB;;AACA,UAAMC,CAAC,GAAGF,eAAe,CAAzB,SAAyB,CAAzB;AACA,UAAMG,GAAG,GAAG,CAAC,CAAD,MAAQ,eAAG;AAAA,eAAIC,OAAO,CAAPA,OAAJ,GAAIA,CAAJ;AAAvB,OAAY,CAAZ;AACA,UAAI,OAAOF,CAAC,CAAR,UAAJ,YAAmCC,GAAG,CAAHA,QAAYD,CAAC,CAAbC;AACnC;AACD;;;WAED,+BAAuB;AACrB,aAAO,kBAAkB,KAAzB,KAAO,CAAP;AACD;;;WAED,yBAAiB;AACf,aAAO,UAAU,KAAV,eAA8B,KAA9B,cAAiD,aAAxD,CAAO,CAAP;AACD;;;;CA1BkBL,E;;ICEAO;AACnB,6BAA0B;AAAA;;AACxB;AACA,iBAAa,IAAb,KAAa,EAAb;AACD;;;;WAED,gCAAwB;AAAA;;AACtB,gCAA0B,+BAA+B,uBAAW;AAAA,eAAIC,WAAW,KAAK,KAAI,CAAxB;AAApE,OAA0B,CAA1B;AACA,mCAA6B,KAA7B;AACA,aAAO,mGAAP,aAAO,EAAP;AACD;;;WAED,qCAA6B;AAC3B;AACD;;;WAED,6BAAqB;AACnB,mBAAa,IAAb,KAAa,EAAb;AACD;;;;CAlBkBD,E;;ACFd,mCAAoC;AACzC,MAAME,aAAa,GAAGC,KAAK,CAA3B;AACA;AACA,MAAML,GAAG,GAAG,YAAY,2BAAqB;AAC3C,QAAIM,OAAO,GAAGC,UAAU,CAAC,YAAM;AAC7BD,aAAO,GAAPA;AACAE,YAAM,CAAC,UAAPA,eAAO,CAAD,CAANA;AAFsB,OAGpBJ,aAAa,IAAIA,aAAa,CAA/B,OAACA,IAHJ,KAAwB,CAAxB;AAKAL,KAAC,GAAGM,KAAK,CAALA,QAAJN,aAAIM,CAAJN;AACAA,KAAC,CAADA,KAAO,eAAO;AACZ,UAAI,CAAJ,SAAc;AACdU,kBAAY,CAAZA,OAAY,CAAZA;AACAC,aAAO,CAAPA,GAAO,CAAPA;AAHFX,aAIS,eAAO;AACdO,aAAO,IAAIG,YAAY,CAAvBH,OAAuB,CAAvBA;AACAE,YAAM,CAANA,GAAM,CAANA;AANFT;AAPF,GAAY,CAAZ;AAiBA,MAAIA,CAAC,KAADA,aAAmB,OAAOA,CAAC,CAAR,UAAvB,YAAsDC,GAAG,CAAHA,QAAYD,CAAC,CAAbC;AACtD;AACD;;AAEM,+BAAgC;AACrC,MAAMI,aAAa,GAAGC,KAAK,CAA3B;AACA,MAAQM,MAAR,GAA8BP,aAA9B;AAAA,MAAgBQ,IAAhB,GAA8BR,aAA9B;AAAA,MAAsBS,GAAtB,GAA8BT,aAA9B,CAFqC,GAErC,CAFqC;;AAIrCU,SAAO,CAAPA,mBAAoBH,MAAM,IAA1BG;AACA,MAAMf,CAAC,GAAGM,KAAK,CAALA,QAAV,aAAUA,CAAV;AACA,MAAML,GAAG,GAAG,CAAC,CAAD,KAAO,eAAO;AACxB;AACAc,WAAO,CAAPA;AACA;AAHF,GAAY,CAAZ;AAKA,MAAI,OAAOf,CAAC,CAAR,UAAJ,YAAmCC,GAAG,CAAHA,QAAYD,CAAC,CAAbC;AACnC;AACD;;;;;;;;ACrCM,2BAA4B;AACjC;AACD;;AAEM,6BAA8B;AACnC,SAAO,oBAAoB;AACzB,QAAI,8EAAJ,UAA6B;AAC3Be,aAAO,CAAPA;AADF,WAEO,IAAIC,GAAG,KAAHA,aAAqBC,GAAG,KAA5B,WAA4C;AACjDF,aAAO,CAAPA;AAGD;AAPH;AASD;;AAEM,kCAAmC;AACxC,SAAO,kBAAkB;AACvB,8BAOIG,MAPJ;AAAA,QACEC,WADF;AAAA,8BAOID,MAPJ;AAAA,QAEEE,WAFF,oCAEgB;AACZ,WAAK,OADO;AAEZ,WAFY;AAGZ,WAAK,OAAO;AAHA,KAFhB;AAQAC,QAAI,CAAJA,SAAcA,IAAI,CAAJA,UAAdA;AACAA,QAAI,CAAJA;AACAA,QAAI,CAAJA;AAXF;AAaD;;AAEM,8BAA+B;AACpC,SAAO,gBAAgB;AACrB,eAOIA,IAAI,CAAJA,UAPJ;AAAA;AAAA,QACEF,WADF;AAAA;AAAA,QAEEC,WAFF,iCAEgB;AACZ,WAAK,OADO;AAEZ,WAFY;AAGZ,WAAK,OAAO;AAHA,KAFhB;;AAQA,QAAI,EAAED,WAAW,IAAjB,WAAI,CAAJ,EAAmC;AACjC,YAAM,kFAAN,2BAAM,EAAN;AACD;;AACD,WAAQG,QAAQ,OAARA,EAAQ,CAARA,GAAqBF,WAAW,CAAjC,WAAiC,CAAhCE,GAAR;AAZF;AAcD;AC/CD;;;AAmCA,IAAMC,IAAI,GAAG;AACXC,UAAQ,EADG;AAEXC,QAAM,EAFK;AAGX/C,UAAQ,EAHG;AAIXwB,MAAI,EAJO;AAKXN,cAAY,EALD;AAMX8B,SAAO,EANI;AAOXC,oBAAkB,EAPP;AAQXC,SAAO,EARI;AASXC,UAAQ,EATG;AAUXC,aAAW,EAVA;AAWXC,QAAM,EAXK;AAYXC,YAAU,EAZC;AAaXC,YAAU,EAbC;AAcXC,oBAAkB,EAdP;AAeXC,gBAAc,EAfH;AAgBXC,eAAa,EAhBF;AAiBXC,WAAS,EAjBE;AAkBXC,oBAAkB,EAlBP;AAmBXC,eAAa,EAnBF;AAoBXC,eAAa,EApBF;AAqBXC,oBAAkB,EArBP;AAsBXC,kBAAgB,EAtBL;AAuBXC,kBAAgB,EAvBL;AAwBXC,mBAAiB,EAxBN;AAyBXC,UAAQ,EAzBG;AA0BXC,WAAS,EA1BE;AA2BXC,oBAAkB,EAAlBA;AA3BW,CAAb;AA8BAxB,IAAI,CAAJA,kBAAuBwB,kBAAkB,CAAzCxB,IAAyC,CAAzCA;AACAA,IAAI,CAAJA,UAAeyB,UAAU,CAAzBzB,uDAAyB,CAAzBA;AACAA,IAAI,CAAJA,cAAmB0B,cAAc,CAAjC1B,IAAiC,CAAjCA;;;;;;;;;;;;;;;ACnEA;AAAA;AAAA;CAEA;;AACA2B,SAAS,CAACC,sFAA8B,EAA/B,CAAT,C;;;;;;;;;;;;;;;;;;ACHA;;AACA,kJ,CACA;;;AACA,SAAS,CAAC,yCAA+B,gBAA/B,CAAD,CAAT,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,IAAI,KAAJ,EAAmC,EAAnC,MAEO;AACP;AACE,GAAC,mBAAmB;AACtB;AACA;AACM,KAAC,mBAAmB;AAC1B;AACA;AACA;AACA;AACU,UAAI,QAAQ,GAAG,YAAY,CALX,OAKW,CAA3B,CALgB,CAM1B;AACA;AACA;AACA;AACA;AACA;;AACU,aAAO,CAAP,QAAO,CAAP;;AACA,8CAAwC;AACpC,eAAO,sBAAsB;AACzB,cAAI,OAAO,MAAM,CAAb,GAAa,CAAb,KAAJ,YAAuC;AACnC,kBAAM,CAAN,4BAAmC;AAAE,0BAAY,EAAd;AAAsB,sBAAQ,EAA9B;AAAsC,mBAAK,EAAE;AAA7C,aAAnC;AACH;;AACD,wBACI,QAAQ,MAAR,KAAQ,CAAR;AALR;AAOH;AArBL,OAsBG,oBAAoB;AACnB,UAAI,MAAM,GAAG,MAAM,CAAN,UADM,cACnB,CADmB,CAE7B;;AACU,UAAI,cAAc,GAAG,kBAArB;AACA,UAAI,iBAAiB,GAAG,cAAc,IAAI,OAAO,MAAM,CAAb,gBAAlB,cAA8D,MAAM,CAApE,cAAxB;AACA,UAAI,cAAc,GAAG,cAAc,IAAI,OAAO,MAAM,CAAb,aAAlB,cAA2D,MAAM,CAAjE,WAArB;AACA,UAAI,cAAc,GAAG,OAAO,MAAM,CAAb,WANF,UAMnB,CANmB,CAMsC;;AACzD,UAAI,aAAa,GAAG;AAAE,iBAAS,EAAE;AAAb,mBAPD,KAOnB,CAPmB,CAOoC;;AACvD,UAAI,SAAS,GAAG,mBAAmB,CAAnC;AACA,UAAI,OAAO,GAAG;AACxB;AACc,cAAM,EAAE,cAAc,GAChB,YAAY;AAAE,iBAAO,cAAc,CAAC,MAAM,CAAN,OAAtB,IAAsB,CAAD,CAArB;AADE,YAEhB,aAAa,GACT,YAAY;AAAE,iBAAO,cAAc,CAAC;AAAE,qBAAS,EAAE;AAAb,WAAD,CAArB;AADL,YAET,YAAY;AAAE,iBAAO,cAAc,CAArB,EAAqB,CAArB;AANd;AAOV,WAAG,EAAE,SAAS,GACR,oBAAoB;AAAE,iBAAO,MAAM,CAAN,UAAP,GAAO,CAAP;AADd,YAER,oBAAoB;AAAE,iBAAO,GAAG,IAAV;AATlB;AAUV,WAAG,EAAE,SAAS,GACR,oBAAoB;AAAE,iBAAO,MAAM,CAAN,iBAAwB,GAAG,CAA3B,GAA2B,CAA3B,GAAP;AADd,YAER,oBAAoB;AAAE,iBAAO,GAAG,CAAV,GAAU,CAAV;AAAkB;AAZpC,OAAd,CATmB,CAuB7B;;AACU,UAAI,iBAAiB,GAAG,MAAM,CAAN,eAAxB,QAAwB,CAAxB;AACA,UAAI,WAAW,GAAG,2MAA+B,OAAO,CAAtC,OAA8C,OAAO,CAAP,6CAAhE;;AACA,UAAI,IAAI,GAAG,gBAAgB,eAAhB,cAA6C,OAAO,GAAG,CAAH,UAAP,YAA7C,mBAAiG,iBAA5G;;AACA,UAAI,IAAI,GAAG,gBAAgB,eAAhB,cAA6C,OAAO,GAAG,CAAH,UAAP,YAA7C,mBAAiG,iBAA5G;;AACA,UAAI,QAAQ,GAAG,gBAAgB,mBAAhB,uBAA0D,qBA5BtD,EA4BnB,CA5BmB,CA6B7B;AACA;;;AACU,UAAI,QAAQ,GAAG,IAAf,QAAe,EAAf;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACU,qEAA+D;AAC3D,YAAI,CAAC,WAAW,CAAhB,WAAgB,CAAhB,EAA+B;AAC3B,cAAI,CAAC,OAAO,CAAZ,UAAY,CAAZ,EACI,MAAM,IAAN,SAAM,EAAN;AACJ,cAAI,CAAC,QAAQ,CAAb,MAAa,CAAb,EACI,MAAM,IAAN,SAAM,EAAN;AACJ,cAAI,CAAC,QAAQ,CAAT,UAAS,CAAT,IAAyB,CAAC,WAAW,CAArC,UAAqC,CAArC,IAAqD,CAAC,MAAM,CAAhE,UAAgE,CAAhE,EACI,MAAM,IAAN,SAAM,EAAN;AACJ,cAAI,MAAM,CAAV,UAAU,CAAV,EACI,UAAU,GAAV;AACJ,qBAAW,GAAG,aAAa,CAA3B,WAA2B,CAA3B;AACA,iBAAO,gBAAgB,kCAAvB,UAAuB,CAAvB;AAVJ,eAYK;AACD,cAAI,CAAC,OAAO,CAAZ,UAAY,CAAZ,EACI,MAAM,IAAN,SAAM,EAAN;AACJ,cAAI,CAAC,aAAa,CAAlB,MAAkB,CAAlB,EACI,MAAM,IAAN,SAAM,EAAN;AACJ,iBAAO,mBAAmB,aAA1B,MAA0B,CAA1B;AACH;AACJ;;AACD,cAAQ,aA5FW,QA4FX,CAAR,CA5FmB,CA6F7B;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACU,oDAA8C;AAC1C,gDAAwC;AACpC,cAAI,CAAC,QAAQ,CAAb,MAAa,CAAb,EACI,MAAM,IAAN,SAAM,EAAN;AACJ,cAAI,CAAC,WAAW,CAAZ,WAAY,CAAZ,IAA6B,CAAC,aAAa,CAA/C,WAA+C,CAA/C,EACI,MAAM,IAAN,SAAM,EAAN;AACJ,mCAAyB,qCAAzB,WAAyB,CAAzB;AACH;;AACD;AACH;;AACD,cAAQ,aAAR,QAAQ,CAAR;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACU,+EAAyE;AACrE,YAAI,CAAC,QAAQ,CAAb,MAAa,CAAb,EACI,MAAM,IAAN,SAAM,EAAN;AACJ,YAAI,CAAC,WAAW,CAAhB,WAAgB,CAAhB,EACI,WAAW,GAAG,aAAa,CAA3B,WAA2B,CAA3B;AACJ,eAAO,yBAAyB,qCAAhC,WAAgC,CAAhC;AACH;;AACD,cAAQ,mBAAR,cAAQ,CAAR;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACU,6DAAuD;AACnD,YAAI,CAAC,QAAQ,CAAb,MAAa,CAAb,EACI,MAAM,IAAN,SAAM,EAAN;AACJ,YAAI,CAAC,WAAW,CAAhB,WAAgB,CAAhB,EACI,WAAW,GAAG,aAAa,CAA3B,WAA2B,CAA3B;AACJ,eAAO,mBAAmB,sBAA1B,WAA0B,CAA1B;AACH;;AACD,cAAQ,gBAAR,WAAQ,CAAR;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACU,gEAA0D;AACtD,YAAI,CAAC,QAAQ,CAAb,MAAa,CAAb,EACI,MAAM,IAAN,SAAM,EAAN;AACJ,YAAI,CAAC,WAAW,CAAhB,WAAgB,CAAhB,EACI,WAAW,GAAG,aAAa,CAA3B,WAA2B,CAA3B;AACJ,eAAO,sBAAsB,sBAA7B,WAA6B,CAA7B;AACH;;AACD,cAAQ,mBAAR,cAAQ,CAAR;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACU,6DAAuD;AACnD,YAAI,CAAC,QAAQ,CAAb,MAAa,CAAb,EACI,MAAM,IAAN,SAAM,EAAN;AACJ,YAAI,CAAC,WAAW,CAAhB,WAAgB,CAAhB,EACI,WAAW,GAAG,aAAa,CAA3B,WAA2B,CAA3B;AACJ,eAAO,mBAAmB,sBAA1B,WAA0B,CAA1B;AACH;;AACD,cAAQ,gBAAR,WAAQ,CAAR;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACU,gEAA0D;AACtD,YAAI,CAAC,QAAQ,CAAb,MAAa,CAAb,EACI,MAAM,IAAN,SAAM,EAAN;AACJ,YAAI,CAAC,WAAW,CAAhB,WAAgB,CAAhB,EACI,WAAW,GAAG,aAAa,CAA3B,WAA2B,CAA3B;AACJ,eAAO,sBAAsB,sBAA7B,WAA6B,CAA7B;AACH;;AACD,cAAQ,mBAAR,cAAQ,CAAR;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACU,oDA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","file":"taro.js","sourcesContent":["if (typeof Object.assign !== 'function') {\n  // Must be writable: true, enumerable: false, configurable: true\n  Object.assign = function (target) { // .length of function is 2\n    if (target == null) { // TypeError if undefined or null\n      throw new TypeError('Cannot convert undefined or null to object')\n    }\n\n    const to = Object(target)\n\n    for (let index = 1; index < arguments.length; index++) {\n      const nextSource = arguments[index]\n\n      if (nextSource != null) { // Skip over if undefined or null\n        for (const nextKey in nextSource) {\n          // Avoid bugs when hasOwnProperty is shadowed\n          if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n            to[nextKey] = nextSource[nextKey]\n          }\n        }\n      }\n    }\n    return to\n  }\n}\n\nif (typeof Object.defineProperties !== 'function') {\n  Object.defineProperties = function (obj, properties) {\n    function convertToDescriptor (desc) {\n      function hasProperty (obj, prop) {\n        return Object.prototype.hasOwnProperty.call(obj, prop)\n      }\n\n      function isCallable (v) {\n        // NB: modify as necessary if other values than functions are callable.\n        return typeof v === 'function'\n      }\n\n      if (typeof desc !== 'object' || desc === null) { throw new TypeError('bad desc') }\n\n      const d = {}\n\n      if (hasProperty(desc, 'enumerable')) d.enumerable = !!desc.enumerable\n      if (hasProperty(desc, 'configurable')) { d.configurable = !!desc.configurable }\n      if (hasProperty(desc, 'value')) d.value = desc.value\n      if (hasProperty(desc, 'writable')) d.writable = !!desc.writable\n      if (hasProperty(desc, 'get')) {\n        const g = desc.get\n\n        if (!isCallable(g) && typeof g !== 'undefined') { throw new TypeError('bad get') }\n        d.get = g\n      }\n      if (hasProperty(desc, 'set')) {\n        const s = desc.set\n        if (!isCallable(s) && typeof s !== 'undefined') { throw new TypeError('bad set') }\n        d.set = s\n      }\n\n      if (('get' in d || 'set' in d) && ('value' in d || 'writable' in d)) { throw new TypeError('identity-confused descriptor') }\n\n      return d\n    }\n\n    if (typeof obj !== 'object' || obj === null) throw new TypeError('bad obj')\n\n    properties = Object(properties)\n\n    const keys = Object.keys(properties)\n    const descs = []\n\n    for (let i = 0; i < keys.length; i++) {\n      descs.push([keys[i], convertToDescriptor(properties[keys[i]])])\n    }\n\n    for (let i = 0; i < descs.length; i++) {\n      Object.defineProperty(obj, descs[i][0], descs[i][1])\n    }\n\n    return obj\n  }\n}\n","export const ENV_TYPE = {\n  WEAPP: 'WEAPP',\n  WEB: 'WEB',\n  RN: 'RN',\n  SWAN: 'SWAN',\n  ALIPAY: 'ALIPAY',\n  TT: 'TT',\n  QQ: 'QQ',\n  JD: 'JD'\n}\n\nlet _env = null\n\n// 一个taro项目肯定运行同样的环境\nexport function getEnv () {\n  if (_env) return _env\n  if (typeof jd !== 'undefined' && jd.getSystemInfo) {\n    _env = ENV_TYPE.JD\n    return ENV_TYPE.JD\n  }\n  if (typeof qq !== 'undefined' && qq.getSystemInfo) {\n    _env = ENV_TYPE.QQ\n    return ENV_TYPE.QQ\n  }\n  if (typeof tt !== 'undefined' && tt.getSystemInfo) {\n    _env = ENV_TYPE.TT\n    return ENV_TYPE.TT\n  }\n  if (typeof wx !== 'undefined' && wx.getSystemInfo) {\n    _env = ENV_TYPE.WEAPP\n    return ENV_TYPE.WEAPP\n  }\n  if (typeof swan !== 'undefined' && swan.getSystemInfo) {\n    _env = ENV_TYPE.SWAN\n    return ENV_TYPE.SWAN\n  }\n  if (typeof my !== 'undefined' && my.getSystemInfo) {\n    _env = ENV_TYPE.ALIPAY\n    return ENV_TYPE.ALIPAY\n  }\n  if (typeof global !== 'undefined' && global.__fbGenNativeModule) {\n    _env = ENV_TYPE.RN\n    return ENV_TYPE.RN\n  }\n  if (typeof window !== 'undefined') {\n    _env = ENV_TYPE.WEB\n    return ENV_TYPE.WEB\n  }\n  return 'Unknown environment'\n}\n","export default class Chain {\n  constructor (requestParams, interceptors = [], index = 0) {\n    this.index = index\n    this.requestParams = requestParams\n    this.interceptors = interceptors\n  }\n\n  proceed (requestParams) {\n    this.requestParams = requestParams\n    if (this.index >= this.interceptors.length) {\n      throw new Error('chain 参数错误, 请勿直接修改 request.chain')\n    }\n    const nextInterceptor = this._getNextInterceptor()\n    const nextChain = this._getNextChain()\n    const p = nextInterceptor(nextChain)\n    const res = p.catch(err => Promise.reject(err))\n    if (typeof p.abort === 'function') res.abort = p.abort\n    return res\n  }\n\n  _getNextInterceptor () {\n    return this.interceptors[this.index]\n  }\n\n  _getNextChain () {\n    return new Chain(this.requestParams, this.interceptors, this.index + 1)\n  }\n}\n","import Chain from './chain'\n\nexport default class Link {\n  constructor (interceptor) {\n    this.taroInterceptor = interceptor\n    this.chain = new Chain()\n  }\n\n  request (requestParams) {\n    this.chain.interceptors = this.chain.interceptors.filter(interceptor => interceptor !== this.taroInterceptor)\n    this.chain.interceptors.push(this.taroInterceptor)\n    return this.chain.proceed({ ...requestParams })\n  }\n\n  addInterceptor (interceptor) {\n    this.chain.interceptors.push(interceptor)\n  }\n\n  cleanInterceptors () {\n    this.chain = new Chain()\n  }\n}\n","export function timeoutInterceptor (chain) {\n  const requestParams = chain.requestParams\n  let p\n  const res = new Promise((resolve, reject) => {\n    let timeout = setTimeout(() => {\n      timeout = null\n      reject(new Error('网络链接超时,请稍后再试！'))\n    }, (requestParams && requestParams.timeout) || 60000)\n\n    p = chain.proceed(requestParams)\n    p.then(res => {\n      if (!timeout) return\n      clearTimeout(timeout)\n      resolve(res)\n    }).catch(err => {\n      timeout && clearTimeout(timeout)\n      reject(err)\n    })\n  })\n\n  if (p !== undefined && typeof p.abort === 'function') res.abort = p.abort\n  return res\n}\n\nexport function logInterceptor (chain) {\n  const requestParams = chain.requestParams\n  const { method, data, url } = requestParams\n  // eslint-disable-next-line no-console\n  console.log(`http ${method || 'GET'} --> ${url} data: `, data)\n  const p = chain.proceed(requestParams)\n  const res = p.then(res => {\n    // eslint-disable-next-line no-console\n    console.log(`http <-- ${url} result:`, res)\n    return res\n  })\n  if (typeof p.abort === 'function') res.abort = p.abort\n  return res\n}\n","export function Behavior (options) {\n  return options\n}\n\nexport function getPreload (current) {\n  return function (key, val) {\n    if (typeof key === 'object') {\n      current.preloadData = key\n    } else if (key !== undefined && val !== undefined) {\n      current.preloadData = {\n        [key]: val\n      }\n    }\n  }\n}\n\nexport function getInitPxTransform (taro) {\n  return function (config) {\n    const {\n      designWidth = 750,\n      deviceRatio = {\n        640: 2.34 / 2,\n        750: 1,\n        828: 1.81 / 2\n      }\n    } = config\n    taro.config = taro.config || {}\n    taro.config.designWidth = designWidth\n    taro.config.deviceRatio = deviceRatio\n  }\n}\n\nexport function getPxTransform (taro) {\n  return function (size) {\n    const {\n      designWidth = 750,\n      deviceRatio = {\n        640: 2.34 / 2,\n        750: 1,\n        828: 1.81 / 2\n      }\n    } = taro.config || {}\n    if (!(designWidth in deviceRatio)) {\n      throw new Error(`deviceRatio 配置中不存在 ${designWidth} 的设置！`)\n    }\n    return (parseInt(size, 10) * deviceRatio[designWidth]) + 'rpx'\n  }\n}\n","/* eslint-disable camelcase */\nimport './polyfill'\nimport { getEnv, ENV_TYPE } from './env'\nimport Link from './interceptor'\nimport * as interceptors from './interceptor/interceptors'\nimport {\n  Behavior,\n  getPreload,\n  getPxTransform,\n  getInitPxTransform\n} from './tools'\nimport {\n  Current,\n  getCurrentInstance,\n  options,\n  nextTick,\n  eventCenter,\n  Events,\n  useDidShow,\n  useDidHide,\n  usePullDownRefresh,\n  useReachBottom,\n  usePageScroll,\n  useResize,\n  useShareAppMessage,\n  useTabItemTap,\n  useTitleClick,\n  useOptionMenuClick,\n  usePullIntercept,\n  useShareTimeline,\n  useAddToFavorites,\n  useReady,\n  useRouter\n} from '@tarojs/runtime'\n\nconst Taro = {\n  Behavior,\n  getEnv,\n  ENV_TYPE,\n  Link,\n  interceptors,\n  Current,\n  getCurrentInstance,\n  options,\n  nextTick,\n  eventCenter,\n  Events,\n  useDidShow,\n  useDidHide,\n  usePullDownRefresh,\n  useReachBottom,\n  usePageScroll,\n  useResize,\n  useShareAppMessage,\n  useTabItemTap,\n  useTitleClick,\n  useOptionMenuClick,\n  usePullIntercept,\n  useShareTimeline,\n  useAddToFavorites,\n  useReady,\n  useRouter,\n  getInitPxTransform\n}\n\nTaro.initPxTransform = getInitPxTransform(Taro)\nTaro.preload = getPreload(Current)\nTaro.pxTransform = getPxTransform(Taro)\n\nexport default Taro\n","/* eslint-disable no-undef */\nimport { createRecursiveComponentConfig } from '@tarojs/runtime'\n// @ts-ignore\nComponent(createRecursiveComponentConfig())\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* eslint-disable no-undef */\nconst runtime_1 = require(\"@tarojs/runtime\");\n// @ts-ignore\nComponent(runtime_1.createRecursiveComponentConfig('custom-wrapper'));\n//# sourceMappingURL=custom-wrapper.js.map","/*! *****************************************************************************\nCopyright (C) Microsoft. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\n\n/** https://github.com/rbuckton/reflect-metadata */\n\nif (process.env.TARO_ENV === 'h5') {\n  require('reflect-metadata')\n} else {\n  // var Reflect;\n  (function (Reflect) {\n      // Metadata Proposal\n      // https://rbuckton.github.io/reflect-metadata/\n      (function (factory) {\n          // var root = typeof global === \"object\" ? global :\n          //     typeof self === \"object\" ? self :\n          //         typeof this === \"object\" ? this :\n          //             Function(\"return this;\")();\n          var exporter = makeExporter(Reflect);\n          // if (typeof root.Reflect === \"undefined\") {\n          //     root.Reflect = Reflect;\n          // }\n          // else {\n          //     exporter = makeExporter(root.Reflect, exporter);\n          // }\n          factory(exporter);\n          function makeExporter(target, previous) {\n              return function (key, value) {\n                  if (typeof target[key] !== \"function\") {\n                      Object.defineProperty(target, key, { configurable: true, writable: true, value: value });\n                  }\n                  if (previous)\n                      previous(key, value);\n              };\n          }\n      })(function (exporter) {\n          var hasOwn = Object.prototype.hasOwnProperty;\n          // feature test for Symbol support\n          var supportsSymbol = typeof Symbol === \"function\";\n          var toPrimitiveSymbol = supportsSymbol && typeof Symbol.toPrimitive !== \"undefined\" ? Symbol.toPrimitive : \"@@toPrimitive\";\n          var iteratorSymbol = supportsSymbol && typeof Symbol.iterator !== \"undefined\" ? Symbol.iterator : \"@@iterator\";\n          var supportsCreate = typeof Object.create === \"function\"; // feature test for Object.create support\n          var supportsProto = { __proto__: [] } instanceof Array; // feature test for __proto__ support\n          var downLevel = !supportsCreate && !supportsProto;\n          var HashMap = {\n              // create an object in dictionary mode (a.k.a. \"slow\" mode in v8)\n              create: supportsCreate\n                  ? function () { return MakeDictionary(Object.create(null)); }\n                  : supportsProto\n                      ? function () { return MakeDictionary({ __proto__: null }); }\n                      : function () { return MakeDictionary({}); },\n              has: downLevel\n                  ? function (map, key) { return hasOwn.call(map, key); }\n                  : function (map, key) { return key in map; },\n              get: downLevel\n                  ? function (map, key) { return hasOwn.call(map, key) ? map[key] : undefined; }\n                  : function (map, key) { return map[key]; },\n          };\n          // Load global or shim versions of Map, Set, and WeakMap\n          var functionPrototype = Object.getPrototypeOf(Function);\n          var usePolyfill = typeof process === \"object\" && process.env && process.env[\"REFLECT_METADATA_USE_MAP_POLYFILL\"] === \"true\";\n          var _Map = !usePolyfill && typeof Map === \"function\" && typeof Map.prototype.entries === \"function\" ? Map : CreateMapPolyfill();\n          var _Set = !usePolyfill && typeof Set === \"function\" && typeof Set.prototype.entries === \"function\" ? Set : CreateSetPolyfill();\n          var _WeakMap = !usePolyfill && typeof WeakMap === \"function\" ? WeakMap : CreateWeakMapPolyfill();\n          // [[Metadata]] internal slot\n          // https://rbuckton.github.io/reflect-metadata/#ordinary-object-internal-methods-and-internal-slots\n          var Metadata = new _WeakMap();\n          /**\n           * Applies a set of decorators to a property of a target object.\n           * @param decorators An array of decorators.\n           * @param target The target object.\n           * @param propertyKey (Optional) The property key to decorate.\n           * @param attributes (Optional) The property descriptor for the target key.\n           * @remarks Decorators are applied in reverse order.\n           * @example\n           *\n           *     class Example {\n           *         // property declarations are not part of ES6, though they are valid in TypeScript:\n           *         // static staticProperty;\n           *         // property;\n           *\n           *         constructor(p) { }\n           *         static staticMethod(p) { }\n           *         method(p) { }\n           *     }\n           *\n           *     // constructor\n           *     Example = Reflect.decorate(decoratorsArray, Example);\n           *\n           *     // property (on constructor)\n           *     Reflect.decorate(decoratorsArray, Example, \"staticProperty\");\n           *\n           *     // property (on prototype)\n           *     Reflect.decorate(decoratorsArray, Example.prototype, \"property\");\n           *\n           *     // method (on constructor)\n           *     Object.defineProperty(Example, \"staticMethod\",\n           *         Reflect.decorate(decoratorsArray, Example, \"staticMethod\",\n           *             Object.getOwnPropertyDescriptor(Example, \"staticMethod\")));\n           *\n           *     // method (on prototype)\n           *     Object.defineProperty(Example.prototype, \"method\",\n           *         Reflect.decorate(decoratorsArray, Example.prototype, \"method\",\n           *             Object.getOwnPropertyDescriptor(Example.prototype, \"method\")));\n           *\n           */\n          function decorate(decorators, target, propertyKey, attributes) {\n              if (!IsUndefined(propertyKey)) {\n                  if (!IsArray(decorators))\n                      throw new TypeError();\n                  if (!IsObject(target))\n                      throw new TypeError();\n                  if (!IsObject(attributes) && !IsUndefined(attributes) && !IsNull(attributes))\n                      throw new TypeError();\n                  if (IsNull(attributes))\n                      attributes = undefined;\n                  propertyKey = ToPropertyKey(propertyKey);\n                  return DecorateProperty(decorators, target, propertyKey, attributes);\n              }\n              else {\n                  if (!IsArray(decorators))\n                      throw new TypeError();\n                  if (!IsConstructor(target))\n                      throw new TypeError();\n                  return DecorateConstructor(decorators, target);\n              }\n          }\n          exporter(\"decorate\", decorate);\n          // 4.1.2 Reflect.metadata(metadataKey, metadataValue)\n          // https://rbuckton.github.io/reflect-metadata/#reflect.metadata\n          /**\n           * A default metadata decorator factory that can be used on a class, class member, or parameter.\n           * @param metadataKey The key for the metadata entry.\n           * @param metadataValue The value for the metadata entry.\n           * @returns A decorator function.\n           * @remarks\n           * If `metadataKey` is already defined for the target and target key, the\n           * metadataValue for that key will be overwritten.\n           * @example\n           *\n           *     // constructor\n           *     @Reflect.metadata(key, value)\n           *     class Example {\n           *     }\n           *\n           *     // property (on constructor, TypeScript only)\n           *     class Example {\n           *         @Reflect.metadata(key, value)\n           *         static staticProperty;\n           *     }\n           *\n           *     // property (on prototype, TypeScript only)\n           *     class Example {\n           *         @Reflect.metadata(key, value)\n           *         property;\n           *     }\n           *\n           *     // method (on constructor)\n           *     class Example {\n           *         @Reflect.metadata(key, value)\n           *         static staticMethod() { }\n           *     }\n           *\n           *     // method (on prototype)\n           *     class Example {\n           *         @Reflect.metadata(key, value)\n           *         method() { }\n           *     }\n           *\n           */\n          function metadata(metadataKey, metadataValue) {\n              function decorator(target, propertyKey) {\n                  if (!IsObject(target))\n                      throw new TypeError();\n                  if (!IsUndefined(propertyKey) && !IsPropertyKey(propertyKey))\n                      throw new TypeError();\n                  OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);\n              }\n              return decorator;\n          }\n          exporter(\"metadata\", metadata);\n          /**\n           * Define a unique metadata entry on the target.\n           * @param metadataKey A key used to store and retrieve metadata.\n           * @param metadataValue A value that contains attached metadata.\n           * @param target The target object on which to define metadata.\n           * @param propertyKey (Optional) The property key for the target.\n           * @example\n           *\n           *     class Example {\n           *         // property declarations are not part of ES6, though they are valid in TypeScript:\n           *         // static staticProperty;\n           *         // property;\n           *\n           *         constructor(p) { }\n           *         static staticMethod(p) { }\n           *         method(p) { }\n           *     }\n           *\n           *     // constructor\n           *     Reflect.defineMetadata(\"custom:annotation\", options, Example);\n           *\n           *     // property (on constructor)\n           *     Reflect.defineMetadata(\"custom:annotation\", options, Example, \"staticProperty\");\n           *\n           *     // property (on prototype)\n           *     Reflect.defineMetadata(\"custom:annotation\", options, Example.prototype, \"property\");\n           *\n           *     // method (on constructor)\n           *     Reflect.defineMetadata(\"custom:annotation\", options, Example, \"staticMethod\");\n           *\n           *     // method (on prototype)\n           *     Reflect.defineMetadata(\"custom:annotation\", options, Example.prototype, \"method\");\n           *\n           *     // decorator factory as metadata-producing annotation.\n           *     function MyAnnotation(options): Decorator {\n           *         return (target, key?) => Reflect.defineMetadata(\"custom:annotation\", options, target, key);\n           *     }\n           *\n           */\n          function defineMetadata(metadataKey, metadataValue, target, propertyKey) {\n              if (!IsObject(target))\n                  throw new TypeError();\n              if (!IsUndefined(propertyKey))\n                  propertyKey = ToPropertyKey(propertyKey);\n              return OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);\n          }\n          exporter(\"defineMetadata\", defineMetadata);\n          /**\n           * Gets a value indicating whether the target object or its prototype chain has the provided metadata key defined.\n           * @param metadataKey A key used to store and retrieve metadata.\n           * @param target The target object on which the metadata is defined.\n           * @param propertyKey (Optional) The property key for the target.\n           * @returns `true` if the metadata key was defined on the target object or its prototype chain; otherwise, `false`.\n           * @example\n           *\n           *     class Example {\n           *         // property declarations are not part of ES6, though they are valid in TypeScript:\n           *         // static staticProperty;\n           *         // property;\n           *\n           *         constructor(p) { }\n           *         static staticMethod(p) { }\n           *         method(p) { }\n           *     }\n           *\n           *     // constructor\n           *     result = Reflect.hasMetadata(\"custom:annotation\", Example);\n           *\n           *     // property (on constructor)\n           *     result = Reflect.hasMetadata(\"custom:annotation\", Example, \"staticProperty\");\n           *\n           *     // property (on prototype)\n           *     result = Reflect.hasMetadata(\"custom:annotation\", Example.prototype, \"property\");\n           *\n           *     // method (on constructor)\n           *     result = Reflect.hasMetadata(\"custom:annotation\", Example, \"staticMethod\");\n           *\n           *     // method (on prototype)\n           *     result = Reflect.hasMetadata(\"custom:annotation\", Example.prototype, \"method\");\n           *\n           */\n          function hasMetadata(metadataKey, target, propertyKey) {\n              if (!IsObject(target))\n                  throw new TypeError();\n              if (!IsUndefined(propertyKey))\n                  propertyKey = ToPropertyKey(propertyKey);\n              return OrdinaryHasMetadata(metadataKey, target, propertyKey);\n          }\n          exporter(\"hasMetadata\", hasMetadata);\n          /**\n           * Gets a value indicating whether the target object has the provided metadata key defined.\n           * @param metadataKey A key used to store and retrieve metadata.\n           * @param target The target object on which the metadata is defined.\n           * @param propertyKey (Optional) The property key for the target.\n           * @returns `true` if the metadata key was defined on the target object; otherwise, `false`.\n           * @example\n           *\n           *     class Example {\n           *         // property declarations are not part of ES6, though they are valid in TypeScript:\n           *         // static staticProperty;\n           *         // property;\n           *\n           *         constructor(p) { }\n           *         static staticMethod(p) { }\n           *         method(p) { }\n           *     }\n           *\n           *     // constructor\n           *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example);\n           *\n           *     // property (on constructor)\n           *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example, \"staticProperty\");\n           *\n           *     // property (on prototype)\n           *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example.prototype, \"property\");\n           *\n           *     // method (on constructor)\n           *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example, \"staticMethod\");\n           *\n           *     // method (on prototype)\n           *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example.prototype, \"method\");\n           *\n           */\n          function hasOwnMetadata(metadataKey, target, propertyKey) {\n              if (!IsObject(target))\n                  throw new TypeError();\n              if (!IsUndefined(propertyKey))\n                  propertyKey = ToPropertyKey(propertyKey);\n              return OrdinaryHasOwnMetadata(metadataKey, target, propertyKey);\n          }\n          exporter(\"hasOwnMetadata\", hasOwnMetadata);\n          /**\n           * Gets the metadata value for the provided metadata key on the target object or its prototype chain.\n           * @param metadataKey A key used to store and retrieve metadata.\n           * @param target The target object on which the metadata is defined.\n           * @param propertyKey (Optional) The property key for the target.\n           * @returns The metadata value for the metadata key if found; otherwise, `undefined`.\n           * @example\n           *\n           *     class Example {\n           *         // property declarations are not part of ES6, though they are valid in TypeScript:\n           *         // static staticProperty;\n           *         // property;\n           *\n           *         constructor(p) { }\n           *         static staticMethod(p) { }\n           *         method(p) { }\n           *     }\n           *\n           *     // constructor\n           *     result = Reflect.getMetadata(\"custom:annotation\", Example);\n           *\n           *     // property (on constructor)\n           *     result = Reflect.getMetadata(\"custom:annotation\", Example, \"staticProperty\");\n           *\n           *     // property (on prototype)\n           *     result = Reflect.getMetadata(\"custom:annotation\", Example.prototype, \"property\");\n           *\n           *     // method (on constructor)\n           *     result = Reflect.getMetadata(\"custom:annotation\", Example, \"staticMethod\");\n           *\n           *     // method (on prototype)\n           *     result = Reflect.getMetadata(\"custom:annotation\", Example.prototype, \"method\");\n           *\n           */\n          function getMetadata(metadataKey, target, propertyKey) {\n              if (!IsObject(target))\n                  throw new TypeError();\n              if (!IsUndefined(propertyKey))\n                  propertyKey = ToPropertyKey(propertyKey);\n              return OrdinaryGetMetadata(metadataKey, target, propertyKey);\n          }\n          exporter(\"getMetadata\", getMetadata);\n          /**\n           * Gets the metadata value for the provided metadata key on the target object.\n           * @param metadataKey A key used to store and retrieve metadata.\n           * @param target The target object on which the metadata is defined.\n           * @param propertyKey (Optional) The property key for the target.\n           * @returns The metadata value for the metadata key if found; otherwise, `undefined`.\n           * @example\n           *\n           *     class Example {\n           *         // property declarations are not part of ES6, though they are valid in TypeScript:\n           *         // static staticProperty;\n           *         // property;\n           *\n           *         constructor(p) { }\n           *         static staticMethod(p) { }\n           *         method(p) { }\n           *     }\n           *\n           *     // constructor\n           *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example);\n           *\n           *     // property (on constructor)\n           *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example, \"staticProperty\");\n           *\n           *     // property (on prototype)\n           *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example.prototype, \"property\");\n           *\n           *     // method (on constructor)\n           *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example, \"staticMethod\");\n           *\n           *     // method (on prototype)\n           *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example.prototype, \"method\");\n           *\n           */\n          function getOwnMetadata(metadataKey, target, propertyKey) {\n              if (!IsObject(target))\n                  throw new TypeError();\n              if (!IsUndefined(propertyKey))\n                  propertyKey = ToPropertyKey(propertyKey);\n              return OrdinaryGetOwnMetadata(metadataKey, target, propertyKey);\n          }\n          exporter(\"getOwnMetadata\", getOwnMetadata);\n          /**\n           * Gets the metadata keys defined on the target object or its prototype chain.\n           * @param target The target object on which the metadata is defined.\n           * @param propertyKey (Optional) The property key for the target.\n           * @returns An array of unique metadata keys.\n           * @example\n           *\n           *     class Example {\n           *         // property declarations are not part of ES6, though they are valid in TypeScript:\n           *         // static staticProperty;\n           *         // property;\n           *\n           *         constructor(p) { }\n           *         static staticMethod(p) { }\n           *         method(p) { }\n           *     }\n           *\n           *     // constructor\n           *     result = Reflect.getMetadataKeys(Example);\n           *\n           *     // property (on constructor)\n           *     result = Reflect.getMetadataKeys(Example, \"staticProperty\");\n           *\n           *     // property (on prototype)\n           *     result = Reflect.getMetadataKeys(Example.prototype, \"property\");\n           *\n           *     // method (on constructor)\n           *     result = Reflect.getMetadataKeys(Example, \"staticMethod\");\n           *\n           *     // method (on prototype)\n           *     result = Reflect.getMetadataKeys(Example.prototype, \"method\");\n           *\n           */\n          function getMetadataKeys(target, propertyKey) {\n              if (!IsObject(target))\n                  throw new TypeError();\n              if (!IsUndefined(propertyKey))\n                  propertyKey = ToPropertyKey(propertyKey);\n              return OrdinaryMetadataKeys(target, propertyKey);\n          }\n          exporter(\"getMetadataKeys\", getMetadataKeys);\n          /**\n           * Gets the unique metadata keys defined on the target object.\n           * @param target The target object on which the metadata is defined.\n           * @param propertyKey (Optional) The property key for the target.\n           * @returns An array of unique metadata keys.\n           * @example\n           *\n           *     class Example {\n           *         // property declarations are not part of ES6, though they are valid in TypeScript:\n           *         // static staticProperty;\n           *         // property;\n           *\n           *         constructor(p) { }\n           *         static staticMethod(p) { }\n           *         method(p) { }\n           *     }\n           *\n           *     // constructor\n           *     result = Reflect.getOwnMetadataKeys(Example);\n           *\n           *     // property (on constructor)\n           *     result = Reflect.getOwnMetadataKeys(Example, \"staticProperty\");\n           *\n           *     // property (on prototype)\n           *     result = Reflect.getOwnMetadataKeys(Example.prototype, \"property\");\n           *\n           *     // method (on constructor)\n           *     result = Reflect.getOwnMetadataKeys(Example, \"staticMethod\");\n           *\n           *     // method (on prototype)\n           *     result = Reflect.getOwnMetadataKeys(Example.prototype, \"method\");\n           *\n           */\n          function getOwnMetadataKeys(target, propertyKey) {\n              if (!IsObject(target))\n                  throw new TypeError();\n              if (!IsUndefined(propertyKey))\n                  propertyKey = ToPropertyKey(propertyKey);\n              return OrdinaryOwnMetadataKeys(target, propertyKey);\n          }\n          exporter(\"getOwnMetadataKeys\", getOwnMetadataKeys);\n          /**\n           * Deletes the metadata entry from the target object with the provided key.\n           * @param metadataKey A key used to store and retrieve metadata.\n           * @param target The target object on which the metadata is defined.\n           * @param propertyKey (Optional) The property key for the target.\n           * @returns `true` if the metadata entry was found and deleted; otherwise, false.\n           * @example\n           *\n           *     class Example {\n           *         // property declarations are not part of ES6, though they are valid in TypeScript:\n           *         // static staticProperty;\n           *         // property;\n           *\n           *         constructor(p) { }\n           *         static staticMethod(p) { }\n           *         method(p) { }\n           *     }\n           *\n           *     // constructor\n           *     result = Reflect.deleteMetadata(\"custom:annotation\", Example);\n           *\n           *     // property (on constructor)\n           *     result = Reflect.deleteMetadata(\"custom:annotation\", Example, \"staticProperty\");\n           *\n           *     // property (on prototype)\n           *     result = Reflect.deleteMetadata(\"custom:annotation\", Example.prototype, \"property\");\n           *\n           *     // method (on constructor)\n           *     result = Reflect.deleteMetadata(\"custom:annotation\", Example, \"staticMethod\");\n           *\n           *     // method (on prototype)\n           *     result = Reflect.deleteMetadata(\"custom:annotation\", Example.prototype, \"method\");\n           *\n           */\n          function deleteMetadata(metadataKey, target, propertyKey) {\n              if (!IsObject(target))\n                  throw new TypeError();\n              if (!IsUndefined(propertyKey))\n                  propertyKey = ToPropertyKey(propertyKey);\n              var metadataMap = GetOrCreateMetadataMap(target, propertyKey, /*Create*/ false);\n              if (IsUndefined(metadataMap))\n                  return false;\n              if (!metadataMap.delete(metadataKey))\n                  return false;\n              if (metadataMap.size > 0)\n                  return true;\n              var targetMetadata = Metadata.get(target);\n              targetMetadata.delete(propertyKey);\n              if (targetMetadata.size > 0)\n                  return true;\n              Metadata.delete(target);\n              return true;\n          }\n          exporter(\"deleteMetadata\", deleteMetadata);\n          function DecorateConstructor(decorators, target) {\n              for (var i = decorators.length - 1; i >= 0; --i) {\n                  var decorator = decorators[i];\n                  var decorated = decorator(target);\n                  if (!IsUndefined(decorated) && !IsNull(decorated)) {\n                      if (!IsConstructor(decorated))\n                          throw new TypeError();\n                      target = decorated;\n                  }\n              }\n              return target;\n          }\n          function DecorateProperty(decorators, target, propertyKey, descriptor) {\n              for (var i = decorators.length - 1; i >= 0; --i) {\n                  var decorator = decorators[i];\n                  var decorated = decorator(target, propertyKey, descriptor);\n                  if (!IsUndefined(decorated) && !IsNull(decorated)) {\n                      if (!IsObject(decorated))\n                          throw new TypeError();\n                      descriptor = decorated;\n                  }\n              }\n              return descriptor;\n          }\n          function GetOrCreateMetadataMap(O, P, Create) {\n              var targetMetadata = Metadata.get(O);\n              if (IsUndefined(targetMetadata)) {\n                  if (!Create)\n                      return undefined;\n                  targetMetadata = new _Map();\n                  Metadata.set(O, targetMetadata);\n              }\n              var metadataMap = targetMetadata.get(P);\n              if (IsUndefined(metadataMap)) {\n                  if (!Create)\n                      return undefined;\n                  metadataMap = new _Map();\n                  targetMetadata.set(P, metadataMap);\n              }\n              return metadataMap;\n          }\n          // 3.1.1.1 OrdinaryHasMetadata(MetadataKey, O, P)\n          // https://rbuckton.github.io/reflect-metadata/#ordinaryhasmetadata\n          function OrdinaryHasMetadata(MetadataKey, O, P) {\n              var hasOwn = OrdinaryHasOwnMetadata(MetadataKey, O, P);\n              if (hasOwn)\n                  return true;\n              var parent = OrdinaryGetPrototypeOf(O);\n              if (!IsNull(parent))\n                  return OrdinaryHasMetadata(MetadataKey, parent, P);\n              return false;\n          }\n          // 3.1.2.1 OrdinaryHasOwnMetadata(MetadataKey, O, P)\n          // https://rbuckton.github.io/reflect-metadata/#ordinaryhasownmetadata\n          function OrdinaryHasOwnMetadata(MetadataKey, O, P) {\n              var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n              if (IsUndefined(metadataMap))\n                  return false;\n              return ToBoolean(metadataMap.has(MetadataKey));\n          }\n          // 3.1.3.1 OrdinaryGetMetadata(MetadataKey, O, P)\n          // https://rbuckton.github.io/reflect-metadata/#ordinarygetmetadata\n          function OrdinaryGetMetadata(MetadataKey, O, P) {\n              var hasOwn = OrdinaryHasOwnMetadata(MetadataKey, O, P);\n              if (hasOwn)\n                  return OrdinaryGetOwnMetadata(MetadataKey, O, P);\n              var parent = OrdinaryGetPrototypeOf(O);\n              if (!IsNull(parent))\n                  return OrdinaryGetMetadata(MetadataKey, parent, P);\n              return undefined;\n          }\n          // 3.1.4.1 OrdinaryGetOwnMetadata(MetadataKey, O, P)\n          // https://rbuckton.github.io/reflect-metadata/#ordinarygetownmetadata\n          function OrdinaryGetOwnMetadata(MetadataKey, O, P) {\n              var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n              if (IsUndefined(metadataMap))\n                  return undefined;\n              return metadataMap.get(MetadataKey);\n          }\n          // 3.1.5.1 OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P)\n          // https://rbuckton.github.io/reflect-metadata/#ordinarydefineownmetadata\n          function OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P) {\n              var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ true);\n              metadataMap.set(MetadataKey, MetadataValue);\n          }\n          // 3.1.6.1 OrdinaryMetadataKeys(O, P)\n          // https://rbuckton.github.io/reflect-metadata/#ordinarymetadatakeys\n          function OrdinaryMetadataKeys(O, P) {\n              var ownKeys = OrdinaryOwnMetadataKeys(O, P);\n              var parent = OrdinaryGetPrototypeOf(O);\n              if (parent === null)\n                  return ownKeys;\n              var parentKeys = OrdinaryMetadataKeys(parent, P);\n              if (parentKeys.length <= 0)\n                  return ownKeys;\n              if (ownKeys.length <= 0)\n                  return parentKeys;\n              var set = new _Set();\n              var keys = [];\n              for (var _i = 0, ownKeys_1 = ownKeys; _i < ownKeys_1.length; _i++) {\n                  var key = ownKeys_1[_i];\n                  var hasKey = set.has(key);\n                  if (!hasKey) {\n                      set.add(key);\n                      keys.push(key);\n                  }\n              }\n              for (var _a = 0, parentKeys_1 = parentKeys; _a < parentKeys_1.length; _a++) {\n                  var key = parentKeys_1[_a];\n                  var hasKey = set.has(key);\n                  if (!hasKey) {\n                      set.add(key);\n                      keys.push(key);\n                  }\n              }\n              return keys;\n          }\n          // 3.1.7.1 OrdinaryOwnMetadataKeys(O, P)\n          // https://rbuckton.github.io/reflect-metadata/#ordinaryownmetadatakeys\n          function OrdinaryOwnMetadataKeys(O, P) {\n              var keys = [];\n              var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n              if (IsUndefined(metadataMap))\n                  return keys;\n              var keysObj = metadataMap.keys();\n              var iterator = GetIterator(keysObj);\n              var k = 0;\n              while (true) {\n                  var next = IteratorStep(iterator);\n                  if (!next) {\n                      keys.length = k;\n                      return keys;\n                  }\n                  var nextValue = IteratorValue(next);\n                  try {\n                      keys[k] = nextValue;\n                  }\n                  catch (e) {\n                      try {\n                          IteratorClose(iterator);\n                      }\n                      finally {\n                          throw e;\n                      }\n                  }\n                  k++;\n              }\n          }\n          // 6 ECMAScript Data Typ0es and Values\n          // https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values\n          function Type(x) {\n              if (x === null)\n                  return 1 /* Null */;\n              switch (typeof x) {\n                  case \"undefined\": return 0 /* Undefined */;\n                  case \"boolean\": return 2 /* Boolean */;\n                  case \"string\": return 3 /* String */;\n                  case \"symbol\": return 4 /* Symbol */;\n                  case \"number\": return 5 /* Number */;\n                  case \"object\": return x === null ? 1 /* Null */ : 6 /* Object */;\n                  default: return 6 /* Object */;\n              }\n          }\n          // 6.1.1 The Undefined Type\n          // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-undefined-type\n          function IsUndefined(x) {\n              return x === undefined;\n          }\n          // 6.1.2 The Null Type\n          // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-null-type\n          function IsNull(x) {\n              return x === null;\n          }\n          // 6.1.5 The Symbol Type\n          // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-symbol-type\n          function IsSymbol(x) {\n              return typeof x === \"symbol\";\n          }\n          // 6.1.7 The Object Type\n          // https://tc39.github.io/ecma262/#sec-object-type\n          function IsObject(x) {\n              return typeof x === \"object\" ? x !== null : typeof x === \"function\";\n          }\n          // 7.1 Type Conversion\n          // https://tc39.github.io/ecma262/#sec-type-conversion\n          // 7.1.1 ToPrimitive(input [, PreferredType])\n          // https://tc39.github.io/ecma262/#sec-toprimitive\n          function ToPrimitive(input, PreferredType) {\n              switch (Type(input)) {\n                  case 0 /* Undefined */: return input;\n                  case 1 /* Null */: return input;\n                  case 2 /* Boolean */: return input;\n                  case 3 /* String */: return input;\n                  case 4 /* Symbol */: return input;\n                  case 5 /* Number */: return input;\n              }\n              var hint = PreferredType === 3 /* String */ ? \"string\" : PreferredType === 5 /* Number */ ? \"number\" : \"default\";\n              var exoticToPrim = GetMethod(input, toPrimitiveSymbol);\n              if (exoticToPrim !== undefined) {\n                  var result = exoticToPrim.call(input, hint);\n                  if (IsObject(result))\n                      throw new TypeError();\n                  return result;\n              }\n              return OrdinaryToPrimitive(input, hint === \"default\" ? \"number\" : hint);\n          }\n          // 7.1.1.1 OrdinaryToPrimitive(O, hint)\n          // https://tc39.github.io/ecma262/#sec-ordinarytoprimitive\n          function OrdinaryToPrimitive(O, hint) {\n              if (hint === \"string\") {\n                  var toString_1 = O.toString;\n                  if (IsCallable(toString_1)) {\n                      var result = toString_1.call(O);\n                      if (!IsObject(result))\n                          return result;\n                  }\n                  var valueOf = O.valueOf;\n                  if (IsCallable(valueOf)) {\n                      var result = valueOf.call(O);\n                      if (!IsObject(result))\n                          return result;\n                  }\n              }\n              else {\n                  var valueOf = O.valueOf;\n                  if (IsCallable(valueOf)) {\n                      var result = valueOf.call(O);\n                      if (!IsObject(result))\n                          return result;\n                  }\n                  var toString_2 = O.toString;\n                  if (IsCallable(toString_2)) {\n                      var result = toString_2.call(O);\n                      if (!IsObject(result))\n                          return result;\n                  }\n              }\n              throw new TypeError();\n          }\n          // 7.1.2 ToBoolean(argument)\n          // https://tc39.github.io/ecma262/2016/#sec-toboolean\n          function ToBoolean(argument) {\n              return !!argument;\n          }\n          // 7.1.12 ToString(argument)\n          // https://tc39.github.io/ecma262/#sec-tostring\n          function ToString(argument) {\n              return \"\" + argument;\n          }\n          // 7.1.14 ToPropertyKey(argument)\n          // https://tc39.github.io/ecma262/#sec-topropertykey\n          function ToPropertyKey(argument) {\n              var key = ToPrimitive(argument, 3 /* String */);\n              if (IsSymbol(key))\n                  return key;\n              return ToString(key);\n          }\n          // 7.2 Testing and Comparison Operations\n          // https://tc39.github.io/ecma262/#sec-testing-and-comparison-operations\n          // 7.2.2 IsArray(argument)\n          // https://tc39.github.io/ecma262/#sec-isarray\n          function IsArray(argument) {\n              return Array.isArray\n                  ? Array.isArray(argument)\n                  : argument instanceof Object\n                      ? argument instanceof Array\n                      : Object.prototype.toString.call(argument) === \"[object Array]\";\n          }\n          // 7.2.3 IsCallable(argument)\n          // https://tc39.github.io/ecma262/#sec-iscallable\n          function IsCallable(argument) {\n              // NOTE: This is an approximation as we cannot check for [[Call]] internal method.\n              return typeof argument === \"function\";\n          }\n          // 7.2.4 IsConstructor(argument)\n          // https://tc39.github.io/ecma262/#sec-isconstructor\n          function IsConstructor(argument) {\n              // NOTE: This is an approximation as we cannot check for [[Construct]] internal method.\n              return typeof argument === \"function\";\n          }\n          // 7.2.7 IsPropertyKey(argument)\n          // https://tc39.github.io/ecma262/#sec-ispropertykey\n          function IsPropertyKey(argument) {\n              switch (Type(argument)) {\n                  case 3 /* String */: return true;\n                  case 4 /* Symbol */: return true;\n                  default: return false;\n              }\n          }\n          // 7.3 Operations on Objects\n          // https://tc39.github.io/ecma262/#sec-operations-on-objects\n          // 7.3.9 GetMethod(V, P)\n          // https://tc39.github.io/ecma262/#sec-getmethod\n          function GetMethod(V, P) {\n              var func = V[P];\n              if (func === undefined || func === null)\n                  return undefined;\n              if (!IsCallable(func))\n                  throw new TypeError();\n              return func;\n          }\n          // 7.4 Operations on Iterator Objects\n          // https://tc39.github.io/ecma262/#sec-operations-on-iterator-objects\n          function GetIterator(obj) {\n              var method = GetMethod(obj, iteratorSymbol);\n              if (!IsCallable(method))\n                  throw new TypeError(); // from Call\n              var iterator = method.call(obj);\n              if (!IsObject(iterator))\n                  throw new TypeError();\n              return iterator;\n          }\n          // 7.4.4 IteratorValue(iterResult)\n          // https://tc39.github.io/ecma262/2016/#sec-iteratorvalue\n          function IteratorValue(iterResult) {\n              return iterResult.value;\n          }\n          // 7.4.5 IteratorStep(iterator)\n          // https://tc39.github.io/ecma262/#sec-iteratorstep\n          function IteratorStep(iterator) {\n              var result = iterator.next();\n              return result.done ? false : result;\n          }\n          // 7.4.6 IteratorClose(iterator, completion)\n          // https://tc39.github.io/ecma262/#sec-iteratorclose\n          function IteratorClose(iterator) {\n              var f = iterator[\"return\"];\n              if (f)\n                  f.call(iterator);\n          }\n          // 9.1 Ordinary Object Internal Methods and Internal Slots\n          // https://tc39.github.io/ecma262/#sec-ordinary-object-internal-methods-and-internal-slots\n          // 9.1.1.1 OrdinaryGetPrototypeOf(O)\n          // https://tc39.github.io/ecma262/#sec-ordinarygetprototypeof\n          function OrdinaryGetPrototypeOf(O) {\n              var proto = Object.getPrototypeOf(O);\n              if (typeof O !== \"function\" || O === functionPrototype)\n                  return proto;\n              // TypeScript doesn't set __proto__ in ES5, as it's non-standard.\n              // Try to determine the superclass constructor. Compatible implementations\n              // must either set __proto__ on a subclass constructor to the superclass constructor,\n              // or ensure each class has a valid `constructor` property on its prototype that\n              // points back to the constructor.\n              // If this is not the same as Function.[[Prototype]], then this is definately inherited.\n              // This is the case when in ES6 or when using __proto__ in a compatible browser.\n              if (proto !== functionPrototype)\n                  return proto;\n              // If the super prototype is Object.prototype, null, or undefined, then we cannot determine the heritage.\n              var prototype = O.prototype;\n              var prototypeProto = prototype && Object.getPrototypeOf(prototype);\n              if (prototypeProto == null || prototypeProto === Object.prototype)\n                  return proto;\n              // If the constructor was not a function, then we cannot determine the heritage.\n              var constructor = prototypeProto.constructor;\n              if (typeof constructor !== \"function\")\n                  return proto;\n              // If we have some kind of self-reference, then we cannot determine the heritage.\n              if (constructor === O)\n                  return proto;\n              // we have a pretty good guess at the heritage.\n              return constructor;\n          }\n          // naive Map shim\n          function CreateMapPolyfill() {\n              var cacheSentinel = {};\n              var arraySentinel = [];\n              var MapIterator = /** @class */ (function () {\n                  function MapIterator(keys, values, selector) {\n                      this._index = 0;\n                      this._keys = keys;\n                      this._values = values;\n                      this._selector = selector;\n                  }\n                  MapIterator.prototype[\"@@iterator\"] = function () { return this; };\n                  MapIterator.prototype[iteratorSymbol] = function () { return this; };\n                  MapIterator.prototype.next = function () {\n                      var index = this._index;\n                      if (index >= 0 && index < this._keys.length) {\n                          var result = this._selector(this._keys[index], this._values[index]);\n                          if (index + 1 >= this._keys.length) {\n                              this._index = -1;\n                              this._keys = arraySentinel;\n                              this._values = arraySentinel;\n                          }\n                          else {\n                              this._index++;\n                          }\n                          return { value: result, done: false };\n                      }\n                      return { value: undefined, done: true };\n                  };\n                  MapIterator.prototype.throw = function (error) {\n                      if (this._index >= 0) {\n                          this._index = -1;\n                          this._keys = arraySentinel;\n                          this._values = arraySentinel;\n                      }\n                      throw error;\n                  };\n                  MapIterator.prototype.return = function (value) {\n                      if (this._index >= 0) {\n                          this._index = -1;\n                          this._keys = arraySentinel;\n                          this._values = arraySentinel;\n                      }\n                      return { value: value, done: true };\n                  };\n                  return MapIterator;\n              }());\n              return /** @class */ (function () {\n                  function Map() {\n                      this._keys = [];\n                      this._values = [];\n                      this._cacheKey = cacheSentinel;\n                      this._cacheIndex = -2;\n                  }\n                  Object.defineProperty(Map.prototype, \"size\", {\n                      get: function () { return this._keys.length; },\n                      enumerable: true,\n                      configurable: true\n                  });\n                  Map.prototype.has = function (key) { return this._find(key, /*insert*/ false) >= 0; };\n                  Map.prototype.get = function (key) {\n                      var index = this._find(key, /*insert*/ false);\n                      return index >= 0 ? this._values[index] : undefined;\n                  };\n                  Map.prototype.set = function (key, value) {\n                      var index = this._find(key, /*insert*/ true);\n                      this._values[index] = value;\n                      return this;\n                  };\n                  Map.prototype.delete = function (key) {\n                      var index = this._find(key, /*insert*/ false);\n                      if (index >= 0) {\n                          var size = this._keys.length;\n                          for (var i = index + 1; i < size; i++) {\n                              this._keys[i - 1] = this._keys[i];\n                              this._values[i - 1] = this._values[i];\n                          }\n                          this._keys.length--;\n                          this._values.length--;\n                          if (key === this._cacheKey) {\n                              this._cacheKey = cacheSentinel;\n                              this._cacheIndex = -2;\n                          }\n                          return true;\n                      }\n                      return false;\n                  };\n                  Map.prototype.clear = function () {\n                      this._keys.length = 0;\n                      this._values.length = 0;\n                      this._cacheKey = cacheSentinel;\n                      this._cacheIndex = -2;\n                  };\n                  Map.prototype.keys = function () { return new MapIterator(this._keys, this._values, getKey); };\n                  Map.prototype.values = function () { return new MapIterator(this._keys, this._values, getValue); };\n                  Map.prototype.entries = function () { return new MapIterator(this._keys, this._values, getEntry); };\n                  Map.prototype[\"@@iterator\"] = function () { return this.entries(); };\n                  Map.prototype[iteratorSymbol] = function () { return this.entries(); };\n                  Map.prototype._find = function (key, insert) {\n                      if (this._cacheKey !== key) {\n                          this._cacheIndex = this._keys.indexOf(this._cacheKey = key);\n                      }\n                      if (this._cacheIndex < 0 && insert) {\n                          this._cacheIndex = this._keys.length;\n                          this._keys.push(key);\n                          this._values.push(undefined);\n                      }\n                      return this._cacheIndex;\n                  };\n                  return Map;\n              }());\n              function getKey(key, _) {\n                  return key;\n              }\n              function getValue(_, value) {\n                  return value;\n              }\n              function getEntry(key, value) {\n                  return [key, value];\n              }\n          }\n          // naive Set shim\n          function CreateSetPolyfill() {\n              return /** @class */ (function () {\n                  function Set() {\n                      this._map = new _Map();\n                  }\n                  Object.defineProperty(Set.prototype, \"size\", {\n                      get: function () { return this._map.size; },\n                      enumerable: true,\n                      configurable: true\n                  });\n                  Set.prototype.has = function (value) { return this._map.has(value); };\n                  Set.prototype.add = function (value) { return this._map.set(value, value), this; };\n                  Set.prototype.delete = function (value) { return this._map.delete(value); };\n                  Set.prototype.clear = function () { this._map.clear(); };\n                  Set.prototype.keys = function () { return this._map.keys(); };\n                  Set.prototype.values = function () { return this._map.values(); };\n                  Set.prototype.entries = function () { return this._map.entries(); };\n                  Set.prototype[\"@@iterator\"] = function () { return this.keys(); };\n                  Set.prototype[iteratorSymbol] = function () { return this.keys(); };\n                  return Set;\n              }());\n          }\n          // naive WeakMap shim\n          function CreateWeakMapPolyfill() {\n              var UUID_SIZE = 16;\n              var keys = HashMap.create();\n              var rootKey = CreateUniqueKey();\n              return /** @class */ (function () {\n                  function WeakMap() {\n                      this._key = CreateUniqueKey();\n                  }\n                  WeakMap.prototype.has = function (target) {\n                      var table = GetOrCreateWeakMapTable(target, /*create*/ false);\n                      return table !== undefined ? HashMap.has(table, this._key) : false;\n                  };\n                  WeakMap.prototype.get = function (target) {\n                      var table = GetOrCreateWeakMapTable(target, /*create*/ false);\n                      return table !== undefined ? HashMap.get(table, this._key) : undefined;\n                  };\n                  WeakMap.prototype.set = function (target, value) {\n                      var table = GetOrCreateWeakMapTable(target, /*create*/ true);\n                      table[this._key] = value;\n                      return this;\n                  };\n                  WeakMap.prototype.delete = function (target) {\n                      var table = GetOrCreateWeakMapTable(target, /*create*/ false);\n                      return table !== undefined ? delete table[this._key] : false;\n                  };\n                  WeakMap.prototype.clear = function () {\n                      // NOTE: not a real clear, just makes the previous data unreachable\n                      this._key = CreateUniqueKey();\n                  };\n                  return WeakMap;\n              }());\n              function CreateUniqueKey() {\n                  var key;\n                  do\n                      key = \"@@WeakMap@@\" + CreateUUID();\n                  while (HashMap.has(keys, key));\n                  keys[key] = true;\n                  return key;\n              }\n              function GetOrCreateWeakMapTable(target, create) {\n                  if (!hasOwn.call(target, rootKey)) {\n                      if (!create)\n                          return undefined;\n                      Object.defineProperty(target, rootKey, { value: HashMap.create() });\n                  }\n                  return target[rootKey];\n              }\n              function FillRandomBytes(buffer, size) {\n                  for (var i = 0; i < size; ++i)\n                      buffer[i] = Math.random() * 0xff | 0;\n                  return buffer;\n              }\n              function GenRandomBytes(size) {\n                  if (typeof Uint8Array === \"function\") {\n                      if (typeof crypto !== \"undefined\")\n                          return crypto.getRandomValues(new Uint8Array(size));\n                      if (typeof msCrypto !== \"undefined\")\n                          return msCrypto.getRandomValues(new Uint8Array(size));\n                      return FillRandomBytes(new Uint8Array(size), size);\n                  }\n                  return FillRandomBytes(new Array(size), size);\n              }\n              function CreateUUID() {\n                  var data = GenRandomBytes(UUID_SIZE);\n                  // mark as random - RFC 4122 § 4.4\n                  data[6] = data[6] & 0x4f | 0x40;\n                  data[8] = data[8] & 0xbf | 0x80;\n                  var result = \"\";\n                  for (var offset = 0; offset < UUID_SIZE; ++offset) {\n                      var byte = data[offset];\n                      if (offset === 4 || offset === 6 || offset === 8)\n                          result += \"-\";\n                      if (byte < 16)\n                          result += \"0\";\n                      result += byte.toString(16).toLowerCase();\n                  }\n                  return result;\n              }\n          }\n          // uses a heuristic used by v8 and chakra to force an object into dictionary mode.\n          function MakeDictionary(obj) {\n              obj.__ = undefined;\n              delete obj.__;\n              return obj;\n          }\n      });\n  })(Reflect || (Reflect = {}))\n}\n","const SERVICE_IDENTIFIER = {\n  TaroElement: 'TaroElement',\n  TaroElementFactory: 'Factory<TaroElement>',\n  TaroText: 'TaroText',\n  TaroTextFactory: 'Factory<TaroText>',\n  TaroNodeImpl: 'TaroNodeImpl',\n  TaroElementImpl: 'TaroElementImpl',\n  Hooks: 'hooks',\n  onRemoveAttribute: 'onRemoveAttribute',\n  getLifecycle: 'getLifecycle',\n  getPathIndex: 'getPathIndex',\n  getEventCenter: 'getEventCenter',\n  isBubbleEvents: 'isBubbleEvents',\n  getSpecialNodes: 'getSpecialNodes',\n  eventCenter: 'eventCenter',\n  modifyMpEvent: 'modifyMpEvent',\n  modifyTaroEvent: 'modifyTaroEvent',\n  batchedEventUpdates: 'batchedEventUpdates',\n  mergePageInstance: 'mergePageInstance',\n  createPullDownComponent: 'createPullDownComponent',\n  getDOMNode: 'getDOMNode',\n  initNativeApi: 'initNativeApi',\n  modifyHydrateData: 'modifyHydrateData',\n  modifySetAttrPayload: 'modifySetAttrPayload',\n  modifyRmAttrPayload: 'modifyRmAttrPayload',\n  onAddEvent: 'onAddEvent',\n  patchElement: 'patchElement'\n}\n\nexport default SERVICE_IDENTIFIER\n","export const PROPERTY_THRESHOLD = 2046\nexport const TARO_RUNTIME = 'Taro runtime'\nexport const HOOKS_APP_ID = 'taro-app'\nexport const SET_DATA = '小程序 setData'\nexport const PAGE_INIT = '页面初始化'\nexport const ROOT_STR = 'root'\nexport const HTML = 'html'\nexport const HEAD = 'head'\nexport const BODY = 'body'\nexport const APP = 'app'\nexport const CONTAINER = 'container'\nexport const DOCUMENT_ELEMENT_NAME = '#document'\nexport const DOCUMENT_FRAGMENT = 'document-fragment'\nexport const ID = 'id'\nexport const UID = 'uid'\nexport const CLASS = 'class'\nexport const STYLE = 'style'\nexport const FOCUS = 'focus'\nexport const VIEW = 'view'\nexport const STATIC_VIEW = 'static-view'\nexport const PURE_VIEW = 'pure-view'\nexport const PROPS = 'props'\nexport const DATASET = 'dataset'\nexport const OBJECT = 'object'\nexport const VALUE = 'value'\nexport const INPUT = 'input'\nexport const CHANGE = 'change'\nexport const CUSTOM_WRAPPER = 'custom-wrapper'\nexport const TARGET = 'target'\nexport const CURRENT_TARGET = 'currentTarget'\nexport const TYPE = 'type'\nexport const CONFIRM = 'confirm'\nexport const TIME_STAMP = 'timeStamp'\nexport const KEY_CODE = 'keyCode'\nexport const TOUCHMOVE = 'touchmove'\nexport const DATE = 'Date'\nexport const SET_TIMEOUT = 'setTimeout'\nexport const CATCHMOVE = 'catchMove'\nexport const CATCH_VIEW = 'catch-view'\nexport const COMMENT = 'comment'\n","import { Shortcuts } from '@tarojs/shared'\nimport { NodeType } from '../dom/node_types'\nimport {\n  ROOT_STR,\n  STYLE,\n  ID,\n  UID,\n  CLASS,\n  COMMENT\n} from '../constants'\n\nimport type { TaroElement } from '../dom/element'\nimport type { TaroText } from '../dom/text'\nimport type { TaroNode } from '../dom/node'\n\nexport const incrementId = () => {\n  let id = 0\n  return () => (id++).toString()\n}\n\nexport function isElement (node: TaroNode): node is TaroElement {\n  return node.nodeType === NodeType.ELEMENT_NODE\n}\n\nexport function isText (node: TaroNode): node is TaroText {\n  return node.nodeType === NodeType.TEXT_NODE\n}\n\nexport function isComment (node: TaroNode): boolean {\n  return node.nodeName === COMMENT\n}\n\nexport function isHasExtractProp (el: TaroElement): boolean {\n  const res = Object.keys(el.props).find(prop => {\n    return !(/^(class|style|id)$/.test(prop) || prop.startsWith('data-'))\n  })\n  return Boolean(res)\n}\n\n/**\n * 往上寻找组件树直到 root，寻找是否有祖先组件绑定了同类型的事件\n * @param node 当前组件\n * @param type 事件类型\n */\nexport function isParentBinded (node: TaroElement | null, type: string): boolean {\n  let res = false\n  while (node?.parentElement && node.parentElement._path !== ROOT_STR) {\n    if (node.parentElement.__handlers[type]?.length) {\n      res = true\n      break\n    }\n    node = node.parentElement\n  }\n  return res\n}\n\nexport function shortcutAttr (key: string): string {\n  switch (key) {\n    case STYLE:\n      return Shortcuts.Style\n    case ID:\n      return UID\n    case CLASS:\n      return Shortcuts.Class\n    default:\n      return key\n  }\n}\n","import { inject, injectable } from 'inversify'\nimport { isArray, isObject, warn } from '@tarojs/shared'\nimport SERVICE_IDENTIFIER from '../constants/identifiers'\n\nimport type { EventHandler, AddEventListenerOptions, IHooks } from '../interface'\n\n@injectable()\nexport class TaroEventTarget {\n  public __handlers: Record<string, EventHandler[]> = {}\n  public hooks: IHooks\n\n  public constructor (// eslint-disable-next-line @typescript-eslint/indent\n    @inject(SERVICE_IDENTIFIER.Hooks) hooks: IHooks\n  ) {\n    this.hooks = hooks\n  }\n\n  public addEventListener (type: string, handler: EventHandler, options?: boolean | AddEventListenerOptions) {\n    this.hooks.onAddEvent?.(type, handler, options, this)\n    if (type === 'regionchange') {\n      // map 组件的 regionchange 事件非常特殊，详情：https://github.com/NervJS/taro/issues/5766\n      this.addEventListener('begin', handler, options)\n      this.addEventListener('end', handler, options)\n      return\n    }\n    type = type.toLowerCase()\n    const handlers = this.__handlers[type]\n    let isCapture = Boolean(options)\n    let isOnce = false\n    if (isObject<AddEventListenerOptions>(options)) {\n      isCapture = Boolean(options.capture)\n      isOnce = Boolean(options.once)\n    }\n\n    if (isOnce) {\n      const wrapper = function () {\n        handler.apply(this, arguments) // this 指向 Element\n        this.removeEventListener(type, wrapper)\n      }\n      this.addEventListener(type, wrapper, {\n        ...(options as AddEventListenerOptions),\n        once: false\n      })\n      return\n    }\n\n    process.env.NODE_ENV !== 'production' && warn(isCapture, 'Taro 暂未实现 event 的 capture 特性。')\n\n    if (isArray(handlers)) {\n      handlers.push(handler)\n    } else {\n      this.__handlers[type] = [handler]\n    }\n  }\n\n  public removeEventListener (type: string, handler: EventHandler) {\n    type = type.toLowerCase()\n    if (handler == null) {\n      return\n    }\n\n    const handlers = this.__handlers[type]\n    if (!isArray(handlers)) {\n      return\n    }\n\n    const index = handlers.indexOf(handler)\n\n    process.env.NODE_ENV !== 'production' && warn(index === -1, `事件: '${type}' 没有注册在 DOM 中，因此不会被移除。`)\n\n    handlers.splice(index, 1)\n  }\n\n  public isAnyEventBinded (): boolean {\n    const handlers = this.__handlers\n    const isAnyEventBinded = Object.keys(handlers).find(key => handlers[key].length)\n    return Boolean(isAnyEventBinded)\n  }\n}\n","import { Shortcuts, toCamelCase } from '@tarojs/shared'\nimport { isText, isHasExtractProp, isComment } from './utils'\nimport {\n  VIEW,\n  CLASS,\n  STYLE,\n  ID,\n  PURE_VIEW,\n  CATCHMOVE,\n  CATCH_VIEW\n} from './constants'\n\nimport type { MiniData, MiniElementData } from './interface'\nimport type { TaroElement } from './dom/element'\nimport type { TaroText } from './dom/text'\n\n/**\n * React also has a fancy function's name for this: `hydrate()`.\n * You may have been heard `hydrate` as a SSR-related function,\n * actually, `hydrate` basicly do the `render()` thing, but ignore some properties,\n * it's a vnode traverser and modifier: that's exactly what Taro's doing in here.\n */\nexport function hydrate (node: TaroElement | TaroText): MiniData {\n  const nodeName = node.nodeName\n\n  if (isText(node)) {\n    return {\n      [Shortcuts.Text]: node.nodeValue,\n      [Shortcuts.NodeName]: nodeName\n    }\n  }\n\n  const data: MiniElementData = {\n    [Shortcuts.NodeName]: nodeName,\n    uid: node.uid\n  }\n  const { props } = node\n  const SPECIAL_NODES = node.hooks.getSpecialNodes()\n\n  if (!node.isAnyEventBinded() && SPECIAL_NODES.indexOf(nodeName) > -1) {\n    data[Shortcuts.NodeName] = `static-${nodeName}`\n    if (nodeName === VIEW && !isHasExtractProp(node)) {\n      data[Shortcuts.NodeName] = PURE_VIEW\n    }\n  }\n\n  for (const prop in props) {\n    const propInCamelCase = toCamelCase(prop)\n    if (\n      !prop.startsWith('data-') && // 在 node.dataset 的数据\n      prop !== CLASS &&\n      prop !== STYLE &&\n      prop !== ID &&\n      propInCamelCase !== CATCHMOVE\n    ) {\n      data[propInCamelCase] = props[prop]\n    }\n    if (nodeName === VIEW && propInCamelCase === CATCHMOVE && props[prop] !== false) {\n      data[Shortcuts.NodeName] = CATCH_VIEW\n    }\n  }\n\n  let { childNodes } = node\n\n  // 过滤 comment 节点\n  childNodes = childNodes.filter(node => !isComment(node))\n\n  if (childNodes.length > 0) {\n    data[Shortcuts.Childnodes] = childNodes.map(hydrate)\n  } else {\n    data[Shortcuts.Childnodes] = []\n  }\n\n  if (node.className !== '') {\n    data[Shortcuts.Class] = node.className\n  }\n\n  if (node.cssText !== '' && nodeName !== 'swiper-item') {\n    data[Shortcuts.Style] = node.cssText\n  }\n\n  node.hooks.modifyHydrateData?.(data)\n\n  return data\n}\n","import type { TaroNode } from './node'\nexport const eventSource = new Map<string | undefined | null, TaroNode>()\n","export enum ElementNames {\n  Element = 'Element',\n  Document = 'Document',\n  RootElement = 'RootElement',\n  FormElement = 'FormElement'\n}\n\nexport interface InstanceFactory<T> {\n  (...args: any[]): T\n}\n\nexport interface InstanceNamedFactory {\n  <T>(named: string): (...args: any[]) => T\n}\n","import { inject, injectable } from 'inversify'\nimport { Shortcuts, ensure } from '@tarojs/shared'\nimport SERVICE_IDENTIFIER from '../constants/identifiers'\nimport { NodeType } from './node_types'\nimport { incrementId, isComment } from '../utils'\nimport { TaroEventTarget } from './event-target'\nimport { hydrate } from '../hydrate'\nimport { eventSource } from './event-source'\nimport { ElementNames } from '../interface'\nimport {\n  DOCUMENT_FRAGMENT\n} from '../constants'\n\nimport type { UpdatePayload, InstanceNamedFactory } from '../interface'\nimport type { TaroDocument } from './document'\nimport type { TaroRootElement } from './root'\nimport type { TaroElement } from './element'\nimport type { TaroNodeImpl } from '../dom-external/node-impl'\nimport type { Hooks } from '../hooks'\n\nconst nodeId = incrementId()\n\n@injectable()\nexport class TaroNode extends TaroEventTarget {\n  public uid: string\n  public nodeType: NodeType\n  public nodeName: string\n  public parentNode: TaroNode | null = null\n  public childNodes: TaroNode[] = []\n\n  protected _getElement: InstanceNamedFactory\n\n  public constructor (// eslint-disable-next-line @typescript-eslint/indent\n    @inject(SERVICE_IDENTIFIER.TaroNodeImpl) impl: TaroNodeImpl,\n    @inject(SERVICE_IDENTIFIER.TaroElementFactory) getElement: InstanceNamedFactory,\n    @inject(SERVICE_IDENTIFIER.Hooks) hooks: Hooks\n  ) {\n    super(hooks)\n    impl.bind(this)\n    this._getElement = getElement\n    this.uid = `_n_${nodeId()}`\n    eventSource.set(this.uid, this)\n  }\n\n  private hydrate = (node: TaroNode) => () => hydrate(node as TaroElement)\n\n  /**\n   * like jQuery's $.empty()\n   */\n  private _empty () {\n    while (this.childNodes.length > 0) {\n      const child = this.childNodes[0]\n      child.parentNode = null\n      eventSource.delete(child.uid)\n      this.childNodes.shift()\n    }\n  }\n\n  protected get _root (): TaroRootElement | null {\n    return this.parentNode?._root || null\n  }\n\n  protected findIndex (refChild: TaroNode): number {\n    const index = this.childNodes.indexOf(refChild)\n\n    ensure(index !== -1, 'The node to be replaced is not a child of this node.')\n\n    return index\n  }\n\n  public get _path (): string {\n    const parentNode = this.parentNode\n\n    if (parentNode) {\n      // 计算路径时，先过滤掉 comment 节点\n      const list = parentNode.childNodes.filter(node => !isComment(node))\n      const indexOfNode = list.indexOf(this)\n      const index = this.hooks.getPathIndex(indexOfNode)\n\n      return `${parentNode._path}.${Shortcuts.Childnodes}.${index}`\n    }\n\n    return ''\n  }\n\n  public get nextSibling (): TaroNode | null {\n    const parentNode = this.parentNode\n    return parentNode?.childNodes[parentNode.findIndex(this) + 1] || null\n  }\n\n  public get previousSibling (): TaroNode | null {\n    const parentNode = this.parentNode\n    return parentNode?.childNodes[parentNode.findIndex(this) - 1] || null\n  }\n\n  public get parentElement (): TaroElement | null {\n    const parentNode = this.parentNode\n    if (parentNode?.nodeType === NodeType.ELEMENT_NODE) {\n      return parentNode as TaroElement\n    }\n    return null\n  }\n\n  public get firstChild (): TaroNode | null {\n    return this.childNodes[0] || null\n  }\n\n  public get lastChild (): TaroNode | null {\n    const childNodes = this.childNodes\n    return childNodes[childNodes.length - 1] || null\n  }\n\n  /**\n   * @textContent 目前只能置空子元素\n   * @TODO 等待完整 innerHTML 实现\n   */\n  public set textContent (text: string) {\n    this._empty()\n    if (text === '') {\n      this.enqueueUpdate({\n        path: `${this._path}.${Shortcuts.Childnodes}`,\n        value: () => []\n      })\n    } else {\n      const document = this._getElement<TaroDocument>(ElementNames.Document)()\n      this.appendChild(document.createTextNode(text))\n    }\n  }\n\n  public insertBefore<T extends TaroNode> (newChild: T, refChild?: TaroNode | null, isReplace?: boolean): T {\n    if (newChild.nodeName === DOCUMENT_FRAGMENT) {\n      newChild.childNodes.reduceRight((previousValue, currentValue) => {\n        this.insertBefore(currentValue, previousValue)\n        return currentValue\n      }, refChild)\n      return newChild\n    }\n\n    newChild.remove()\n    newChild.parentNode = this\n    let payload: UpdatePayload\n\n    if (refChild) {\n      const index = this.findIndex(refChild)\n      this.childNodes.splice(index, 0, newChild)\n      if (isReplace) {\n        payload = {\n          path: newChild._path,\n          value: this.hydrate(newChild)\n        }\n      } else {\n        payload = {\n          path: `${this._path}.${Shortcuts.Childnodes}`,\n          value: () => {\n            const childNodes = this.childNodes.filter(node => !isComment(node))\n            return childNodes.map(hydrate)\n          }\n        }\n      }\n    } else {\n      this.childNodes.push(newChild)\n      payload = {\n        path: newChild._path,\n        value: this.hydrate(newChild)\n      }\n    }\n\n    this.enqueueUpdate(payload)\n\n    if (!eventSource.has(newChild.uid)) {\n      eventSource.set(newChild.uid, newChild)\n    }\n\n    return newChild\n  }\n\n  public appendChild (child: TaroNode) {\n    this.insertBefore(child)\n  }\n\n  public replaceChild (newChild: TaroNode, oldChild: TaroNode) {\n    if (oldChild.parentNode === this) {\n      this.insertBefore(newChild, oldChild, true)\n      oldChild.remove(true)\n      return oldChild\n    }\n  }\n\n  public removeChild<T extends TaroNode> (child: T, isReplace?: boolean): T {\n    const index = this.findIndex(child)\n    this.childNodes.splice(index, 1)\n    if (!isReplace) {\n      this.enqueueUpdate({\n        path: `${this._path}.${Shortcuts.Childnodes}`,\n        value: () => {\n          const childNodes = this.childNodes.filter(node => !isComment(node))\n          return childNodes.map(hydrate)\n        }\n      })\n    }\n    child.parentNode = null\n    eventSource.delete(child.uid)\n    // @TODO: eventSource memory overflow\n    // child._empty()\n    return child\n  }\n\n  public remove (isReplace?: boolean) {\n    this.parentNode?.removeChild(this, isReplace)\n  }\n\n  public hasChildNodes () {\n    return this.childNodes.length > 0\n  }\n\n  public enqueueUpdate (payload: UpdatePayload) {\n    this._root?.enqueueUpdate(payload)\n  }\n\n  public contains (node: TaroNode & { id?: string }): boolean {\n    let isContains = false\n    this.childNodes.some(childNode => {\n      const { uid } = childNode\n      if (uid === node.uid || uid === node.id || childNode.contains(node)) {\n        isContains = true\n        return true\n      }\n    })\n    return isContains\n  }\n\n  public get ownerDocument () {\n    const document = this._getElement<TaroDocument>(ElementNames.Document)()\n    return document\n  }\n}\n","import { inject, injectable } from 'inversify'\nimport { Shortcuts } from '@tarojs/shared'\nimport SERVICE_IDENTIFIER from '../constants/identifiers'\nimport { TaroNode } from './node'\nimport { NodeType } from './node_types'\n\nimport type { TaroNodeImpl } from '../dom-external/node-impl'\nimport type { InstanceNamedFactory } from '../interface'\nimport type { Hooks } from '../hooks'\n\n@injectable()\nexport class TaroText extends TaroNode {\n  public _value: string\n\n  public constructor (// eslint-disable-next-line @typescript-eslint/indent\n    @inject(SERVICE_IDENTIFIER.TaroNodeImpl) nodeImpl: TaroNodeImpl,\n    @inject(SERVICE_IDENTIFIER.TaroElementFactory) getElement: InstanceNamedFactory,\n    @inject(SERVICE_IDENTIFIER.Hooks) hooks: Hooks\n  ) {\n    super(nodeImpl, getElement, hooks)\n    this.nodeType = NodeType.TEXT_NODE\n    this.nodeName = '#text'\n  }\n\n  public set textContent (text: string) {\n    this._value = text\n    this.enqueueUpdate({\n      path: `${this._path}.${Shortcuts.Text}`,\n      value: text\n    })\n  }\n\n  public get textContent (): string {\n    return this._value\n  }\n\n  public set nodeValue (text: string) {\n    this.textContent = text\n  }\n\n  public get nodeValue (): string {\n    return this._value\n  }\n}\n","/*\n *\n * https://www.w3.org/Style/CSS/all-properties.en.html\n */\n\nconst styleProperties = [\n  'all',\n  'appearance',\n  'blockOverflow',\n  'blockSize',\n  'bottom',\n  'clear',\n  'contain',\n  'content',\n  'continue',\n  'cursor',\n  'direction',\n  'display',\n  'filter',\n  'float',\n  'gap',\n  'height',\n  'inset',\n  'isolation',\n  'left',\n  'letterSpacing',\n  'lightingColor',\n  'markerSide',\n  'mixBlendMode',\n  'opacity',\n  'order',\n  'position',\n  'quotes',\n  'resize',\n  'right',\n  'rowGap',\n  'tabSize',\n  'tableLayout',\n  'top',\n  'userSelect',\n  'verticalAlign',\n  'visibility',\n  'voiceFamily',\n  'volume',\n  'whiteSpace',\n  'widows',\n  'width',\n  'zIndex'\n\n  /** 非常用 style */\n  // 'azimuth',\n  // 'backfaceVisibility',\n  // 'baselineShift',\n  // 'captionSide',\n  // 'chains',\n  // 'dominantBaseline',\n  // 'elevation',\n  // 'emptyCells',\n  // 'forcedColorAdjust',\n  // 'glyphOrientationVertical',\n  // 'hangingPunctuation',\n  // 'hyphenateCharacter',\n  // 'hyphens',\n  // 'imageOrientation',\n  // 'imageResolution',\n  // 'orphans',\n  // 'playDuring',\n  // 'pointerEvents',\n  // 'regionFragment',\n  // 'richness',\n  // 'running',\n  // 'scrollBehavior',\n  // 'speechRate',\n  // 'stress',\n  // 'stringSet',\n  // 'unicodeBidi',\n  // 'willChange',\n  // 'writingMode',\n]\n\n// 减少文件体积\nfunction combine (prefix: string, list: string[], excludeSelf?: boolean) {\n  !excludeSelf && styleProperties.push(prefix)\n  list.forEach(item => {\n    styleProperties.push(prefix + item)\n  })\n}\n\nconst color = 'Color'\nconst style = 'Style'\nconst width = 'Width'\nconst image = 'Image'\nconst size = 'Size'\nconst color_style_width = [color, style, width]\nconst fitlength_fitwidth_image = ['FitLength', 'FitWidth', image]\nconst fitlength_fitwidth_image_radius = [...fitlength_fitwidth_image, 'Radius']\nconst color_style_width_fitlength_fitwidth_image = [...color_style_width, ...fitlength_fitwidth_image]\nconst endRadius_startRadius = ['EndRadius', 'StartRadius']\nconst bottom_left_right_top = ['Bottom', 'Left', 'Right', 'Top']\nconst end_start = ['End', 'Start']\nconst content_items_self = ['Content', 'Items', 'Self']\nconst blockSize_height_inlineSize_width = ['BlockSize', 'Height', 'InlineSize', width]\nconst after_before = ['After', 'Before']\n\ncombine('borderBlock', color_style_width)\ncombine('borderBlockEnd', color_style_width)\ncombine('borderBlockStart', color_style_width)\ncombine('outline', [...color_style_width, 'Offset'])\ncombine('border', [...color_style_width, 'Boundary', 'Break', 'Collapse', 'Radius', 'Spacing'])\ncombine('borderFit', ['Length', width])\ncombine('borderInline', color_style_width)\ncombine('borderInlineEnd', color_style_width)\ncombine('borderInlineStart', color_style_width)\ncombine('borderLeft', color_style_width_fitlength_fitwidth_image)\ncombine('borderRight', color_style_width_fitlength_fitwidth_image)\ncombine('borderTop', color_style_width_fitlength_fitwidth_image)\ncombine('borderBottom', color_style_width_fitlength_fitwidth_image)\ncombine('textDecoration', [color, style, 'Line'])\ncombine('textEmphasis', [color, style, 'Position'])\ncombine('scrollMargin', bottom_left_right_top)\ncombine('scrollPadding', bottom_left_right_top)\ncombine('padding', bottom_left_right_top)\ncombine('margin', [...bottom_left_right_top, 'Trim'])\ncombine('scrollMarginBlock', end_start)\ncombine('scrollMarginInline', end_start)\ncombine('scrollPaddingBlock', end_start)\ncombine('scrollPaddingInline', end_start)\ncombine('gridColumn', end_start)\ncombine('gridRow', end_start)\ncombine('insetBlock', end_start)\ncombine('insetInline', end_start)\ncombine('marginBlock', end_start)\ncombine('marginInline', end_start)\ncombine('paddingBlock', end_start)\ncombine('paddingInline', end_start)\ncombine('pause', after_before)\ncombine('cue', after_before)\ncombine('mask', ['Clip', 'Composite', image, 'Mode', 'Origin', 'Position', 'Repeat', size, 'Type'])\ncombine('borderImage', ['Outset', 'Repeat', 'Slice', 'Source', 'Transform', width])\ncombine('maskBorder', ['Mode', 'Outset', 'Repeat', 'Slice', 'Source', width])\ncombine('font', ['Family', 'FeatureSettings', 'Kerning', 'LanguageOverride', 'MaxSize', 'MinSize', 'OpticalSizing', 'Palette', size, 'SizeAdjust', 'Stretch', style, 'Weight', 'VariationSettings'])\ncombine('fontSynthesis', ['SmallCaps', style, 'Weight'])\ncombine('transform', ['Box', 'Origin', style])\ncombine('background', [color, image, 'Attachment', 'BlendMode', 'Clip', 'Origin', 'Position', 'Repeat', size])\ncombine('listStyle', [image, 'Position', 'Type'])\ncombine('scrollSnap', ['Align', 'Stop', 'Type'])\ncombine('grid', ['Area', 'AutoColumns', 'AutoFlow', 'AutoRows'])\ncombine('gridTemplate', ['Areas', 'Columns', 'Rows'])\ncombine('overflow', ['Block', 'Inline', 'Wrap', 'X', 'Y'])\ncombine('transition', ['Delay', 'Duration', 'Property', 'TimingFunction'])\ncombine('lineStacking', ['Ruby', 'Shift', 'Strategy'])\ncombine('color', ['Adjust', 'InterpolationFilters', 'Scheme'])\ncombine('textAlign', ['All', 'Last'])\ncombine('page', ['BreakAfter', 'BreakBefore', 'BreakInside'])\ncombine('speak', ['Header', 'Numeral', 'Punctuation'])\ncombine('animation', ['Delay', 'Direction', 'Duration', 'FillMode', 'IterationCount', 'Name', 'PlayState', 'TimingFunction'])\ncombine('flex', ['Basis', 'Direction', 'Flow', 'Grow', 'Shrink', 'Wrap'])\ncombine('offset', [...after_before, ...end_start, 'Anchor', 'Distance', 'Path', 'Position', 'Rotate'])\ncombine('fontVariant', ['Alternates', 'Caps', 'EastAsian', 'Emoji', 'Ligatures', 'Numeric', 'Position'])\ncombine('perspective', ['Origin'])\ncombine('pitch', ['Range'])\ncombine('clip', ['Path', 'Rule'])\ncombine('flow', ['From', 'Into'])\n\ncombine('align', ['Content', 'Items', 'Self'], true)\ncombine('alignment', ['Adjust', 'Baseline'], true)\ncombine('bookmark', ['Label', 'Level', 'State'], true)\ncombine('borderStart', endRadius_startRadius, true)\ncombine('borderEnd', endRadius_startRadius, true)\ncombine('borderCorner', ['Fit', image, 'ImageTransform'], true)\ncombine('borderTopLeft', fitlength_fitwidth_image_radius, true)\ncombine('borderTopRight', fitlength_fitwidth_image_radius, true)\ncombine('borderBottomLeft', fitlength_fitwidth_image_radius, true)\ncombine('borderBottomRight', fitlength_fitwidth_image_radius, true)\ncombine('column', ['s', 'Count', 'Fill', 'Gap', 'Rule', 'RuleColor', 'RuleStyle', 'RuleWidth', 'Span', width], true)\ncombine('break', [...after_before, 'Inside'], true)\ncombine('wrap', [...after_before, 'Flow', 'Inside', 'Through'], true)\ncombine('justify', content_items_self, true)\ncombine('place', content_items_self, true)\ncombine('max', [...blockSize_height_inlineSize_width, 'Lines'], true)\ncombine('min', blockSize_height_inlineSize_width, true)\ncombine('line', ['Break', 'Clamp', 'Grid', 'Height', 'Padding', 'Snap'], true)\ncombine('inline', ['BoxAlign', size, 'Sizing'], true)\ncombine('text', ['CombineUpright', 'GroupAlign', 'Height', 'Indent', 'Justify', 'Orientation', 'Overflow', 'Shadow', 'SpaceCollapse', 'SpaceTrim', 'Spacing', 'Transform', 'UnderlinePosition', 'Wrap'], true)\ncombine('shape', ['ImageThreshold', 'Inside', 'Margin', 'Outside'], true)\ncombine('word', ['Break', 'Spacing', 'Wrap'], true)\ncombine('nav', ['Down', 'Left', 'Right', 'Up'], true)\ncombine('object', ['Fit', 'Position'], true)\ncombine('box', ['DecorationBreak', 'Shadow', 'Sizing', 'Snap'], true)\n\n/** 非常用 style */\n// combine('caret', [color, 'Shape'])\n// combine('counter', ['Increment', 'Reset', 'Set'], true)\n// combine('dropInitial', ['AfterAdjust', 'AfterAlign', 'BeforeAdjust', 'BeforeAlign', size, 'Value'], true)\n// combine('flood', [color, 'Opacity'], true)\n// combine('footnote', ['Display', 'Policy'], true)\n// combine('hyphenateLimit', ['Chars', 'Last', 'Lines', 'Zone'], true)\n// combine('initialLetters', ['Align', 'Wrap'])\n// combine('ruby', ['Align', 'Merge', 'Position'], true)\n\nexport { styleProperties }\n","import { isUndefined, toCamelCase, toDashed, Shortcuts, warn, isString } from '@tarojs/shared'\nimport { styleProperties } from './style_properties'\nimport { TaroElement } from './element'\nimport { PROPERTY_THRESHOLD } from '../constants'\n\nfunction setStyle (this: Style, newVal: string, styleKey: string) {\n  const old = this[styleKey]\n  if (newVal) {\n    this._usedStyleProp.add(styleKey)\n  }\n\n  process.env.NODE_ENV !== 'production' && warn(\n    isString(newVal) && newVal.length > PROPERTY_THRESHOLD,\n    `Style 属性 ${styleKey} 的值数据量过大，可能会影响渲染性能，考虑使用 CSS 类或其它方案替代。`\n  )\n\n  if (old !== newVal) {\n    this._value[styleKey] = newVal\n    this._element.enqueueUpdate({\n      path: `${this._element._path}.${Shortcuts.Style}`,\n      value: this.cssText\n    })\n  }\n}\n\nfunction initStyle (ctor: typeof Style) {\n  const properties = {}\n\n  for (let i = 0; i < styleProperties.length; i++) {\n    const styleKey = styleProperties[i]\n    properties[styleKey] = {\n      get (this: Style) {\n        return this._value[styleKey] || ''\n      },\n      set (this: Style, newVal: string) {\n        setStyle.call(this, newVal, styleKey)\n      }\n    }\n  }\n\n  Object.defineProperties(ctor.prototype, properties)\n}\n\nfunction isCssVariable (propertyName) {\n  return /^--/.test(propertyName)\n}\n\nexport class Style {\n  public _usedStyleProp: Set<string>\n\n  public _value: Partial<CSSStyleDeclaration>\n\n  public _element: TaroElement\n\n  public constructor (element: TaroElement) {\n    this._element = element\n    this._usedStyleProp = new Set()\n    this._value = {}\n  }\n\n  private setCssVariables (styleKey: string) {\n    this.hasOwnProperty(styleKey) || Object.defineProperty(this, styleKey, {\n      enumerable: true,\n      configurable: true,\n      get: () => {\n        return this._value[styleKey] || ''\n      },\n      set: (newVal: string) => {\n        setStyle.call(this, newVal, styleKey)\n      }\n    })\n  }\n\n  public get cssText () {\n    let text = ''\n    this._usedStyleProp.forEach(key => {\n      const val = this[key]\n      if (!val) return\n      const styleName = isCssVariable(key) ? key : toDashed(key)\n      text += `${styleName}: ${val};`\n    })\n    return text\n  }\n\n  public set cssText (str: string) {\n    if (str == null) {\n      str = ''\n    }\n\n    this._usedStyleProp.forEach(prop => {\n      this.removeProperty(prop)\n    })\n\n    if (str === '') {\n      return\n    }\n\n    const rules = str.split(';')\n\n    for (let i = 0; i < rules.length; i++) {\n      const rule = rules[i].trim()\n      if (rule === '') {\n        continue\n      }\n\n      // 可能存在 'background: url(http:x/y/z)' 的情况\n      const [propName, ...valList] = rule.split(':')\n      const val = valList.join(':')\n\n      if (isUndefined(val)) {\n        continue\n      }\n      this.setProperty(propName.trim(), val.trim())\n    }\n  }\n\n  public setProperty (propertyName: string, value?: string | null) {\n    if (propertyName[0] === '-') {\n      // 支持 webkit 属性或 css 变量\n      this.setCssVariables(propertyName)\n    } else {\n      propertyName = toCamelCase(propertyName)\n    }\n    if (isUndefined(value)) {\n      return\n    }\n\n    if (value === null || value === '') {\n      this.removeProperty(propertyName)\n    } else {\n      this[propertyName] = value\n    }\n  }\n\n  public removeProperty (propertyName: string): string {\n    propertyName = toCamelCase(propertyName)\n    if (!this._usedStyleProp.has(propertyName)) {\n      return ''\n    }\n\n    const value = this[propertyName]\n    this[propertyName] = ''\n    this._usedStyleProp.delete(propertyName)\n    return value\n  }\n\n  public getPropertyValue (propertyName: string) {\n    propertyName = toCamelCase(propertyName)\n    const value = this[propertyName]\n    if (!value) {\n      return ''\n    }\n\n    return value\n  }\n}\n\ninitStyle(Style)\n","import { NodeType } from './node_types'\n\nimport type { TaroElement } from './element'\n\ntype Filter = (element: TaroElement) => boolean\n\nfunction returnTrue () {\n  return true\n}\n\nexport function treeToArray (root: TaroElement, predict?: Filter): TaroElement[] {\n  const array: TaroElement[] = []\n  const filter = predict ?? returnTrue\n\n  let object: TaroElement | null = root\n\n  while (object) {\n    if (object.nodeType === NodeType.ELEMENT_NODE && filter(object)) {\n      array.push(object)\n    }\n\n    object = following(object, root)\n  }\n\n  return array\n}\n\nfunction following (el: TaroElement, root: TaroElement): TaroElement | null {\n  const firstChild = el.firstChild\n\n  if (firstChild) {\n    return firstChild as TaroElement\n  }\n\n  let current: TaroElement | null = el\n\n  do {\n    if (current === root) {\n      return null\n    }\n\n    const nextSibling = current.nextSibling\n\n    if (nextSibling) {\n      return nextSibling as TaroElement\n    }\n    current = current.parentElement\n  } while (current)\n\n  return null\n}\n","import type { TaroElement } from './element'\n\nexport class ClassList extends Set<string> {\n  private el: TaroElement\n\n  constructor (className: string, el: TaroElement) {\n    super()\n    className.trim().split(/\\s+/).forEach(super.add.bind(this))\n    this.el = el\n  }\n\n  public get value () {\n    return [...this].join(' ')\n  }\n\n  public add (s: string) {\n    super.add(s)\n    this._update()\n\n    return this\n  }\n\n  public get length (): number {\n    return this.size\n  }\n\n  public remove (s: string) {\n    super.delete(s)\n    this._update()\n  }\n\n  public toggle (s: string) {\n    if (super.has(s)) {\n      super.delete(s)\n    } else {\n      super.add(s)\n    }\n\n    this._update()\n  }\n\n  public replace (s1: string, s2: string) {\n    super.delete(s1)\n    super.add(s2)\n\n    this._update()\n  }\n\n  public contains (s: string) {\n    return super.has(s)\n  }\n\n  public toString () {\n    return this.value\n  }\n\n  private _update () {\n    this.el.className = this.value\n  }\n}\n","import { inject, injectable } from 'inversify'\nimport { isArray, isUndefined, Shortcuts, EMPTY_OBJ, warn, isString, toCamelCase } from '@tarojs/shared'\nimport SERVICE_IDENTIFIER from '../constants/identifiers'\nimport { TaroNode } from './node'\nimport { NodeType } from './node_types'\nimport { eventSource } from './event-source'\nimport { isElement, isHasExtractProp, shortcutAttr } from '../utils'\nimport { Style } from './style'\nimport { treeToArray } from './tree'\nimport { ClassList } from './class-list'\nimport {\n  ID,\n  CLASS,\n  STYLE,\n  FOCUS,\n  VIEW,\n  STATIC_VIEW,\n  PURE_VIEW,\n  PROPERTY_THRESHOLD,\n  CATCHMOVE,\n  CATCH_VIEW\n} from '../constants'\n\nimport type { TaroEvent } from './event'\nimport type { Attributes, InstanceNamedFactory } from '../interface'\nimport type { TaroNodeImpl } from '../dom-external/node-impl'\nimport type { TaroElementImpl } from '../dom-external/element-impl'\nimport type { Hooks } from '../hooks'\n\n@injectable()\nexport class TaroElement extends TaroNode {\n  public tagName: string\n  public props: Record<string, any> = {}\n  public style: Style\n  public dataset: Record<string, unknown> = EMPTY_OBJ\n  public innerHTML: string\n\n  public constructor (// eslint-disable-next-line @typescript-eslint/indent\n    @inject(SERVICE_IDENTIFIER.TaroNodeImpl) nodeImpl: TaroNodeImpl,\n    @inject(SERVICE_IDENTIFIER.TaroElementFactory) getElement: InstanceNamedFactory,\n    @inject(SERVICE_IDENTIFIER.Hooks) hooks: Hooks,\n    @inject(SERVICE_IDENTIFIER.TaroElementImpl) elementImpl: TaroElementImpl\n  ) {\n    super(nodeImpl, getElement, hooks)\n    elementImpl.bind(this)\n    this.nodeType = NodeType.ELEMENT_NODE\n    this.style = new Style(this)\n    hooks.patchElement(this)\n  }\n\n  private _stopPropagation (event: TaroEvent) {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    let target = this\n    // eslint-disable-next-line no-cond-assign\n    while ((target = target.parentNode as this)) {\n      const listeners = target.__handlers[event.type]\n\n      if (!isArray(listeners)) {\n        continue\n      }\n\n      for (let i = listeners.length; i--;) {\n        const l = listeners[i]\n        l._stop = true\n      }\n    }\n  }\n\n  public get id (): string {\n    return this.getAttribute(ID)!\n  }\n\n  public set id (val: string) {\n    this.setAttribute(ID, val)\n  }\n\n  public get className (): string {\n    return this.getAttribute(CLASS) || ''\n  }\n\n  public set className (val: string) {\n    this.setAttribute(CLASS, val)\n  }\n\n  public get cssText (): string {\n    return this.getAttribute(STYLE) || ''\n  }\n\n  public get classList (): ClassList {\n    return new ClassList(this.className, this)\n  }\n\n  public get children (): TaroElement[] {\n    return this.childNodes.filter(isElement)\n  }\n\n  public get attributes (): Attributes[] {\n    const props = this.props\n    const propKeys = Object.keys(props)\n    const style = this.style.cssText\n    const attrs = propKeys.map(key => ({ name: key, value: props[key] }))\n    return attrs.concat(style ? { name: STYLE, value: style } : [])\n  }\n\n  public get textContent (): string {\n    let text = ''\n    const childNodes = this.childNodes\n\n    for (let i = 0; i < childNodes.length; i++) {\n      text += childNodes[i].textContent\n    }\n\n    return text\n  }\n\n  public set textContent (text: string) {\n    super.textContent = text\n  }\n\n  public hasAttribute (qualifiedName: string): boolean {\n    return !isUndefined(this.props[qualifiedName])\n  }\n\n  public hasAttributes (): boolean {\n    return this.attributes.length > 0\n  }\n\n  public focus () {\n    this.setAttribute(FOCUS, true)\n  }\n\n  public blur () {\n    this.setAttribute(FOCUS, false)\n  }\n\n  public setAttribute (qualifiedName: string, value: any): void {\n    process.env.NODE_ENV !== 'production' && warn(\n      isString(value) && value.length > PROPERTY_THRESHOLD,\n      `元素 ${this.nodeName} 的 属性 ${qualifiedName} 的值数据量过大，可能会影响渲染性能。考虑降低图片转为 base64 的阈值或在 CSS 中使用 base64。`\n    )\n\n    const isPureView = this.nodeName === VIEW && !isHasExtractProp(this) && !this.isAnyEventBinded()\n\n    switch (qualifiedName) {\n      case STYLE:\n        this.style.cssText = value as string\n        break\n      case ID:\n        eventSource.delete(this.uid)\n        value = String(value)\n        this.props[qualifiedName] = this.uid = value\n        eventSource.set(value, this)\n        break\n      default:\n        this.props[qualifiedName] = value as string\n\n        if (qualifiedName.startsWith('data-')) {\n          if (this.dataset === EMPTY_OBJ) {\n            this.dataset = Object.create(null)\n          }\n          this.dataset[toCamelCase(qualifiedName.replace(/^data-/, ''))] = value\n        }\n        break\n    }\n\n    qualifiedName = shortcutAttr(qualifiedName)\n\n    const payload = {\n      path: `${this._path}.${toCamelCase(qualifiedName)}`,\n      value\n    }\n\n    this.hooks.modifySetAttrPayload?.(this, qualifiedName, payload)\n\n    this.enqueueUpdate(payload)\n\n    if (this.nodeName === VIEW) {\n      if (toCamelCase(qualifiedName) === CATCHMOVE) {\n        // catchMove = true: catch-view\n        // catchMove = false: view or static-view\n        this.enqueueUpdate({\n          path: `${this._path}.${Shortcuts.NodeName}`,\n          value: value ? CATCH_VIEW : (\n            this.isAnyEventBinded() ? VIEW : STATIC_VIEW\n          )\n        })\n      } else if (isPureView && isHasExtractProp(this)) {\n        // pure-view => static-view\n        this.enqueueUpdate({\n          path: `${this._path}.${Shortcuts.NodeName}`,\n          value: STATIC_VIEW\n        })\n      }\n    }\n  }\n\n  public removeAttribute (qualifiedName: string) {\n    const isStaticView = this.nodeName === VIEW && isHasExtractProp(this) && !this.isAnyEventBinded()\n\n    if (qualifiedName === STYLE) {\n      this.style.cssText = ''\n    } else {\n      const isInterrupt = this.hooks.onRemoveAttribute?.(this, qualifiedName)\n      if (isInterrupt) {\n        return\n      }\n\n      if (!this.props.hasOwnProperty(qualifiedName)) {\n        return\n      }\n      delete this.props[qualifiedName]\n    }\n\n    qualifiedName = shortcutAttr(qualifiedName)\n\n    const payload = {\n      path: `${this._path}.${toCamelCase(qualifiedName)}`,\n      value: ''\n    }\n\n    this.hooks.modifyRmAttrPayload?.(this, qualifiedName, payload)\n\n    this.enqueueUpdate(payload)\n\n    if (this.nodeName === VIEW) {\n      if (toCamelCase(qualifiedName) === CATCHMOVE) {\n        // catch-view => view or static-view or pure-view\n        this.enqueueUpdate({\n          path: `${this._path}.${Shortcuts.NodeName}`,\n          value: this.isAnyEventBinded() ? VIEW : (isHasExtractProp(this) ? STATIC_VIEW : PURE_VIEW)\n        })\n      } else if (isStaticView && !isHasExtractProp(this)) {\n        // static-view => pure-view\n        this.enqueueUpdate({\n          path: `${this._path}.${Shortcuts.NodeName}`,\n          value: PURE_VIEW\n        })\n      }\n    }\n  }\n\n  public getAttribute (qualifiedName: string): string {\n    const attr = qualifiedName === STYLE ? this.style.cssText : this.props[qualifiedName]\n    return attr ?? ''\n  }\n\n  public getElementsByTagName (tagName: string): TaroElement[] {\n    return treeToArray(this, (el) => {\n      return el.nodeName === tagName || (tagName === '*' && this !== el)\n    })\n  }\n\n  public getElementsByClassName (className: string): TaroElement[] {\n    return treeToArray(this, (el) => {\n      const classList = el.classList\n      const classNames = className.trim().split(/\\s+/)\n      return classNames.every(c => classList.has(c))\n    })\n  }\n\n  public dispatchEvent (event: TaroEvent): boolean {\n    const cancelable = event.cancelable\n\n    const listeners = this.__handlers[event.type]\n\n    if (!isArray(listeners)) {\n      return false\n    }\n\n    for (let i = listeners.length; i--;) {\n      const listener = listeners[i]\n      let result: unknown\n      if (listener._stop) {\n        listener._stop = false\n      } else {\n        result = listener.call(this, event)\n      }\n      if ((result === false || event._end) && cancelable) {\n        event.defaultPrevented = true\n      }\n\n      if (event._end && event._stop) {\n        break\n      }\n    }\n\n    if (event._stop) {\n      this._stopPropagation(event)\n    } else {\n      event._stop = true\n    }\n\n    return listeners != null\n  }\n\n  public addEventListener (type, handler, options) {\n    const name = this.nodeName\n    const SPECIAL_NODES = this.hooks.getSpecialNodes()\n\n    if (!this.isAnyEventBinded() && SPECIAL_NODES.indexOf(name) > -1) {\n      this.enqueueUpdate({\n        path: `${this._path}.${Shortcuts.NodeName}`,\n        value: name\n      })\n    }\n\n    super.addEventListener(type, handler, options)\n  }\n\n  public removeEventListener (type, handler) {\n    super.removeEventListener(type, handler)\n\n    const name = this.nodeName\n    const SPECIAL_NODES = this.hooks.getSpecialNodes()\n\n    if (!this.isAnyEventBinded() && SPECIAL_NODES.indexOf(name) > -1) {\n      this.enqueueUpdate({\n        path: `${this._path}.${Shortcuts.NodeName}`,\n        value: isHasExtractProp(this) ? `static-${name}` : `pure-${name}`\n      })\n    }\n  }\n}\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nexport default isArray;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nexport default isSymbol;\n","import isArray from './isArray.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nexport default isKey;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n","import baseGetTag from './_baseGetTag.js';\nimport isObject from './isObject.js';\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nexport default isFunction;\n","import root from './_root.js';\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nexport default coreJsData;\n","import coreJsData from './_coreJsData.js';\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nexport default isMasked;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nexport default toSource;\n","import isFunction from './isFunction.js';\nimport isMasked from './_isMasked.js';\nimport isObject from './isObject.js';\nimport toSource from './_toSource.js';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nexport default baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nexport default getValue;\n","import baseIsNative from './_baseIsNative.js';\nimport getValue from './_getValue.js';\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nexport default getNative;\n","import getNative from './_getNative.js';\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nexport default nativeCreate;\n","import nativeCreate from './_nativeCreate.js';\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nexport default hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default hashDelete;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nexport default hashGet;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nexport default hashHas;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nexport default hashSet;\n","import hashClear from './_hashClear.js';\nimport hashDelete from './_hashDelete.js';\nimport hashGet from './_hashGet.js';\nimport hashHas from './_hashHas.js';\nimport hashSet from './_hashSet.js';\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nexport default Hash;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nexport default listCacheClear;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nexport default eq;\n","import eq from './eq.js';\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nexport default assocIndexOf;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nexport default listCacheDelete;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nexport default listCacheGet;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nexport default listCacheHas;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nexport default listCacheSet;\n","import listCacheClear from './_listCacheClear.js';\nimport listCacheDelete from './_listCacheDelete.js';\nimport listCacheGet from './_listCacheGet.js';\nimport listCacheHas from './_listCacheHas.js';\nimport listCacheSet from './_listCacheSet.js';\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nexport default ListCache;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nexport default Map;\n","import Hash from './_Hash.js';\nimport ListCache from './_ListCache.js';\nimport Map from './_Map.js';\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nexport default mapCacheClear;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nexport default isKeyable;\n","import isKeyable from './_isKeyable.js';\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nexport default getMapData;\n","import getMapData from './_getMapData.js';\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default mapCacheDelete;\n","import getMapData from './_getMapData.js';\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nexport default mapCacheGet;\n","import getMapData from './_getMapData.js';\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nexport default mapCacheHas;\n","import getMapData from './_getMapData.js';\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nexport default mapCacheSet;\n","import mapCacheClear from './_mapCacheClear.js';\nimport mapCacheDelete from './_mapCacheDelete.js';\nimport mapCacheGet from './_mapCacheGet.js';\nimport mapCacheHas from './_mapCacheHas.js';\nimport mapCacheSet from './_mapCacheSet.js';\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nexport default MapCache;\n","import MapCache from './_MapCache.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nexport default memoize;\n","import memoize from './memoize.js';\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nexport default memoizeCapped;\n","import memoizeCapped from './_memoizeCapped.js';\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nexport default stringToPath;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nexport default arrayMap;\n","import Symbol from './_Symbol.js';\nimport arrayMap from './_arrayMap.js';\nimport isArray from './isArray.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nexport default baseToString;\n","import baseToString from './_baseToString.js';\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nexport default toString;\n","import isArray from './isArray.js';\nimport isKey from './_isKey.js';\nimport stringToPath from './_stringToPath.js';\nimport toString from './toString.js';\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nexport default castPath;\n","import isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nexport default toKey;\n","import castPath from './_castPath.js';\nimport toKey from './_toKey.js';\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nexport default baseGet;\n","import baseGet from './_baseGet.js';\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nexport default get;\n","import type { Options } from './interface'\n\nexport const options: Options = {\n  prerender: true,\n  debug: false\n}\n","import { options } from './options'\n\nclass Performance {\n  private recorder = new Map<string, number>()\n\n  public start (id: string) {\n    if (!options.debug) {\n      return\n    }\n    this.recorder.set(id, Date.now())\n  }\n\n  public stop (id: string) {\n    if (!options.debug) {\n      return\n    }\n    const now = Date.now()\n    const prev = this.recorder.get(id)!\n    const time = now - prev\n    // eslint-disable-next-line no-console\n    console.log(`${id} 时长： ${time}ms`)\n  }\n}\n\nexport const perf = new Performance()\n","import { inject, injectable } from 'inversify'\nimport { isFunction, Shortcuts } from '@tarojs/shared'\nimport get from 'lodash-es/get'\nimport SERVICE_IDENTIFIER from '../constants/identifiers'\nimport { TaroElement } from './element'\nimport { incrementId } from '../utils'\nimport { perf } from '../perf'\nimport { options } from '../options'\nimport {\n  SET_DATA,\n  PAGE_INIT,\n  ROOT_STR,\n  CUSTOM_WRAPPER\n} from '../constants'\n\nimport type { Func, UpdatePayload, UpdatePayloadValue, InstanceNamedFactory, MpInstance, HydratedData } from '../interface'\nimport type { TaroNodeImpl } from '../dom-external/node-impl'\nimport type { TaroElementImpl } from '../dom-external/element-impl'\nimport type { Hooks } from '../hooks'\nimport type { Events } from '../emitter/emitter'\n\nconst eventIncrementId = incrementId()\n\n@injectable()\nexport class TaroRootElement extends TaroElement {\n  private pendingFlush = false\n\n  private updatePayloads: UpdatePayload[] = []\n\n  private updateCallbacks: Func[]= []\n\n  private eventCenter: Events\n\n  public pendingUpdate = false\n\n  public ctx: null | MpInstance = null\n\n  public constructor (// eslint-disable-next-line @typescript-eslint/indent\n    @inject(SERVICE_IDENTIFIER.TaroNodeImpl) nodeImpl: TaroNodeImpl,\n    @inject(SERVICE_IDENTIFIER.TaroElementFactory) getElement: InstanceNamedFactory,\n    @inject(SERVICE_IDENTIFIER.Hooks) hooks: Hooks,\n    @inject(SERVICE_IDENTIFIER.TaroElementImpl) elementImpl: TaroElementImpl,\n    @inject(SERVICE_IDENTIFIER.eventCenter) eventCenter: Events\n  ) {\n    super(nodeImpl, getElement, hooks, elementImpl)\n    this.nodeName = ROOT_STR\n    this.eventCenter = eventCenter\n  }\n\n  public get _path (): string {\n    return ROOT_STR\n  }\n\n  protected get _root (): TaroRootElement {\n    return this\n  }\n\n  public enqueueUpdate (payload: UpdatePayload): void {\n    this.updatePayloads.push(payload)\n\n    if (!this.pendingUpdate && this.ctx !== null) {\n      this.performUpdate()\n    }\n  }\n\n  public performUpdate (initRender = false, prerender?: Func) {\n    this.pendingUpdate = true\n\n    const ctx = this.ctx!\n\n    setTimeout(() => {\n      perf.start(SET_DATA)\n      const data: Record<string, UpdatePayloadValue | ReturnType<HydratedData>> = Object.create(null)\n      const resetPaths = new Set<string>(\n        initRender\n          ? ['root.cn.[0]', 'root.cn[0]']\n          : []\n      )\n\n      while (this.updatePayloads.length > 0) {\n        const { path, value } = this.updatePayloads.shift()!\n        if (path.endsWith(Shortcuts.Childnodes)) {\n          resetPaths.add(path)\n        }\n        data[path] = value\n      }\n\n      for (const path in data) {\n        resetPaths.forEach(p => {\n          // 已经重置了数组，就不需要分别再设置了\n          if (path.includes(p) && path !== p) {\n            delete data[path]\n          }\n        })\n\n        const value = data[path]\n        if (isFunction(value)) {\n          data[path] = value()\n        }\n      }\n\n      if (isFunction(prerender)) {\n        prerender(data)\n      } else {\n        this.pendingUpdate = false\n        const customWrapperUpdate: { ctx: any, data: Record<string, any> }[] = []\n        const customWrapperMap: Map<Record<any, any>, Record<string, any>> = new Map()\n        const normalUpdate = {}\n        if (!initRender) {\n          for (const p in data) {\n            const dataPathArr = p.split('.')\n            let hasCustomWrapper = false\n            for (let i = dataPathArr.length; i > 0; i--) {\n              const allPath = dataPathArr.slice(0, i).join('.')\n              const getData = get(ctx.__data__ || ctx.data, allPath)\n              if (getData && getData.nn && getData.nn === CUSTOM_WRAPPER) {\n                const customWrapperId = getData.uid\n                const customWrapper = ctx.selectComponent(`#${customWrapperId}`)\n                const splitedPath = dataPathArr.slice(i).join('.')\n                if (customWrapper) {\n                  hasCustomWrapper = true\n                  customWrapperMap.set(customWrapper, { ...(customWrapperMap.get(customWrapper) || {}), [`i.${splitedPath}`]: data[p] })\n                }\n                break\n              }\n            }\n            if (!hasCustomWrapper) {\n              normalUpdate[p] = data[p]\n            }\n          }\n          if (customWrapperMap.size > 0) {\n            customWrapperMap.forEach((data, ctx) => {\n              customWrapperUpdate.push({ ctx, data })\n            })\n          }\n        }\n        const updateArrLen = customWrapperUpdate.length\n        if (updateArrLen) {\n          const eventId = `${this._path}_update_${eventIncrementId()}`\n          const eventCenter = this.eventCenter\n          let executeTime = 0\n          eventCenter.once(eventId, () => {\n            executeTime++\n            if (executeTime === updateArrLen + 1) {\n              perf.stop(SET_DATA)\n              if (!this.pendingFlush) {\n                this.flushUpdateCallback()\n              }\n              if (initRender) {\n                perf.stop(PAGE_INIT)\n              }\n            }\n          }, eventCenter)\n          customWrapperUpdate.forEach(item => {\n            if (process.env.NODE_ENV !== 'production' && options.debug) {\n              // eslint-disable-next-line no-console\n              console.log('custom wrapper setData: ', item.data)\n            }\n            item.ctx.setData(item.data, () => {\n              eventCenter.trigger(eventId)\n            })\n          })\n          if (Object.keys(normalUpdate).length) {\n            if (process.env.NODE_ENV !== 'production' && options.debug) {\n              // eslint-disable-next-line no-console\n              console.log('setData:', normalUpdate)\n            }\n            ctx.setData(normalUpdate, () => {\n              eventCenter.trigger(eventId)\n            })\n          }\n        } else {\n          if (process.env.NODE_ENV !== 'production' && options.debug) {\n            // eslint-disable-next-line no-console\n            console.log('setData:', data)\n          }\n          ctx.setData(data, () => {\n            perf.stop(SET_DATA)\n            if (!this.pendingFlush) {\n              this.flushUpdateCallback()\n            }\n            if (initRender) {\n              perf.stop(PAGE_INIT)\n            }\n          })\n        }\n      }\n    }, 0)\n  }\n\n  public enqueueUpdateCallback (cb: Func, ctx?: Record<string, any>) {\n    this.updateCallbacks.push(() => {\n      ctx ? cb.call(ctx) : cb()\n    })\n  }\n\n  public flushUpdateCallback () {\n    this.pendingFlush = false\n    const copies = this.updateCallbacks.slice(0)\n    this.updateCallbacks.length = 0\n    for (let i = 0; i < copies.length; i++) {\n      copies[i]()\n    }\n  }\n}\n","import { TaroElement } from './element'\nimport {\n  VALUE,\n  INPUT,\n  CHANGE\n} from '../constants'\n\nimport type { TaroEvent } from './event'\n\nexport class FormElement extends TaroElement {\n  public get value () {\n    // eslint-disable-next-line dot-notation\n    const val = this.props[VALUE]\n    return val == null ? '' : val\n  }\n\n  public set value (val: string | boolean | number | any[]) {\n    this.setAttribute(VALUE, val)\n  }\n\n  public dispatchEvent (event: TaroEvent) {\n    if (event.mpEvent) {\n      const val = event.mpEvent.detail.value\n      if (event.type === CHANGE) {\n        this.props.value = val as string\n      } else if (event.type === INPUT) {\n        // Web 规范中表单组件的 value 应该跟着输入改变\n        // 只是改 this.props.value 的话不会进行 setData，因此这里修改 this.value。\n        // 只测试了 React、Vue、Vue3 input 组件的 onInput 事件，onChange 事件不确定有没有副作用，所以暂不修改。\n        this.value = val as string\n      }\n    }\n\n    return super.dispatchEvent(event)\n  }\n}\n","import { TaroElement } from './element'\n\n// for Vue3\nexport class SVGElement extends TaroElement {}\n","import { options } from '../../options'\n\ninterface Position {\n  index: number\n  column: number\n  line: number\n}\n\nexport interface Token {\n  type: string\n  content?: string\n  position?: {\n    start?: Position\n    end?: Position\n  }\n  close?: boolean\n}\n\nfunction initPosition (): Position {\n  return {\n    index: 0,\n    column: 0,\n    line: 0\n  }\n}\n\nfunction feedPosition (position: Position, str: string, len: number) {\n  const start = position.index\n  const end = position.index = start + len\n  for (let i = start; i < end; i++) {\n    const char = str.charAt(i)\n    if (char === '\\n') {\n      position.line++\n      position.column = 0\n    } else {\n      position.column++\n    }\n  }\n}\n\nfunction jumpPosition (position: Position, str: string, end: number) {\n  const len = end - position.index\n  return feedPosition(position, str, len)\n}\n\nfunction copyPosition (position: Position) {\n  return {\n    index: position.index,\n    line: position.line,\n    column: position.column\n  }\n}\n\nconst whitespace = /\\s/\nfunction isWhitespaceChar (char: string) {\n  return whitespace.test(char)\n}\n\nconst equalSign = /=/\nfunction isEqualSignChar (char: string) {\n  return equalSign.test(char)\n}\n\nfunction shouldBeIgnore (tagName: string) {\n  const name = tagName.toLowerCase()\n  if (options.html!.skipElements.has(name)) {\n    return true\n  }\n  return false\n}\n\nconst alphanumeric = /[A-Za-z0-9]/\n\nfunction findTextEnd (str: string, index: number) {\n  while (true) {\n    const textEnd = str.indexOf('<', index)\n    if (textEnd === -1) {\n      return textEnd\n    }\n    const char = str.charAt(textEnd + 1)\n    if (char === '/' || char === '!' || alphanumeric.test(char)) {\n      return textEnd\n    }\n    index = textEnd + 1\n  }\n}\n\nfunction isWordEnd (cursor: number, wordBegin: number, html: string) {\n  if (!isWhitespaceChar(html.charAt(cursor))) return false\n\n  const len = html.length\n\n  // backwrad\n  for (let i = cursor - 1; i > wordBegin; i--) {\n    const char = html.charAt(i)\n    if (!isWhitespaceChar(char)) {\n      if (isEqualSignChar(char)) return false\n      break\n    }\n  }\n\n  // forward\n  for (let i = cursor + 1; i < len; i++) {\n    const char = html.charAt(i)\n    if (!isWhitespaceChar(char)) {\n      if (isEqualSignChar(char)) return false\n      return true\n    }\n  }\n}\n\nexport class Scaner {\n  private tokens: Token[] = []\n\n  private position: Position = initPosition()\n\n  private html: string\n\n  constructor (html: string) {\n    this.html = html\n  }\n\n  public scan (): Token[] {\n    const { html, position } = this\n    const len = html.length\n\n    while (position.index < len) {\n      const start = position.index\n      this.scanText()\n      if (position.index === start) {\n        const isComment = html.startsWith('!--', start + 1)\n        if (isComment) {\n          this.scanComment()\n        } else {\n          const tagName = this.scanTag()\n          if (shouldBeIgnore(tagName)) {\n            this.scanSkipTag(tagName)\n          }\n        }\n      }\n    }\n\n    return this.tokens\n  }\n\n  private scanText () {\n    const type = 'text'\n    const { html, position } = this\n    let textEnd = findTextEnd(html, position.index)\n    if (textEnd === position.index) {\n      return\n    }\n    if (textEnd === -1) {\n      textEnd = html.length\n    }\n\n    const start = copyPosition(position)\n    const content = html.slice(position.index, textEnd)\n    jumpPosition(position, html, textEnd)\n    const end = copyPosition(position)\n    this.tokens.push({ type, content, position: { start, end } })\n  }\n\n  private scanComment () {\n    const type = 'comment'\n    const { html, position } = this\n    const start = copyPosition(position)\n    feedPosition(position, html, 4) // \"<!--\".length\n    let contentEnd = html.indexOf('-->', position.index)\n    let commentEnd = contentEnd + 3 // \"-->\".length\n    if (contentEnd === -1) {\n      contentEnd = commentEnd = html.length\n    }\n\n    const content = html.slice(position.index, contentEnd)\n    jumpPosition(position, html, commentEnd)\n    this.tokens.push({\n      type,\n      content,\n      position: {\n        start,\n        end: copyPosition(position)\n      }\n    })\n  }\n\n  private scanTag () {\n    this.scanTagStart()\n    const tagName = this.scanTagName()\n    this.scanAttrs()\n    this.scanTagEnd()\n\n    return tagName\n  }\n\n  private scanTagStart () {\n    const type = 'tag-start'\n    const { html, position } = this\n\n    const secondChar = html.charAt(position.index + 1)\n    const close = secondChar === '/'\n    const start = copyPosition(position)\n    feedPosition(position, html, close ? 2 : 1)\n    this.tokens.push({ type, close, position: { start } })\n  }\n\n  private scanTagEnd () {\n    const type = 'tag-end'\n    const { html, position } = this\n\n    const firstChar = html.charAt(position.index)\n    const close = firstChar === '/'\n    feedPosition(position, html, close ? 2 : 1)\n    const end = copyPosition(position)\n    this.tokens.push({ type, close, position: { end } })\n  }\n\n  private scanTagName (): string {\n    const type = 'tag'\n    const { html, position } = this\n    const len = html.length\n    let start = position.index\n    while (start < len) {\n      const char = html.charAt(start)\n      const isTagChar = !(isWhitespaceChar(char) || char === '/' || char === '>')\n      if (isTagChar) break\n      start++\n    }\n\n    let end = start + 1\n    while (end < len) {\n      const char = html.charAt(end)\n      const isTagChar = !(isWhitespaceChar(char) || char === '/' || char === '>')\n      if (!isTagChar) break\n      end++\n    }\n\n    jumpPosition(position, html, end)\n    const tagName = html.slice(start, end)\n    this.tokens.push({\n      type,\n      content: tagName\n    })\n\n    return tagName\n  }\n\n  private scanAttrs () {\n    const { html, position, tokens } = this\n    let cursor = position.index\n    let quote: string | null = null // null, single-, or double-quote\n    let wordBegin = cursor // index of word start\n    const words: string[] = [] // \"key\", \"key=value\", \"key='value'\", etc\n    const len = html.length\n    while (cursor < len) {\n      const char = html.charAt(cursor)\n      if (quote) {\n        const isQuoteEnd = char === quote\n        if (isQuoteEnd) {\n          quote = null\n        }\n        cursor++\n        continue\n      }\n\n      const isTagEnd = char === '/' || char === '>'\n      if (isTagEnd) {\n        if (cursor !== wordBegin) {\n          words.push(html.slice(wordBegin, cursor))\n        }\n        break\n      }\n\n      if (isWordEnd(cursor, wordBegin, html)) {\n        if (cursor !== wordBegin) {\n          words.push(html.slice(wordBegin, cursor))\n        }\n        wordBegin = cursor + 1\n        cursor++\n        continue\n      }\n\n      const isQuoteStart = char === '\\'' || char === '\"'\n      if (isQuoteStart) {\n        quote = char\n        cursor++\n        continue\n      }\n\n      cursor++\n    }\n\n    jumpPosition(position, html, cursor)\n\n    const wLen = words.length\n    const type = 'attribute'\n    for (let i = 0; i < wLen; i++) {\n      const word = words[i]\n      const isNotPair = word.includes('=')\n      if (isNotPair) {\n        const secondWord = words[i + 1]\n        if (secondWord && secondWord.startsWith('=')) {\n          if (secondWord.length > 1) {\n            const newWord = word + secondWord\n            tokens.push({ type, content: newWord })\n            i += 1\n            continue\n          }\n          const thirdWord = words[i + 2]\n          i += 1\n          if (thirdWord) {\n            const newWord = word + '=' + thirdWord\n            tokens.push({ type, content: newWord })\n            i += 1\n            continue\n          }\n        }\n      }\n      if (word.endsWith('=')) {\n        const secondWord = words[i + 1]\n        if (secondWord && !secondWord.includes('=')) {\n          const newWord = word + secondWord\n          tokens.push({ type, content: newWord })\n          i += 1\n          continue\n        }\n\n        const newWord = word.slice(0, -1)\n        tokens.push({ type, content: newWord })\n        continue\n      }\n\n      tokens.push({ type, content: word })\n    }\n  }\n\n  private scanSkipTag (tagName: string) {\n    const { html, position } = this\n    const safeTagName = tagName.toLowerCase()\n    const len = html.length\n    while (position.index < len) {\n      const nextTag = html.indexOf('</', position.index)\n      if (nextTag === -1) {\n        this.scanText()\n        break\n      }\n\n      jumpPosition(position, html, nextTag)\n      const name = this.scanTag()\n      if (safeTagName === name.toLowerCase()) {\n        break\n      }\n    }\n  }\n}\n","import { internalComponents } from '@tarojs/shared'\n\nexport function makeMap (\n  str: string,\n  expectsLowerCase?: boolean\n): (key: string) => boolean {\n  const map: Record<string, boolean> = Object.create(null)\n  const list: Array<string> = str.split(',')\n  for (let i = 0; i < list.length; i++) {\n    map[list[i]] = true\n  }\n  return expectsLowerCase ? val => !!map[val.toLowerCase()] : val => !!map[val]\n}\n\nexport const specialMiniElements = {\n  img: 'image',\n  iframe: 'web-view'\n}\n\nconst internalCompsList = Object.keys(internalComponents)\n  .map(i => i.toLowerCase())\n  .join(',')\n\n// https://developers.weixin.qq.com/miniprogram/dev/component\nexport const isMiniElements = makeMap(internalCompsList, true)\n\n// https://developer.mozilla.org/en-US/docs/Web/HTML/Inline_elements\nexport const isInlineElements = makeMap('a,i,abbr,iframe,select,acronym,slot,small,span,bdi,kbd,strong,big,map,sub,sup,br,mark,mark,meter,template,canvas,textarea,cite,object,time,code,output,u,data,picture,tt,datalist,var,dfn,del,q,em,s,embed,samp,b', true)\n\n// https://developer.mozilla.org/en-US/docs/Web/HTML/Block-level_elements\nexport const isBlockElements = makeMap('address,fieldset,li,article,figcaption,main,aside,figure,nav,blockquote,footer,ol,details,form,p,dialog,h1,h2,h3,h4,h5,h6,pre,dd,header,section,div,hgroup,table,dl,hr,ul,dt', true)\n","export function unquote (str: string): string {\n  const car = str.charAt(0)\n  const end = str.length - 1\n  const isQuoteStart = car === '\"' || car === \"'\"\n  if (isQuoteStart && car === str.charAt(end)) {\n    return str.slice(1, end)\n  }\n  return str\n}\n","import { NodeType } from '../../dom/node_types'\nimport { unquote } from './utils'\n\nimport type { TaroNode } from '../../dom/node'\nimport type { ParsedTaroElement } from './parser'\n\nconst LEFT_BRACKET = '{'\nconst RIGHT_BRACKET = '}'\nconst CLASS_SELECTOR = '.'\nconst ID_SELECTOR = '#'\nconst CHILD_COMBINATOR = '>'\nconst GENERAL_SIBLING_COMBINATOR = '~'\nconst ADJACENT_SIBLING_COMBINATOR = '+'\n\ninterface ISelector {\n  isChild: boolean\n  isGeneralSibling: boolean\n  isAdjacentSibling: boolean\n  tag: string | null\n  id: string | null\n  class: string[]\n  attrs: {\n    all: boolean\n    key: string\n    value?: string | null\n  }[]\n}\n\ninterface IStyle {\n  content: string\n  selectorList: ISelector[]\n}\n\nexport default class StyleTagParser {\n  styles: IStyle[]= []\n\n  extractStyle (src: string) {\n    const REG_STYLE = /<style\\s?[^>]*>((.|\\n|\\s)+?)<\\/style>/g\n    let html = src\n    // let html = src.replace(/\\n/g, '')\n\n    html = html.replace(REG_STYLE, (_, $1: string) => {\n      const style = $1.trim()\n      this.stringToSelector(style)\n      return ''\n    })\n\n    return html.trim()\n  }\n\n  stringToSelector (style: string) {\n    let lb = style.indexOf(LEFT_BRACKET)\n\n    while (lb > -1) {\n      const rb = style.indexOf(RIGHT_BRACKET)\n      const selectors = style.slice(0, lb).trim()\n\n      let content = style.slice(lb + 1, rb)\n      content = content.replace(/:(.*);/g, function (_, $1) {\n        const t = $1.trim().replace(/ +/g, '+++')\n        return `:${t};`\n      })\n      content = content.replace(/ /g, '')\n      content = content.replace(/\\+\\+\\+/g, ' ')\n\n      if (!(/;$/.test(content))) {\n        content += ';'\n      }\n      selectors.split(',').forEach(src => {\n        const selectorList = this.parseSelector(src)\n        this.styles.push({\n          content,\n          selectorList\n        })\n      })\n      style = style.slice(rb + 1)\n      lb = style.indexOf(LEFT_BRACKET)\n    }\n    // console.log('res this.styles: ', this.styles)\n  }\n\n  parseSelector (src: string) {\n    // todo: 属性选择器里可以带空格：[a = \"b\"]，这里的 split(' ') 需要作兼容\n    const list = src.trim().replace(/ *([>~+]) */g, ' $1').replace(/ +/g, ' ').split(' ')\n    const selectors = list.map(item => {\n      const firstChar = item.charAt(0)\n      const selector: ISelector = {\n        isChild: firstChar === CHILD_COMBINATOR,\n        isGeneralSibling: firstChar === GENERAL_SIBLING_COMBINATOR,\n        isAdjacentSibling: firstChar === ADJACENT_SIBLING_COMBINATOR,\n        tag: null,\n        id: null,\n        class: [],\n        attrs: []\n      }\n\n      item = item.replace(/^[>~+]/, '')\n\n      // 属性选择器\n      item = item.replace(/\\[(.+?)\\]/g, function (_, $1: string) {\n        const [key, value] = $1.split('=')\n        const all = $1.indexOf('=') === -1\n\n        const attr = {\n          all,\n          key,\n          value: all ? null : value\n        }\n        selector.attrs.push(attr)\n        return ''\n      })\n\n      item = item.replace(/([.#][A-Za-z0-9-_]+)/g, function (_, $1: string) {\n        if ($1[0] === ID_SELECTOR) {\n          // id 选择器\n          selector.id = $1.substr(1)\n        } else if ($1[0] === CLASS_SELECTOR) {\n          // class 选择器\n          selector.class.push($1.substr(1))\n        }\n        return ''\n      })\n\n      // 标签选择器\n      if (item !== '') {\n        selector.tag = item\n      }\n\n      return selector\n    })\n    return selectors\n  }\n\n  matchStyle (tagName: string, el: ParsedTaroElement, list: number[]): string {\n    const res = sortStyles(this.styles).reduce((str, { content, selectorList }, i) => {\n      let idx = list[i]\n      let selector = selectorList[idx]\n      const nextSelector = selectorList[idx + 1]\n\n      if (nextSelector?.isGeneralSibling || nextSelector?.isAdjacentSibling) {\n        selector = nextSelector\n        idx += 1\n        list[i] += 1\n      }\n\n      let isMatch = this.matchCurrent(tagName, el, selector)\n\n      if (isMatch && selector.isGeneralSibling) {\n        let prev: ParsedTaroElement = getPreviousElement(el)\n        while (prev) {\n          if (prev.h5tagName && this.matchCurrent(prev.h5tagName, prev, selectorList[idx - 1])) {\n            isMatch = true\n            break\n          }\n          prev = getPreviousElement(prev)\n          isMatch = false\n        }\n      }\n      if (isMatch && selector.isAdjacentSibling) {\n        const prev: ParsedTaroElement = getPreviousElement(el)\n        if (!prev || !prev.h5tagName) {\n          isMatch = false\n        } else {\n          const isSiblingMatch = this.matchCurrent(prev.h5tagName, prev, selectorList[idx - 1])\n          if (!isSiblingMatch) {\n            isMatch = false\n          }\n        }\n      }\n\n      if (isMatch) {\n        if (idx === selectorList.length - 1) {\n          return str + content\n        } else if (idx < selectorList.length - 1) {\n          list[i] += 1\n        }\n      } else {\n        // 直接子代组合器: >\n        if (selector.isChild && idx > 0) {\n          list[i] -= 1\n          if (this.matchCurrent(tagName, el, selectorList[list[i]])) {\n            list[i] += 1\n          }\n        }\n      }\n\n      return str\n    }, '')\n    return res\n  }\n\n  matchCurrent (tagName: string, el: ParsedTaroElement, selector: ISelector): boolean {\n    // 标签选择器\n    if (selector.tag && selector.tag !== tagName) return false\n\n    // id 选择器\n    if (selector.id && selector.id !== el.id) return false\n\n    // class 选择器\n    if (selector.class.length) {\n      const classList = el.className.split(' ')\n      for (let i = 0; i < selector.class.length; i++) {\n        const cls = selector.class[i]\n        if (classList.indexOf(cls) === -1) {\n          return false\n        }\n      }\n    }\n\n    // 属性选择器\n    if (selector.attrs.length) {\n      for (let i = 0; i < selector.attrs.length; i++) {\n        const { all, key, value } = selector.attrs[i]\n        if (all && !el.hasAttribute(key)) {\n          return false\n        } else {\n          const attr = el.getAttribute(key)\n          if (attr !== unquote(value || '')) {\n            return false\n          }\n        }\n      }\n    }\n\n    return true\n  }\n}\n\nfunction getPreviousElement (el: TaroNode) {\n  const parent = el.parentElement\n  if (!parent) return null\n\n  const prev = el.previousSibling\n  if (!prev) return null\n\n  if (prev.nodeType === NodeType.ELEMENT_NODE) {\n    return prev\n  } else {\n    return getPreviousElement(prev)\n  }\n}\n\n// 根据 css selector 权重排序: 权重大的靠后\n// @WARN 不考虑伪类\n// https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/Cascade_and_inheritance#specificity_2\nfunction sortStyles (styles: IStyle[]) {\n  return styles.sort((s1, s2) => {\n    const hundreds1 = getHundredsWeight(s1.selectorList)\n    const hundreds2 = getHundredsWeight(s2.selectorList)\n\n    if (hundreds1 !== hundreds2) return hundreds1 - hundreds2\n\n    const tens1 = getTensWeight(s1.selectorList)\n    const tens2 = getTensWeight(s2.selectorList)\n\n    if (tens1 !== tens2) return tens1 - tens2\n\n    const ones1 = getOnesWeight(s1.selectorList)\n    const ones2 = getOnesWeight(s2.selectorList)\n\n    return ones1 - ones2\n  })\n}\n\nfunction getHundredsWeight (selectors: ISelector[]) {\n  return selectors.reduce((pre, cur) => pre + (cur.id ? 1 : 0), 0)\n}\n\nfunction getTensWeight (selectors: ISelector[]) {\n  return selectors.reduce((pre, cur) => pre + cur.class.length + cur.attrs.length, 0)\n}\n\nfunction getOnesWeight (selectors: ISelector[]) {\n  return selectors.reduce((pre, cur) => pre + (cur.tag ? 1 : 0), 0)\n}\n","import { isFunction } from '@tarojs/shared'\nimport { Scaner, Token } from './scaner'\nimport { options } from '../../options'\nimport { specialMiniElements, isMiniElements, isBlockElements, isInlineElements } from './tags'\nimport StyleTagParser from './style'\nimport { unquote } from './utils'\n\nimport type { TaroElement } from '../../dom/element'\nimport type { TaroDocument } from '../../dom/document'\n\ninterface State {\n  tokens: Token[]\n  cursor: number\n  stack: Element[]\n}\n\nconst closingTagAncestorBreakers = {\n  li: ['ul', 'ol', 'menu'],\n  dt: ['dl'],\n  dd: ['dl'],\n  tbody: ['table'],\n  thead: ['table'],\n  tfoot: ['table'],\n  tr: ['table'],\n  td: ['table']\n}\n\ninterface Node {\n  type: string;\n}\n\ninterface Comment extends Node {\n  type: 'comment'\n  content: string\n}\n\nexport interface Text extends Node {\n  type: 'text'\n  content: string\n}\n\nexport interface Element extends Node {\n  type: 'element'\n  tagName: string\n  children: ChildNode[]\n  attributes: string[]\n}\n\nexport interface ParsedTaroElement extends TaroElement{\n  h5tagName?: string\n}\n\ntype ChildNode = Comment | Text | Element\n\nfunction hasTerminalParent (tagName: string, stack: Element[]) {\n  const tagParents: undefined | string[] = closingTagAncestorBreakers[tagName]\n  if (tagParents) {\n    let currentIndex = stack.length - 1\n    while (currentIndex >= 0) {\n      const parentTagName = stack[currentIndex].tagName\n      if (parentTagName === tagName) {\n        break\n      }\n      if (tagParents && tagParents.includes(parentTagName!)) {\n        return true\n      }\n      currentIndex--\n    }\n  }\n  return false\n}\n\nfunction getTagName (tag: string) {\n  if (options.html!.renderHTMLTag) {\n    return tag\n  }\n\n  if (specialMiniElements[tag]) {\n    return specialMiniElements[tag]\n  } else if (isMiniElements(tag)) {\n    return tag\n  } else if (isBlockElements(tag)) {\n    return 'view'\n  } else if (isInlineElements(tag)) {\n    return 'text'\n  }\n\n  return 'view'\n}\n\nfunction splitEqual (str: string) {\n  const sep = '='\n  const idx = str.indexOf(sep)\n  if (idx === -1) return [str]\n  const key = str.slice(0, idx).trim()\n  const value = str.slice(idx + sep.length).trim()\n  return [key, value]\n}\n\nfunction format (\n  children: ChildNode[],\n  document: TaroDocument,\n  styleOptions: {\n    styleTagParser: StyleTagParser\n    descendantList: number[]\n  },\n  parent?: TaroElement\n) {\n  return children\n    .filter(child => {\n      // 过滤注释和空文本节点\n      if (child.type === 'comment') {\n        return false\n      } else if (child.type === 'text') {\n        return child.content !== ''\n      }\n      return true\n    })\n    .map((child: Text | Element) => {\n      // 文本节点\n      if (child.type === 'text') {\n        const text = document.createTextNode(child.content)\n        if (isFunction(options.html!.transformText)) {\n          return options.html!.transformText(text, child)\n        }\n        parent?.appendChild(text)\n        return text\n      }\n\n      const el: ParsedTaroElement = document.createElement(getTagName(child.tagName))\n      el.h5tagName = child.tagName\n\n      parent?.appendChild(el)\n\n      if (!options.html!.renderHTMLTag) {\n        el.className = `h5-${child.tagName}`\n      }\n\n      for (let i = 0; i < child.attributes.length; i++) {\n        const attr = child.attributes[i]\n        const [key, value] = splitEqual(attr)\n        if (key === 'class') {\n          el.className += ' ' + unquote(value)\n        } else if (key[0] === 'o' && key[1] === 'n') {\n          continue\n        } else {\n          el.setAttribute(key, value == null ? true : unquote(value))\n        }\n      }\n\n      const { styleTagParser, descendantList } = styleOptions\n      const list = descendantList.slice()\n      const style = styleTagParser.matchStyle(child.tagName, el, list)\n\n      el.setAttribute('style', style + el.style.cssText)\n      // console.log('style, ', style)\n\n      format(child.children, document, {\n        styleTagParser,\n        descendantList: list\n      }, el)\n\n      if (isFunction(options.html!.transformElement)) {\n        return options.html!.transformElement(el, child)\n      }\n\n      return el\n    })\n}\n\nexport function parser (html: string, document: TaroDocument) {\n  const styleTagParser = new StyleTagParser()\n  html = styleTagParser.extractStyle(html)\n\n  const tokens = new Scaner(html).scan()\n\n  const root: Element = { tagName: '', children: [], type: 'element', attributes: [] }\n\n  const state = { tokens, options, cursor: 0, stack: [root] }\n  parse(state)\n\n  return format(root.children, document, {\n    styleTagParser,\n    descendantList: Array(styleTagParser.styles.length).fill(0)\n  })\n}\n\nfunction parse (state: State) {\n  const { tokens, stack } = state\n  let { cursor } = state\n\n  const len = tokens.length\n\n  let nodes = stack[stack.length - 1].children\n\n  while (cursor < len) {\n    const token = tokens[cursor]\n    if (token.type !== 'tag-start') {\n      // comment or text\n      nodes.push(token as ChildNode)\n      cursor++\n      continue\n    }\n\n    const tagToken = tokens[++cursor]\n    cursor++\n    const tagName = tagToken.content!.toLowerCase()\n    if (token.close) {\n      let index = stack.length\n      let shouldRewind = false\n      while (--index > -1) {\n        if (stack[index].tagName === tagName) {\n          shouldRewind = true\n          break\n        }\n      }\n      while (cursor < len) {\n        const endToken = tokens[cursor]\n        if (endToken.type !== 'tag-end') break\n        cursor++\n      }\n      if (shouldRewind) {\n        stack.splice(index)\n        break\n      } else {\n        continue\n      }\n    }\n\n    const isClosingTag = options.html!.closingElements.has(tagName)\n    let shouldRewindToAutoClose = isClosingTag\n    if (shouldRewindToAutoClose) {\n      shouldRewindToAutoClose = !hasTerminalParent(tagName, stack)\n    }\n\n    if (shouldRewindToAutoClose) {\n      let currentIndex = stack.length - 1\n      while (currentIndex > 0) {\n        if (tagName === stack[currentIndex].tagName) {\n          stack.splice(currentIndex)\n          const previousIndex = currentIndex - 1\n          nodes = stack[previousIndex].children\n          break\n        }\n        currentIndex = currentIndex - 1\n      }\n    }\n\n    const attributes: string[] = []\n    let attrToken: Token\n    while (cursor < len) {\n      attrToken = tokens[cursor]\n      if (attrToken.type === 'tag-end') break\n      attributes.push(attrToken.content!)\n      cursor++\n    }\n\n    cursor++\n    const children: Element[] = []\n    const element: Element = {\n      type: 'element',\n      tagName: tagToken.content!,\n      attributes,\n      children\n    }\n    nodes.push(element)\n\n    const hasChildren = !(attrToken!.close || options.html!.voidElements.has(tagName))\n    if (hasChildren) {\n      stack.push({ tagName, children } as any)\n      const innerState: State = { tokens, cursor, stack }\n      parse(innerState)\n      cursor = innerState.cursor\n    }\n  }\n\n  state.cursor = cursor\n}\n","import { parser } from './parser'\nimport { options } from '../../options'\n\nimport type { TaroNode } from '../../dom/node'\nimport type { TaroDocument } from '../../dom/document'\n\noptions.html = {\n  skipElements: new Set(['style', 'script']),\n  voidElements: new Set([\n    '!doctype', 'area', 'base', 'br', 'col', 'command',\n    'embed', 'hr', 'img', 'input', 'keygen', 'link',\n    'meta', 'param', 'source', 'track', 'wbr'\n  ]),\n  closingElements: new Set([\n    'html', 'head', 'body', 'p', 'dt', 'dd', 'li', 'option',\n    'thead', 'th', 'tbody', 'tr', 'td', 'tfoot', 'colgroup'\n  ]),\n  renderHTMLTag: false\n}\n\nexport function setInnerHTML (element: TaroNode, html: string, getDoc: () => TaroDocument) {\n  while (element.firstChild) {\n    element.removeChild(element.firstChild)\n  }\n  const children = parser(html, getDoc())\n\n  for (let i = 0; i < children.length; i++) {\n    element.appendChild(children[i])\n  }\n}\n","import {\n  STYLE,\n  DATASET,\n  PROPS,\n  OBJECT\n} from '../constants'\nimport { parser } from '../dom-external/inner-html/parser'\nimport { GetDoc } from '../interface'\nimport { NodeType } from '../dom/node_types'\n\nimport type { Ctx } from '../interface'\n\nexport type IPosition = 'beforebegin' | 'afterbegin' | 'beforeend' | 'afterend'\n\n/**\n * An implementation of `Element.insertAdjacentHTML()`\n * to support Vue 3 with a version of or greater than `vue@3.1.2`\n */\nexport function insertAdjacentHTMLImpl (\n  position: IPosition,\n  html: string,\n  getDoc: GetDoc\n) {\n  const parsedNodes = parser(html, getDoc())\n\n  for (let i = 0; i < parsedNodes.length; i++) {\n    const n = parsedNodes[i]\n\n    switch (position) {\n      case 'beforebegin':\n        this.parentNode?.insertBefore(n, this)\n        break\n      case 'afterbegin':\n        if (this.hasChildNodes()) {\n          this.insertBefore(n, this.childNodes[0])\n        } else {\n          this.appendChild(n)\n        }\n        break\n      case 'beforeend':\n        this.appendChild(n)\n        break\n      case 'afterend':\n        this.parentNode?.appendChild(n)\n        break\n    }\n  }\n}\n\nexport function cloneNode (ctx: Ctx, getDoc, isDeep = false) {\n  const document = getDoc()\n  let newNode\n\n  if (ctx.nodeType === NodeType.ELEMENT_NODE) {\n    newNode = document.createElement(ctx.nodeName)\n  } else if (ctx.nodeType === NodeType.TEXT_NODE) {\n    newNode = document.createTextNode('')\n  }\n\n  for (const key in this) {\n    const value: any = this[key]\n    if ([PROPS, DATASET].includes(key) && typeof value === OBJECT) {\n      newNode[key] = { ...value }\n    } else if (key === '_value') {\n      newNode[key] = value\n    } else if (key === STYLE) {\n      newNode.style._value = { ...value._value }\n      newNode.style._usedStyleProp = new Set(Array.from(value._usedStyleProp))\n    }\n  }\n\n  if (isDeep) {\n    newNode.childNodes = ctx.childNodes.map(node => node.cloneNode(true))\n  }\n\n  return newNode\n}\n","import { inject, injectable } from 'inversify'\nimport SERVICE_IDENTIFIER from '../constants/identifiers'\nimport { ElementNames, InstanceNamedFactory } from '../interface'\nimport { setInnerHTML } from '../dom-external/inner-html/html'\nimport { cloneNode, insertAdjacentHTMLImpl } from './node'\n\nimport type { Ctx, GetDoc } from '../interface'\nimport type { TaroDocument } from '../dom/document'\nimport type { IPosition } from './node'\n\ndeclare const ENABLE_INNER_HTML: boolean\ndeclare const ENABLE_ADJACENT_HTML: boolean\ndeclare const ENABLE_CLONE_NODE: boolean\n\n@injectable()\nexport class TaroNodeImpl {\n  public getDoc: GetDoc\n\n  constructor (// eslint-disable-next-line @typescript-eslint/indent\n    @inject(SERVICE_IDENTIFIER.TaroElementFactory) getElement: InstanceNamedFactory\n  ) {\n    this.getDoc = () => getElement<TaroDocument>(ElementNames.Document)()\n  }\n\n  public bind (ctx: Ctx) {\n    const getDoc = this.getDoc\n\n    if (ENABLE_INNER_HTML) {\n      bindInnerHTML(ctx, getDoc)\n      if (ENABLE_ADJACENT_HTML) {\n        bindAdjacentHTML(ctx, getDoc)\n      }\n    }\n    if (ENABLE_CLONE_NODE) {\n      ctx.cloneNode = cloneNode.bind(ctx, ctx, getDoc)\n    }\n  }\n}\n\nfunction bindInnerHTML (ctx, getDoc) {\n  Object.defineProperty(ctx, 'innerHTML', {\n    configurable: true,\n    enumerable: true,\n    set (html: string) {\n      setInnerHTML.call(ctx, ctx, html, getDoc)\n    },\n    get (): string {\n      return ''\n    }\n  })\n}\n\nfunction bindAdjacentHTML (ctx, getDoc) {\n  ctx.insertAdjacentHTML = function (position: IPosition, html: string) {\n    insertAdjacentHTMLImpl.call(ctx, position, html, getDoc)\n  }\n}\n","import { options } from '../options'\nimport { ElementNames } from '../interface'\nimport { DOCUMENT_FRAGMENT } from '../constants'\n\nimport type { Ctx } from '../interface'\n\nexport function getBoundingClientRectImpl (): Promise<null> {\n  if (!options.miniGlobal) return Promise.resolve(null)\n  return new Promise(resolve => {\n    const query = options.miniGlobal.createSelectorQuery()\n    query.select(`#${this.uid}`).boundingClientRect(res => {\n      resolve(res)\n    }).exec()\n  })\n}\n\nexport function getTemplateContent (ctx: Ctx): string | undefined {\n  if (ctx.nodeName === 'template') {\n    const content = ctx._getElement(ElementNames.Element)(DOCUMENT_FRAGMENT)\n    content.childNodes = ctx.childNodes\n    ctx.childNodes = [content]\n    content.parentNode = ctx\n    content.childNodes.forEach(nodes => {\n      nodes.parentNode = content\n    })\n    return content\n  }\n}\n","import { injectable } from 'inversify'\nimport { getBoundingClientRectImpl, getTemplateContent } from './element'\n\nimport type { Ctx } from '../interface'\n\ndeclare const ENABLE_SIZE_APIS: boolean\ndeclare const ENABLE_TEMPLATE_CONTENT: boolean\n\n@injectable()\nexport class TaroElementImpl {\n  bind (ctx: Ctx) {\n    if (ENABLE_SIZE_APIS) {\n      ctx.getBoundingClientRect = async function (...args: any[]) {\n        return await getBoundingClientRectImpl.apply(ctx, args)\n      }\n    }\n    if (ENABLE_TEMPLATE_CONTENT) {\n      bindContent(ctx)\n    }\n  }\n}\n\nfunction bindContent (ctx: Ctx) {\n  Object.defineProperty(ctx, 'content', {\n    configurable: true,\n    enumerable: true,\n    get () {\n      return getTemplateContent(ctx)\n    }\n  })\n}\n","import { inject, injectable } from 'inversify'\nimport { controlledComponent, isUndefined } from '@tarojs/shared'\nimport SERVICE_IDENTIFIER from '../constants/identifiers'\nimport { TaroElement } from '../dom/element'\nimport { NodeType } from '../dom/node_types'\nimport { eventSource } from '../dom/event-source'\nimport { ElementNames, InstanceFactory, InstanceNamedFactory } from '../interface'\nimport {\n  ROOT_STR,\n  DOCUMENT_ELEMENT_NAME,\n  COMMENT\n} from '../constants'\n\nimport type { FormElement } from '../dom/form'\nimport type { TaroRootElement } from '../dom/root'\nimport type { TaroText } from '../dom/text'\nimport type { TaroNodeImpl } from '../dom-external/node-impl'\nimport type { TaroElementImpl } from '../dom-external/element-impl'\nimport type { Hooks } from '../hooks'\n\n@injectable()\nexport class TaroDocument extends TaroElement {\n  private _getText: InstanceFactory<TaroText>\n\n  public constructor (// eslint-disable-next-line @typescript-eslint/indent\n    @inject(SERVICE_IDENTIFIER.TaroNodeImpl) nodeImpl: TaroNodeImpl,\n    @inject(SERVICE_IDENTIFIER.TaroElementFactory) getElement: InstanceNamedFactory,\n    @inject(SERVICE_IDENTIFIER.Hooks) hooks: Hooks,\n    @inject(SERVICE_IDENTIFIER.TaroElementImpl) elementImpl: TaroElementImpl,\n    @inject(SERVICE_IDENTIFIER.TaroTextFactory) getText: InstanceFactory<TaroText>\n  ) {\n    super(nodeImpl, getElement, hooks, elementImpl)\n    this._getText = getText\n    this.nodeType = NodeType.DOCUMENT_NODE\n    this.nodeName = DOCUMENT_ELEMENT_NAME\n  }\n\n  public createElement (type: string): TaroElement | TaroRootElement | FormElement {\n    if (type === ROOT_STR) {\n      return this._getElement<TaroRootElement>(ElementNames.RootElement)()\n    }\n\n    if (controlledComponent.has(type)) {\n      return this._getElement<FormElement>(ElementNames.FormElement)(type)\n    }\n\n    return this._getElement<TaroElement>(ElementNames.Element)(type)\n  }\n\n  // an ugly fake createElementNS to deal with @vue/runtime-dom's\n  // support mounting app to svg container since vue@3.0.8\n  public createElementNS (_svgNS: string, type: string): TaroElement | TaroRootElement | FormElement {\n    return this.createElement(type)\n  }\n\n  public createTextNode (text: string): TaroText {\n    return this._getText(text)\n  }\n\n  public getElementById<T extends TaroElement> (id: string | undefined | null): T | null {\n    const el = eventSource.get(id)\n    return isUndefined(el) ? null : el as T\n  }\n\n  public querySelector<T extends TaroElement> (query: string): T | null {\n    // 为了 Vue3 的乞丐版实现\n    if (/^#/.test(query)) {\n      return this.getElementById<T>(query.slice(1))\n    }\n    return null\n  }\n\n  public querySelectorAll () {\n    // fake hack\n    return []\n  }\n\n  // @TODO: @PERF: 在 hydrate 移除掉空的 node\n  public createComment (): TaroText {\n    const textnode = this._getText('')\n    textnode.nodeName = COMMENT\n    return textnode\n  }\n}\n","import { inject, injectable, multiInject, /* multiInject, */ optional } from 'inversify'\nimport SERVICE_IDENTIFIER from './constants/identifiers'\n\nimport type {\n  IHooks,\n  OnRemoveAttribute,\n  GetLifecycle,\n  GetPathIndex,\n  GetEventCenter,\n  ModifyMpEvent,\n  ModifyTaroEvent,\n  IsBubbleEvents,\n  GetSpecialNodes,\n  BatchedEventUpdates,\n  MergePageInstance,\n  CreatePullDownComponent,\n  GetDOMNode,\n  InitNativeApi,\n  ModifySetAttrPayload,\n  ModifyHydrateData,\n  ModifyRmAttrPayload,\n  MpEvent,\n  OnAddEvent,\n  patchElement\n} from './interface'\nimport type { TaroElement } from './dom/element'\nimport type { TaroEvent } from './dom/event'\n\n@injectable()\nexport class Hooks implements IHooks {\n  @inject(SERVICE_IDENTIFIER.getLifecycle)\n  public getLifecycle: GetLifecycle\n\n  @inject(SERVICE_IDENTIFIER.getPathIndex)\n  public getPathIndex: GetPathIndex\n\n  @inject(SERVICE_IDENTIFIER.getEventCenter)\n  public getEventCenter: GetEventCenter\n\n  @inject(SERVICE_IDENTIFIER.isBubbleEvents)\n  public isBubbleEvents: IsBubbleEvents\n\n  @inject(SERVICE_IDENTIFIER.getSpecialNodes)\n  public getSpecialNodes: GetSpecialNodes\n\n  @inject(SERVICE_IDENTIFIER.onRemoveAttribute) @optional()\n  public onRemoveAttribute?: OnRemoveAttribute\n\n  @inject(SERVICE_IDENTIFIER.batchedEventUpdates) @optional()\n  public batchedEventUpdates?: BatchedEventUpdates\n\n  @inject(SERVICE_IDENTIFIER.mergePageInstance) @optional()\n  public mergePageInstance?: MergePageInstance\n\n  @inject(SERVICE_IDENTIFIER.createPullDownComponent) @optional()\n  public createPullDownComponent?: CreatePullDownComponent\n\n  @inject(SERVICE_IDENTIFIER.getDOMNode) @optional()\n  public getDOMNode?: GetDOMNode\n\n  @inject(SERVICE_IDENTIFIER.modifyHydrateData) @optional()\n  public modifyHydrateData?: ModifyHydrateData\n\n  @inject(SERVICE_IDENTIFIER.modifySetAttrPayload) @optional()\n  public modifySetAttrPayload?: ModifySetAttrPayload\n\n  @inject(SERVICE_IDENTIFIER.modifyRmAttrPayload) @optional()\n  public modifyRmAttrPayload?: ModifyRmAttrPayload\n\n  @inject(SERVICE_IDENTIFIER.onAddEvent) @optional()\n  public onAddEvent?: OnAddEvent\n\n  @multiInject(SERVICE_IDENTIFIER.modifyMpEvent) @optional()\n  private modifyMpEventImpls?: ModifyMpEvent[]\n\n  public modifyMpEvent (e: MpEvent) {\n    this.modifyMpEventImpls?.forEach(fn => fn(e))\n  }\n\n  @multiInject(SERVICE_IDENTIFIER.modifyTaroEvent) @optional()\n  private modifyTaroEventImpls?: ModifyTaroEvent[]\n\n  public modifyTaroEvent (e: TaroEvent, element: TaroElement) {\n    this.modifyTaroEventImpls?.forEach(fn => fn(e, element))\n  }\n\n  @multiInject(SERVICE_IDENTIFIER.initNativeApi) @optional()\n  public initNativeApiImpls?: InitNativeApi[]\n\n  public initNativeApi (taro: Record<string, any>) {\n    this.initNativeApiImpls?.forEach(fn => fn(taro))\n  }\n\n  @multiInject(SERVICE_IDENTIFIER.patchElement) @optional()\n  public patchElementImpls?: patchElement[]\n\n  public patchElement (element: TaroElement) {\n    this.patchElementImpls?.forEach(fn => fn(element))\n  }\n}\n","/**\n * 支持冒泡的事件, 除 支付宝小程序外，其余的可冒泡事件都和微信保持一致\n * 详见 见 https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html\n */\nexport const BUBBLE_EVENTS = new Set([\n  'touchstart',\n  'touchmove',\n  'touchcancel',\n  'touchend',\n  'touchforcechange',\n  'tap',\n  'longpress',\n  'longtap',\n  'transitionend',\n  'animationstart',\n  'animationiteration',\n  'animationend'\n])\n","import { ContainerModule } from 'inversify'\nimport SERVICE_IDENTIFIER from '../constants/identifiers'\nimport { BUBBLE_EVENTS } from '../constants/events'\n\nimport type { IsBubbleEvents, GetEventCenter, GetLifecycle, GetPathIndex, GetSpecialNodes } from '../interface'\n\nconst getLifecycle: GetLifecycle = function (instance, lifecycle) {\n  return instance[lifecycle]\n}\n\nconst getPathIndex: GetPathIndex = function (indexOfNode) {\n  return `[${indexOfNode}]`\n}\n\nconst getEventCenter: GetEventCenter = function (Events) {\n  return new Events()\n}\n\nconst isBubbleEvents = function (eventName) {\n  return BUBBLE_EVENTS.has(eventName)\n}\n\nconst getSpecialNodes = function () {\n  return ['view', 'text', 'image']\n}\n\nexport const DefaultHooksContainer = new ContainerModule(bind => {\n  bind<GetLifecycle>(SERVICE_IDENTIFIER.getLifecycle).toFunction(getLifecycle)\n  bind<GetPathIndex>(SERVICE_IDENTIFIER.getPathIndex).toFunction(getPathIndex)\n  bind<GetEventCenter>(SERVICE_IDENTIFIER.getEventCenter).toFunction(getEventCenter)\n  bind<IsBubbleEvents>(SERVICE_IDENTIFIER.isBubbleEvents).toFunction(isBubbleEvents)\n  bind<GetSpecialNodes>(SERVICE_IDENTIFIER.getSpecialNodes).toFunction(getSpecialNodes)\n})\n","import { defaultReconciler, isArray } from '@tarojs/shared'\nimport SERVICE_IDENTIFIER from '../constants/identifiers'\n\nimport type { Container } from 'inversify'\n\nexport default function processPluginHooks (container: Container) {\n  const keys = Object.keys(defaultReconciler)\n  keys.forEach(key => {\n    if (key in SERVICE_IDENTIFIER) {\n      // is hooks\n      const identifier = SERVICE_IDENTIFIER[key]\n      const fn = defaultReconciler[key]\n\n      if (isArray(fn)) {\n        // is multi\n        fn.forEach(item => container.bind(identifier).toFunction(item))\n      } else {\n        if (container.isBound(identifier)) {\n          // 之前有绑定过，需要重新绑定以覆盖前者\n          container.rebind(identifier).toFunction(fn)\n        } else {\n          container.bind(identifier).toFunction(fn)\n        }\n      }\n    }\n  })\n}\n","import { Container, interfaces } from 'inversify'\nimport SERVICE_IDENTIFIER from '../constants/identifiers'\nimport { TaroNodeImpl } from '../dom-external/node-impl'\nimport { TaroElementImpl } from '../dom-external/element-impl'\nimport { TaroElement } from '../dom/element'\nimport { TaroText } from '../dom/text'\nimport { TaroDocument } from '../dom/document'\nimport { TaroRootElement } from '../dom/root'\nimport { FormElement } from '../dom/form'\nimport { ElementNames, InstanceFactory, InstanceNamedFactory } from '../interface'\nimport { Hooks } from '../hooks'\nimport { DefaultHooksContainer } from './default-hooks'\nimport processPluginHooks from './plugin-hooks'\n\nconst container = new Container()\n\nif (process.env.TARO_ENV !== 'h5') {\n  container.bind<TaroElement>(SERVICE_IDENTIFIER.TaroElement).to(TaroElement).whenTargetNamed(ElementNames.Element)\n  container.bind<TaroDocument>(SERVICE_IDENTIFIER.TaroElement).to(TaroDocument).inSingletonScope().whenTargetNamed(ElementNames.Document)\n  container.bind<TaroRootElement>(SERVICE_IDENTIFIER.TaroElement).to(TaroRootElement).whenTargetNamed(ElementNames.RootElement)\n  container.bind<FormElement>(SERVICE_IDENTIFIER.TaroElement).to(FormElement).whenTargetNamed(ElementNames.FormElement)\n  container.bind<InstanceNamedFactory>(SERVICE_IDENTIFIER.TaroElementFactory).toFactory<TaroElement>((context: interfaces.Context) => {\n    return (named: ElementNames) => (nodeName?: string) => {\n      const el = context.container.getNamed<TaroElement>(SERVICE_IDENTIFIER.TaroElement, named)\n      if (nodeName) {\n        el.nodeName = nodeName\n      }\n      el.tagName = el.nodeName.toUpperCase()\n      return el\n    }\n  })\n\n  container.bind<TaroText>(SERVICE_IDENTIFIER.TaroText).to(TaroText)\n  container.bind<InstanceFactory<TaroText>>(SERVICE_IDENTIFIER.TaroTextFactory).toFactory<TaroText>((context: interfaces.Context) => {\n    return (text: string) => {\n      const textNode = context.container.get<TaroText>(SERVICE_IDENTIFIER.TaroText)\n      textNode._value = text\n      return textNode\n    }\n  })\n\n  container.bind<TaroNodeImpl>(SERVICE_IDENTIFIER.TaroNodeImpl).to(TaroNodeImpl).inSingletonScope()\n  container.bind<TaroElementImpl>(SERVICE_IDENTIFIER.TaroElementImpl).to(TaroElementImpl).inSingletonScope()\n}\n\ncontainer.bind<Hooks>(SERVICE_IDENTIFIER.Hooks).to(Hooks).inSingletonScope()\ncontainer.load(DefaultHooksContainer)\nprocessPluginHooks(container)\n\nexport default container\n","import { EMPTY_OBJ } from '@tarojs/shared'\nimport container from '../container'\nimport { ElementNames } from '../interface'\nimport { isParentBinded } from '../utils'\nimport SERVICE_IDENTIFIER from '../constants/identifiers'\nimport {\n  CONFIRM,\n  CURRENT_TARGET,\n  INPUT,\n  KEY_CODE,\n  TARGET,\n  TIME_STAMP,\n  TYPE,\n  TOUCHMOVE\n} from '../constants'\n\nimport type { TaroElement } from './element'\nimport type { InstanceNamedFactory, EventOptions, MpEvent, TaroDocumentInstance, IHooks } from '../interface'\n\nlet hooks\nlet getElement\nlet document\nif (process.env.TARO_ENV !== 'h5') {\n  hooks = container.get<IHooks>(SERVICE_IDENTIFIER.Hooks)\n  getElement = container.get<InstanceNamedFactory>(SERVICE_IDENTIFIER.TaroElementFactory)\n  document = getElement(ElementNames.Document)() as TaroDocumentInstance\n}\n\n// Taro 事件对象。以 Web 标准的事件对象为基础，加入小程序事件对象中携带的部分信息，并模拟实现事件冒泡。\nexport class TaroEvent {\n  public type: string\n\n  public bubbles: boolean\n\n  public cancelable: boolean\n\n  public _stop = false\n\n  public _end = false\n\n  public defaultPrevented = false\n\n  // timestamp can either be hi-res ( relative to page load) or low-res (relative to UNIX epoch)\n  // here use hi-res timestamp\n  public timeStamp = Date.now()\n\n  public mpEvent: MpEvent | undefined\n\n  public constructor (type: string, opts: EventOptions, event?: MpEvent) {\n    this.type = type.toLowerCase()\n    this.mpEvent = event\n    this.bubbles = Boolean(opts && opts.bubbles)\n    this.cancelable = Boolean(opts && opts.cancelable)\n  }\n\n  public stopPropagation () {\n    this._stop = true\n  }\n\n  public stopImmediatePropagation () {\n    this._end = this._stop = true\n  }\n\n  public preventDefault () {\n    this.defaultPrevented = true\n  }\n\n  get target () {\n    const element = document.getElementById(this.mpEvent?.target.id)\n    return {\n      ...this.mpEvent?.target,\n      ...this.mpEvent?.detail,\n      dataset: element !== null ? element.dataset : EMPTY_OBJ\n    }\n  }\n\n  get currentTarget () {\n    const element = document.getElementById(this.mpEvent?.currentTarget.id)\n\n    if (element === null) {\n      return this.target\n    }\n\n    return {\n      ...this.mpEvent?.currentTarget,\n      ...this.mpEvent?.detail,\n      dataset: element.dataset\n    }\n  }\n}\n\nexport function createEvent (event: MpEvent | string, node?: TaroElement) {\n  if (typeof event === 'string') {\n    // For Vue3 using document.createEvent\n    return new TaroEvent(event, { bubbles: true, cancelable: true })\n  }\n\n  const domEv = new TaroEvent(event.type, { bubbles: true, cancelable: true }, event)\n\n  for (const key in event) {\n    if (key === CURRENT_TARGET || key === TARGET || key === TYPE || key === TIME_STAMP) {\n      continue\n    } else {\n      domEv[key] = event[key]\n    }\n  }\n\n  if (domEv.type === CONFIRM && node?.nodeName === INPUT) {\n    // eslint-disable-next-line dot-notation\n    domEv[KEY_CODE] = 13\n  }\n\n  return domEv\n}\n\nconst eventsBatch = {}\n\n// 小程序的事件代理回调函数\nexport function eventHandler (event: MpEvent) {\n  hooks.modifyMpEvent?.(event)\n\n  if (event.currentTarget == null) {\n    event.currentTarget = event.target\n  }\n\n  const node = document.getElementById(event.currentTarget.id)\n  if (node) {\n    const dispatch = () => {\n      const e = createEvent(event, node)\n      hooks.modifyTaroEvent?.(e, node)\n      node.dispatchEvent(e)\n    }\n    if (typeof hooks.batchedEventUpdates === 'function') {\n      const type = event.type\n\n      if (\n        !hooks.isBubbleEvents(type) ||\n        !isParentBinded(node, type) ||\n        (type === TOUCHMOVE && !!node.props.catchMove)\n      ) {\n        // 最上层组件统一 batchUpdate\n        hooks.batchedEventUpdates(() => {\n          if (eventsBatch[type]) {\n            eventsBatch[type].forEach(fn => fn())\n            delete eventsBatch[type]\n          }\n          dispatch()\n        })\n      } else {\n        // 如果上层组件也有绑定同类型的组件，委托给上层组件调用事件回调\n        (eventsBatch[type] ||= []).push(dispatch)\n      }\n    } else {\n      dispatch()\n    }\n  }\n}\n","import { EMPTY_OBJ } from '@tarojs/shared'\n\nexport const isBrowser = typeof document !== 'undefined' && !!document.scripts\nexport const doc: Document = isBrowser ? document : EMPTY_OBJ\nexport const win: Window = isBrowser ? window : EMPTY_OBJ\n","import { createEvent } from '../dom/event'\nimport { isBrowser, doc } from '../env'\nimport ioc_container from '../container'\nimport SERVICE_IDENTIFIER from '../constants/identifiers'\nimport { ElementNames, InstanceNamedFactory } from '../interface'\nimport {\n  HTML,\n  HEAD,\n  BODY,\n  APP,\n  CONTAINER\n} from '../constants'\n\nimport type { TaroDocumentInstance } from '../interface'\n\nexport function createDocument () {\n  /**\n   * <document>\n   *   <html>\n   *     <head></head>\n   *     <body>\n   *       <container>\n   *         <app id=\"app\" />\n   *       </container>\n   *     </body>\n   *   </html>\n   * </document>\n   */\n  const getElement = ioc_container.get<InstanceNamedFactory>(SERVICE_IDENTIFIER.TaroElementFactory)\n  const doc = getElement(ElementNames.Document)() as TaroDocumentInstance\n  const documentCreateElement = doc.createElement.bind(doc)\n  const html = documentCreateElement(HTML)\n  const head = documentCreateElement(HEAD)\n  const body = documentCreateElement(BODY)\n  const app = documentCreateElement(APP)\n  app.id = APP\n  const container = documentCreateElement(CONTAINER) // 多包一层主要为了兼容 vue\n\n  doc.appendChild(html)\n  html.appendChild(head)\n  html.appendChild(body)\n  body.appendChild(container)\n  container.appendChild(app)\n\n  doc.documentElement = html\n  doc.head = head\n  doc.body = body\n  doc.createEvent = createEvent\n\n  return doc\n}\n\nexport const document = (isBrowser ? doc : createDocument()) as TaroDocumentInstance\n","import { isBrowser, win } from '../env'\n\nconst machine = 'Macintosh'\nconst arch = 'Intel Mac OS X 10_14_5'\nconst engine = 'AppleWebKit/534.36 (KHTML, like Gecko) NodeJS/v4.1.0 Chrome/76.0.3809.132 Safari/534.36'\n\nexport const navigator = isBrowser ? win.navigator : {\n  appCodeName: 'Mozilla',\n  appName: 'Netscape',\n  appVersion: '5.0 (' + machine + '; ' + arch + ') ' + engine,\n  cookieEnabled: true,\n  mimeTypes: [],\n  onLine: true,\n  platform: 'MacIntel',\n  plugins: [],\n  product: 'Taro',\n  productSub: '20030107',\n  userAgent: 'Mozilla/5.0 (' + machine + '; ' + arch + ') ' + engine,\n  vendor: 'Joyent',\n  vendorSub: ''\n}\n","// https://github.com/myrne/performance-now\nexport let now\n\n(function () {\n  let loadTime\n  if ((typeof performance !== 'undefined' && performance !== null) && performance.now) {\n    now = function () {\n      return performance.now()\n    }\n  } else if (Date.now) {\n    now = function () {\n      return Date.now() - loadTime\n    }\n    loadTime = Date.now()\n  } else {\n    now = function () {\n      return new Date().getTime() - loadTime\n    }\n    loadTime = new Date().getTime()\n  }\n})()\n\nlet lastTime = 0\n\n// https://gist.github.com/paulirish/1579671\n// https://gist.github.com/jalbam/5fe05443270fa6d8136238ec72accbc0\nlet raf = typeof requestAnimationFrame !== 'undefined' && requestAnimationFrame !== null ? requestAnimationFrame : function (callback) {\n  const _now = now()\n  const nextTime = Math.max(lastTime + 16, _now) // First time will execute it immediately but barely noticeable and performance is gained.\n  return setTimeout(function () { callback(lastTime = nextTime) }, nextTime - _now)\n}\n\nlet caf = typeof cancelAnimationFrame !== 'undefined' && cancelAnimationFrame !== null ? cancelAnimationFrame : clearTimeout\n\nif (typeof global !== 'undefined') {\n  raf = raf.bind(global)\n  caf = caf.bind(global)\n}\n\nexport {\n  raf,\n  caf\n}\n","import type { TaroElement } from '../dom/element'\nimport type { Style } from '../dom/style'\n\nexport function getComputedStyle (element: TaroElement): Style {\n  return element.style\n}\n","import { navigator } from './navigator'\nimport { document } from './document'\nimport { isBrowser, win } from '../env'\nimport { raf, caf } from './raf'\nimport { getComputedStyle } from './getComputedStyle'\nimport { DATE, SET_TIMEOUT } from '../constants'\n\nexport const window = isBrowser ? win : {\n  navigator,\n  document\n}\n\nif (!isBrowser) {\n  const globalProperties = [\n    ...Object.getOwnPropertyNames(global || win),\n    ...Object.getOwnPropertySymbols(global || win)\n  ]\n\n  globalProperties.forEach(property => {\n    if (property === 'atob') return\n    if (!Object.prototype.hasOwnProperty.call(window, property)) {\n      window[property] = global[property]\n    }\n  })\n\n  ;(document as any).defaultView = window\n}\n\nif (process.env.TARO_ENV && process.env.TARO_ENV !== 'h5') {\n  (window as any).requestAnimationFrame = raf;\n  (window as any).cancelAnimationFrame = caf;\n  (window as any).getComputedStyle = getComputedStyle;\n  (window as any).addEventListener = function () {};\n  (window as any).removeEventListener = function () {}\n  if (!(DATE in window)) {\n    (window as any).Date = Date\n  }\n  if (!(SET_TIMEOUT in window)) {\n    (window as any).setTimeout = setTimeout\n  }\n}\n","import { AppInstance, PageInstance } from './dsl/instance'\n\nexport interface Router {\n  params: Record<string, unknown>,\n  path: string,\n  onReady: string,\n  onHide: string,\n  onShow: string\n}\n\ninterface Current {\n  app: AppInstance | null,\n  router: Router | null,\n  page: PageInstance | null,\n  preloadData?: any\n}\n\nexport const Current: Current = {\n  app: null,\n  router: null,\n  page: null\n}\n\nexport const getCurrentInstance = () => Current\n","import container from '../container'\nimport SERVICE_IDENTIFIER from '../constants/identifiers'\n\nimport type { IHooks } from '../interface'\n\n/* eslint-disable no-dupe-class-members */\ntype Callback1<T1> = (arg1: T1) => any;\ntype Callback2<T1, T2> = (arg1: T1, arg2: T2) => any;\ntype Callback3<T1, T2, T3> = (arg1: T1, arg2: T2, arg3: T3) => any;\ntype Callback4<T1, T2, T3, T4> = (arg1: T1, arg2: T2, arg3: T3, arg4: T4) => any;\ntype Callback5<T1, T2, T3, T4, T5> = (arg1: T1, arg2: T2, arg3: T3,\n  arg4: T4, arg5: T5) => any;\ntype Callback6Rest<T1, T2, T3, T4, T5, T6> = (arg1: T1, arg2: T2, arg3: T3,\n  arg4: T4, arg5: T5, arg6: T6,\n  ...rest: any[]) => any;\n\nexport class Events {\n  private callbacks?: Record<string, unknown>\n  static eventSplitter = /\\s+/\n\n  constructor (opts?) {\n    if (typeof opts !== 'undefined' && opts.callbacks) {\n      this.callbacks = opts.callbacks\n    } else {\n      this.callbacks = {}\n    }\n  }\n\n  on<T>(event: string, callback: Callback1<T>, context): this\n  on<T1, T2>(event: string, callback: Callback2<T1, T2>, context): this\n  on<T1, T2, T3>(event: string, callback: Callback3<T1, T2, T3>, context): this\n  on<T1, T2, T3, T4>(event: string, callback: Callback4<T1, T2, T3, T4>, comtext): this\n  on<T1, T2, T3, T4, T5>(event: string, callback: Callback5<T1, T2, T3, T4, T5>, context): this\n  on<T1, T2, T3, T4, T5, T6>(event: string, callback: Callback6Rest<T1, T2, T3, T4, T5, T6>, context): this\n  on (eventName, callback, context): this {\n    let event, node, tail, list\n    if (!callback) {\n      return this\n    }\n    eventName = eventName.split(Events.eventSplitter)\n    this.callbacks ||= {}\n    const calls = this.callbacks\n    while ((event = eventName.shift())) {\n      list = calls[event]\n      node = list ? list.tail : {}\n      node.next = tail = {}\n      node.context = context\n      node.callback = callback\n      calls[event] = {\n        tail,\n        next: list ? list.next : node\n      }\n    }\n    return this\n  }\n\n  once (events, callback, context) {\n    const wrapper = (...args) => {\n      callback.apply(this, args)\n      this.off(events, wrapper, context)\n    }\n\n    this.on(events, wrapper, context)\n\n    return this\n  }\n\n  off (events, callback, context) {\n    let event, calls, node, tail, cb, ctx\n    if (!(calls = this.callbacks)) {\n      return this\n    }\n    if (!(events || callback || context)) {\n      delete this.callbacks\n      return this\n    }\n    events = events ? events.split(Events.eventSplitter) : Object.keys(calls)\n    while ((event = events.shift())) {\n      node = calls[event]\n      delete calls[event]\n      if (!node || !(callback || context)) {\n        continue\n      }\n      tail = node.tail\n      while ((node = node.next) !== tail) {\n        cb = node.callback\n        ctx = node.context\n        if ((callback && cb !== callback) || (context && ctx !== context)) {\n          this.on(event, cb, ctx)\n        }\n      }\n    }\n    return this\n  }\n\n  trigger(event: string)\n  trigger<T1>(event: string, arg: T1)\n  trigger<T1, T2>(event: string, arg1: T1, arg2: T2)\n  trigger<T1, T2, T3>(event: string, arg1: T1, arg2: T2, arg3: T3)\n  trigger<T1, T2, T3, T4>(event: string, arg1: T1, arg2: T2, arg3: T3, arg4: T4)\n  trigger<T1, T2, T3, T4, T5>(event: string, arg1: T1, arg2: T2, arg3: T3, arg4: T4, arg5: T5)\n  trigger<T1, T2, T3, T4, T5, T6>(event: string, arg1: T1, arg2: T2, arg3: T3, arg4: T4, arg5: T5,\n    arg6: T6, ...rest: any[])\n\n  trigger (events) {\n    let event, node, calls, tail\n    if (!(calls = this.callbacks)) {\n      return this\n    }\n    events = events.split(Events.eventSplitter)\n    const rest = [].slice.call(arguments, 1)\n    while ((event = events.shift())) {\n      if ((node = calls[event])) {\n        tail = node.tail\n        while ((node = node.next) !== tail) {\n          node.callback.apply(node.context || this, rest)\n        }\n      }\n    }\n    return this\n  }\n}\n\nexport type EventsType = typeof Events\n\nconst hooks = container.get<IHooks>(SERVICE_IDENTIFIER.Hooks)\nconst eventCenter = hooks.getEventCenter(Events)\ncontainer.bind<Events>(SERVICE_IDENTIFIER.eventCenter).toConstantValue(eventCenter)\n\nexport { eventCenter }\n","/* eslint-disable dot-notation */\nimport { isFunction, EMPTY_OBJ, ensure, Shortcuts, isUndefined, isArray } from '@tarojs/shared'\nimport container from '../container'\nimport SERVICE_IDENTIFIER from '../constants/identifiers'\nimport { eventHandler } from '../dom/event'\nimport { Current } from '../current'\nimport { document } from '../bom/document'\nimport { incrementId } from '../utils'\nimport { perf } from '../perf'\nimport { PAGE_INIT } from '../constants'\nimport { isBrowser } from '../env'\nimport { eventCenter } from '../emitter/emitter'\nimport { raf } from '../bom/raf'\n\nimport type { PageConfig } from '@tarojs/taro'\nimport type { Instance, PageInstance, PageProps } from './instance'\nimport type { Func, IHooks, MpInstance } from '../interface'\nimport type { TaroRootElement } from '../dom/root'\n\nconst instances = new Map<string, Instance>()\nconst pageId = incrementId()\nconst hooks = container.get<IHooks>(SERVICE_IDENTIFIER.Hooks)\n\nexport function injectPageInstance (inst: Instance<PageProps>, id: string) {\n  hooks.mergePageInstance?.(instances.get(id), inst)\n  instances.set(id, inst)\n}\n\nexport function getPageInstance (id: string): Instance | undefined {\n  return instances.get(id)\n}\n\nexport function addLeadingSlash (path?: string): string {\n  if (path == null) {\n    return ''\n  }\n  return path.charAt(0) === '/' ? path : '/' + path\n}\n\nexport function safeExecute (path: string, lifecycle: keyof PageInstance, ...args: unknown[]) {\n  const instance = instances.get(path)\n\n  if (instance == null) {\n    return\n  }\n\n  const func = hooks.getLifecycle(instance, lifecycle)\n\n  if (isArray(func)) {\n    const res = func.map(fn => fn.apply(instance, args))\n    return res[0]\n  }\n\n  if (!isFunction(func)) {\n    return\n  }\n\n  return func.apply(instance, args)\n}\n\nexport function stringify (obj?: Record<string, unknown>) {\n  if (obj == null) {\n    return ''\n  }\n  const path = Object.keys(obj).map((key) => {\n    return key + '=' + obj[key]\n  }).join('&')\n  return path === '' ? path : '?' + path\n}\n\nexport function getPath (id: string, options?: Record<string, unknown>): string {\n  let path = id\n  if (!isBrowser) {\n    path = id + stringify(options)\n  }\n  return path\n}\n\nexport function getOnReadyEventKey (path: string) {\n  return path + '.' + 'onReady'\n}\n\nexport function getOnShowEventKey (path: string) {\n  return path + '.' + 'onShow'\n}\n\nexport function getOnHideEventKey (path: string) {\n  return path + '.' + 'onHide'\n}\n\nexport function createPageConfig (component: any, pageName?: string, data?: Record<string, unknown>, pageConfig?: PageConfig) {\n  const id = pageName ?? `taro_page_${pageId()}`\n  // 小程序 Page 构造器是一个傲娇小公主，不能把复杂的对象挂载到参数上\n  let pageElement: TaroRootElement | null = null\n\n  let unmounting = false\n  let prepareMountList: (() => void)[] = []\n\n  const config: PageInstance = {\n    onLoad (this: MpInstance, options, cb?: Func) {\n      perf.start(PAGE_INIT)\n\n      Current.page = this as any\n      this.config = pageConfig || {}\n      options.$taroTimestamp = Date.now()\n\n      // this.$taroPath 是页面唯一标识，不可变，因此页面参数 options 也不可变\n      this.$taroPath = getPath(id, options)\n      // this.$taroParams 作为暴露给开发者的页面参数对象，可以被随意修改\n      if (this.$taroParams == null) {\n        this.$taroParams = Object.assign({}, options)\n      }\n\n      const router = isBrowser ? this.$taroPath : this.route || this.__route__\n      Current.router = {\n        params: this.$taroParams,\n        path: addLeadingSlash(router),\n        onReady: getOnReadyEventKey(id),\n        onShow: getOnShowEventKey(id),\n        onHide: getOnHideEventKey(id)\n      }\n\n      const mount = () => {\n        Current.app!.mount!(component, this.$taroPath, () => {\n          pageElement = document.getElementById<TaroRootElement>(this.$taroPath)\n\n          ensure(pageElement !== null, '没有找到页面实例。')\n          safeExecute(this.$taroPath, 'onLoad', this.$taroParams)\n          if (!isBrowser) {\n            pageElement.ctx = this\n            pageElement.performUpdate(true, cb)\n          } else {\n            isFunction(cb) && cb()\n          }\n        })\n      }\n      if (unmounting) {\n        prepareMountList.push(mount)\n      } else {\n        mount()\n      }\n    },\n    onReady () {\n      raf(() => {\n        eventCenter.trigger(getOnReadyEventKey(id))\n      })\n\n      safeExecute(this.$taroPath, 'onReady')\n      this.onReady.called = true\n    },\n    onUnload () {\n      unmounting = true\n      Current.app!.unmount!(this.$taroPath, () => {\n        unmounting = false\n        instances.delete(this.$taroPath)\n        if (pageElement) {\n          pageElement.ctx = null\n        }\n        if (prepareMountList.length) {\n          prepareMountList.forEach(fn => fn())\n          prepareMountList = []\n        }\n      })\n    },\n    onShow () {\n      Current.page = this as any\n      this.config = pageConfig || {}\n      const router = isBrowser ? this.$taroPath : this.route || this.__route__\n      Current.router = {\n        params: this.$taroParams,\n        path: addLeadingSlash(router),\n        onReady: getOnReadyEventKey(id),\n        onShow: getOnShowEventKey(id),\n        onHide: getOnHideEventKey(id)\n      }\n\n      raf(() => {\n        eventCenter.trigger(getOnShowEventKey(id))\n      })\n\n      safeExecute(this.$taroPath, 'onShow')\n    },\n    onHide () {\n      Current.page = null\n      Current.router = null\n      safeExecute(this.$taroPath, 'onHide')\n      eventCenter.trigger(getOnHideEventKey(id))\n    },\n    onPullDownRefresh () {\n      return safeExecute(this.$taroPath, 'onPullDownRefresh')\n    },\n    onReachBottom () {\n      return safeExecute(this.$taroPath, 'onReachBottom')\n    },\n    onPageScroll (options) {\n      return safeExecute(this.$taroPath, 'onPageScroll', options)\n    },\n    onResize (options) {\n      return safeExecute(this.$taroPath, 'onResize', options)\n    },\n    onTabItemTap (options) {\n      return safeExecute(this.$taroPath, 'onTabItemTap', options)\n    },\n    onTitleClick () {\n      return safeExecute(this.$taroPath, 'onTitleClick')\n    },\n    onOptionMenuClick () {\n      return safeExecute(this.$taroPath, 'onOptionMenuClick')\n    },\n    onPopMenuClick () {\n      return safeExecute(this.$taroPath, 'onPopMenuClick')\n    },\n    onPullIntercept () {\n      return safeExecute(this.$taroPath, 'onPullIntercept')\n    },\n    onAddToFavorites () {\n      return safeExecute(this.$taroPath, 'onAddToFavorites')\n    }\n  }\n\n  // onShareAppMessage 和 onShareTimeline 一样，会影响小程序右上方按钮的选项，因此不能默认注册。\n  if (component.onShareAppMessage ||\n      component.prototype?.onShareAppMessage ||\n      component.enableShareAppMessage) {\n    config.onShareAppMessage = function (options) {\n      const target = options?.target\n      if (target != null) {\n        const id = target.id\n        const element = document.getElementById(id)\n        if (element != null) {\n          options.target!.dataset = element.dataset\n        }\n      }\n      return safeExecute(this.$taroPath, 'onShareAppMessage', options)\n    }\n  }\n  if (component.onShareTimeline ||\n      component.prototype?.onShareTimeline ||\n      component.enableShareTimeline) {\n    config.onShareTimeline = function () {\n      return safeExecute(this.$taroPath, 'onShareTimeline')\n    }\n  }\n\n  config.eh = eventHandler\n\n  if (!isUndefined(data)) {\n    config.data = data\n  }\n\n  if (isBrowser) {\n    config.path = id\n  }\n\n  return config\n}\n\nexport function createComponentConfig (component: React.ComponentClass, componentName?: string, data?: Record<string, unknown>) {\n  const id = componentName ?? `taro_component_${pageId()}`\n  let componentElement: TaroRootElement | null = null\n\n  const config: any = {\n    attached () {\n      perf.start(PAGE_INIT)\n      const path = getPath(id, { id: this.getPageId?.() || pageId() })\n      Current.app!.mount!(component, path, () => {\n        componentElement = document.getElementById<TaroRootElement>(path)\n        ensure(componentElement !== null, '没有找到组件实例。')\n        safeExecute(path, 'onLoad')\n        if (!isBrowser) {\n          componentElement.ctx = this\n          componentElement.performUpdate(true)\n        }\n      })\n    },\n    detached () {\n      const path = getPath(id, { id: this.getPageId() })\n      Current.app!.unmount!(path, () => {\n        instances.delete(path)\n        if (componentElement) {\n          componentElement.ctx = null\n        }\n      })\n    },\n    methods: {\n      eh: eventHandler\n    }\n  }\n  if (!isUndefined(data)) {\n    config.data = data\n  }\n\n  config['options'] = component?.['options'] ?? EMPTY_OBJ\n  config['externalClasses'] = component?.['externalClasses'] ?? EMPTY_OBJ\n  config['behaviors'] = component?.['behaviors'] ?? EMPTY_OBJ\n  return config\n}\n\nexport function createRecursiveComponentConfig (componentName?: string) {\n  return {\n    properties: {\n      i: {\n        type: Object,\n        value: {\n          [Shortcuts.NodeName]: 'view'\n        }\n      },\n      l: {\n        type: String,\n        value: ''\n      }\n    },\n    options: {\n      addGlobalClass: true,\n      virtualHost: componentName !== 'custom-wrapper'\n    },\n    methods: {\n      eh: eventHandler\n    }\n  }\n}\n","import type * as React from 'react'\nimport { isFunction, ensure, EMPTY_OBJ } from '@tarojs/shared'\nimport container from '../container'\nimport SERVICE_IDENTIFIER from '../constants/identifiers'\nimport { Current } from '../current'\nimport { document } from '../bom/document'\nimport { getPageInstance, injectPageInstance, safeExecute, addLeadingSlash } from './common'\nimport { isBrowser } from '../env'\nimport { incrementId } from '../utils'\nimport { HOOKS_APP_ID } from '../constants'\nimport { eventHandler } from '../dom/event'\n\nimport type { AppConfig, PageInstance } from '@tarojs/taro'\nimport type { AppInstance, ReactPageComponent, PageProps, Instance, ReactAppInstance } from './instance'\nimport type { IHooks } from '../interface'\nimport type { TaroRootElement } from '../dom/root'\n\ndeclare const getCurrentPages: () => PageInstance[]\nconst hooks = container.get<IHooks>(SERVICE_IDENTIFIER.Hooks)\n\nfunction isClassComponent (R: typeof React, component): boolean {\n  return isFunction(component.render) ||\n  !!component.prototype?.isReactComponent ||\n  component.prototype instanceof R.Component // compat for some others react-like library\n}\n\n// 初始值设置为 any 主要是为了过 TS 的校验\nexport let R: typeof React = EMPTY_OBJ\nexport let PageContext: React.Context<string> = EMPTY_OBJ\n\nexport function connectReactPage (\n  R: typeof React,\n  id: string\n) {\n  const h = R.createElement\n  return (component: ReactPageComponent): React.ComponentClass<PageProps> => {\n    // eslint-disable-next-line dot-notation\n    const isReactComponent = isClassComponent(R, component)\n\n    const inject = (node?: Instance) => node && injectPageInstance(node, id)\n    const refs = isReactComponent ? { ref: inject } : {\n      forwardedRef: inject,\n      // 兼容 react-redux 7.20.1+\n      reactReduxForwardedRef: inject\n    }\n\n    if (PageContext === EMPTY_OBJ) {\n      PageContext = R.createContext('')\n    }\n\n    return class Page extends R.Component<PageProps, { hasError: boolean }> {\n      state = {\n        hasError: false\n      }\n\n      static getDerivedStateFromError (error: Error) {\n        process.env.NODE_ENV !== 'production' && console.warn(error)\n        return { hasError: true }\n      }\n\n      // React 16 uncaught error 会导致整个应用 crash，\n      // 目前把错误缩小到页面\n      componentDidCatch (error: Error, info: React.ErrorInfo) {\n        process.env.NODE_ENV !== 'production' && console.warn(error)\n        process.env.NODE_ENV !== 'production' && console.error(info.componentStack)\n      }\n\n      render () {\n        const children = this.state.hasError\n          ? []\n          : h(PageContext.Provider, { value: id }, h(component, {\n            ...this.props,\n            ...refs\n          }))\n\n        if (isBrowser) {\n          return h(\n            'div',\n            { id, className: 'taro_page' },\n            children\n          )\n        }\n\n        return h(\n          'root',\n          { id },\n          children\n        )\n      }\n    }\n  }\n}\n\nlet ReactDOM\n\ntype PageComponent = React.CElement<PageProps, React.Component<PageProps, any, any>>\n\nfunction setReconciler () {\n  const getLifecycle = function (instance, lifecycle) {\n    lifecycle = lifecycle.replace(/^on(Show|Hide)$/, 'componentDid$1')\n    return instance[lifecycle]\n  }\n\n  const modifyMpEvent = function (event) {\n    event.type = event.type.replace(/-/g, '')\n  }\n\n  const batchedEventUpdates = function (cb) {\n    ReactDOM.unstable_batchedUpdates(cb)\n  }\n\n  const mergePageInstance = function (prev, next) {\n    if (!prev || !next) return\n\n    // 子组件使用 lifecycle hooks 注册了生命周期后，会存在 prev，里面是注册的生命周期回调。\n\n    // prev 使用 Object.create(null) 创建，H5 的 fast-refresh 可能也会导致存在 prev，要排除这些意外产生的 prev\n    if ('constructor' in prev) return\n\n    Object.keys(prev).forEach(item => {\n      if (isFunction(next[item])) {\n        next[item] = [next[item], ...prev[item]]\n      } else {\n        next[item] = [...(next[item] || []), ...prev[item]]\n      }\n    })\n  }\n\n  hooks.getLifecycle = getLifecycle\n  hooks.modifyMpEvent = modifyMpEvent\n  hooks.batchedEventUpdates = batchedEventUpdates\n  hooks.mergePageInstance = mergePageInstance\n\n  if (process.env.TARO_ENV === 'h5') {\n    hooks.createPullDownComponent = (\n      el: React.FunctionComponent<PageProps> | React.ComponentClass<PageProps>,\n      _,\n      R: typeof React,\n      customWrapper\n    ) => {\n      const isReactComponent = isClassComponent(R, el)\n\n      return R.forwardRef((props, ref) => {\n        const newProps: React.Props<any> = { ...props }\n        const refs = isReactComponent ? { ref: ref } : {\n          forwardedRef: ref,\n          // 兼容 react-redux 7.20.1+\n          reactReduxForwardedRef: ref\n        }\n\n        return R.createElement(\n          customWrapper || 'taro-pull-to-refresh',\n          null,\n          R.createElement(el, {\n            ...newProps,\n            ...refs\n          })\n        )\n      })\n    }\n\n    hooks.getDOMNode = (inst) => {\n      return ReactDOM.findDOMNode(inst)\n    }\n  }\n}\n\nconst pageKeyId = incrementId()\n\nexport function createReactApp (App: React.ComponentClass, react: typeof React, reactdom, config: AppConfig) {\n  R = react\n  ReactDOM = reactdom\n  ensure(!!ReactDOM, '构建 React/Nerv 项目请把 process.env.FRAMEWORK 设置为 \\'react\\'/\\'nerv\\' ')\n\n  const ref = R.createRef<ReactAppInstance>()\n  const isReactComponent = isClassComponent(R, App)\n\n  setReconciler()\n  class AppWrapper extends R.Component {\n    // run createElement() inside the render function to make sure that owner is right\n    private pages: Array<() => PageComponent> = []\n    private elements: Array<PageComponent> = []\n\n    public mount (component: React.ComponentClass<PageProps>, id: string, cb: () => void) {\n      const key = id + pageKeyId()\n      const page = () => R.createElement(component, { key, tid: id })\n      this.pages.push(page)\n      this.forceUpdate(cb)\n    }\n\n    public unmount (id: string, cb: () => void) {\n      for (let i = 0; i < this.elements.length; i++) {\n        const element = this.elements[i]\n        if (element.props.tid === id) {\n          this.elements.splice(i, 1)\n          break\n        }\n      }\n\n      this.forceUpdate(cb)\n    }\n\n    public render () {\n      while (this.pages.length > 0) {\n        const page = this.pages.pop()!\n        this.elements.push(page())\n      }\n\n      let props: React.Props<any> | null = null\n\n      if (isReactComponent) {\n        props = { ref }\n      }\n\n      return R.createElement(\n        App,\n        props,\n        isBrowser ? R.createElement('div', null, this.elements.slice()) : this.elements.slice()\n      )\n    }\n  }\n\n  let wrapper: AppWrapper\n  if (!isBrowser) {\n    // eslint-disable-next-line react/no-render-return-value\n    wrapper = ReactDOM.render(R.createElement(AppWrapper), document.getElementById('app'))\n  }\n\n  const app: AppInstance = Object.create({\n    render (cb: () => void) {\n      wrapper.forceUpdate(cb)\n    },\n\n    mount (component: ReactPageComponent, id: string, cb: () => void) {\n      const page = connectReactPage(R, id)(component)\n      wrapper.mount(page, id, cb)\n    },\n\n    unmount (id: string, cb: () => void) {\n      wrapper.unmount(id, cb)\n    }\n  }, {\n    config: {\n      writable: true,\n      enumerable: true,\n      configurable: true,\n      value: config\n    },\n\n    onLaunch: {\n      enumerable: true,\n      writable: true,\n      value (options) {\n        Current.router = {\n          params: options?.query,\n          ...options\n        }\n        if (isBrowser) {\n          // 由于 H5 路由初始化的时候会清除 app 下的 dom 元素，所以需要在路由初始化后执行 render\n          // eslint-disable-next-line react/no-render-return-value\n          wrapper = ReactDOM.render(R.createElement(AppWrapper), document.getElementById('app'))\n        }\n        const app = ref.current\n\n        // For taroize\n        // 把 App Class 上挂载的额外属性同步到全局 app 对象中\n        if (app?.taroGlobalData) {\n          const globalData = app.taroGlobalData\n          const keys = Object.keys(globalData)\n          const descriptors = Object.getOwnPropertyDescriptors(globalData)\n          keys.forEach(key => {\n            Object.defineProperty(this, key, {\n              configurable: true,\n              enumerable: true,\n              get () {\n                return globalData[key]\n              },\n              set (value) {\n                globalData[key] = value\n              }\n            })\n          })\n          Object.defineProperties(this, descriptors)\n        }\n        this.$app = app\n\n        if (app != null && isFunction(app.onLaunch)) {\n          app.onLaunch(options)\n        }\n      }\n    },\n\n    onShow: {\n      enumerable: true,\n      writable: true,\n      value (options) {\n        const app = ref.current\n        Current.router = {\n          params: options?.query,\n          ...options\n        }\n        if (app != null && isFunction(app.componentDidShow)) {\n          app.componentDidShow(options)\n        }\n\n        // app useDidShow\n        triggerAppHook('onShow')\n      }\n    },\n\n    onHide: {\n      enumerable: true,\n      writable: true,\n      value (options: unknown) {\n        const app = ref.current\n        if (app != null && isFunction(app.componentDidHide)) {\n          app.componentDidHide(options)\n        }\n\n        // app useDidHide\n        triggerAppHook('onHide')\n      }\n    },\n\n    onPageNotFound: {\n      enumerable: true,\n      writable: true,\n      value (res: unknown) {\n        const app = ref.current\n        if (app != null && isFunction(app.onPageNotFound)) {\n          app.onPageNotFound(res)\n        }\n      }\n    }\n  })\n\n  function triggerAppHook (lifecycle) {\n    const instance = getPageInstance(HOOKS_APP_ID)\n    if (instance) {\n      const app = ref.current\n      const func = hooks.getLifecycle(instance, lifecycle)\n      if (Array.isArray(func)) {\n        func.forEach(cb => cb.apply(app))\n      }\n    }\n  }\n\n  Current.app = app\n  return Current.app\n}\n\nconst getNativeCompId = incrementId()\n\nfunction initNativeComponentEntry (R: typeof React, ReactDOM) {\n  interface IEntryState {\n    components: {\n      compId: string\n      element: React.ReactElement\n    }[]\n  }\n\n  interface IWrapperProps {\n    getCtx: () => any\n    renderComponent: (ctx: any) => React.ReactElement\n  }\n\n  class NativeComponentWrapper extends R.Component<IWrapperProps, Record<any, any>> {\n    root = R.createRef<TaroRootElement>()\n    ctx = this.props.getCtx()\n\n    componentDidMount () {\n      this.ctx.component = this\n      const rootElement = this.root.current!\n      rootElement.ctx = this.ctx\n      rootElement.performUpdate(true)\n    }\n\n    render () {\n      return (\n        R.createElement(\n          'root',\n          {\n            ref: this.root\n          },\n          this.props.renderComponent(this.ctx)\n        )\n      )\n    }\n  }\n\n  class Entry extends R.Component<Record<any, any>, IEntryState> {\n    state: IEntryState = {\n      components: []\n    }\n\n    componentDidMount () {\n      Current.app = this\n    }\n\n    mount (Component, compId, getCtx) {\n      const isReactComponent = isClassComponent(R, Component)\n      const inject = (node?: Instance) => node && injectPageInstance(node, compId)\n      const refs = isReactComponent ? { ref: inject } : {\n        forwardedRef: inject,\n        reactReduxForwardedRef: inject\n      }\n      const item = {\n        compId,\n        element: R.createElement(NativeComponentWrapper, {\n          key: compId,\n          getCtx,\n          renderComponent (ctx) {\n            return R.createElement(Component, { ...(ctx.data ||= {}).props, ...refs })\n          }\n        })\n      }\n      this.setState({\n        components: [...this.state.components, item]\n      })\n    }\n\n    unmount (compId) {\n      const components = this.state.components\n      const index = components.findIndex(item => item.compId === compId)\n      const next = [...components.slice(0, index), ...components.slice(index + 1)]\n      this.setState({\n        components: next\n      })\n    }\n\n    render () {\n      const components = this.state.components\n      return (\n        components.map(({ element }) => element)\n      )\n    }\n  }\n\n  setReconciler()\n\n  const app = document.getElementById('app')\n\n  ReactDOM.render(\n    R.createElement(Entry, {}),\n    app\n  )\n}\n\nexport function createNativeComponentConfig (Component, react: typeof React, reactdom, componentConfig) {\n  R = react\n  ReactDOM = reactdom\n\n  setReconciler()\n\n  const config = {\n    properties: {\n      props: {\n        type: null,\n        value: null,\n        observer (_newVal, oldVal) {\n          oldVal && this.component.forceUpdate()\n        }\n      }\n    },\n    created () {\n      if (!Current.app) {\n        initNativeComponentEntry(R, ReactDOM)\n      }\n    },\n    attached () {\n      setCurrent()\n      this.compId = getNativeCompId()\n      this.config = componentConfig\n      Current.app!.mount!(Component, this.compId, () => this)\n    },\n    ready () {\n      safeExecute(this.compId, 'onReady')\n    },\n    detached () {\n      Current.app!.unmount!(this.compId)\n    },\n    pageLifetimes: {\n      show () {\n        safeExecute(this.compId, 'onShow')\n      },\n      hide () {\n        safeExecute(this.compId, 'onHide')\n      }\n    },\n    methods: {\n      eh: eventHandler\n    }\n  }\n\n  function setCurrent () {\n    const pages = getCurrentPages()\n    const currentPage = pages[pages.length - 1]\n    if (Current.page === currentPage) return\n\n    Current.page = currentPage\n\n    const route = (currentPage as any).route || (currentPage as any).__route__\n    const router = {\n      params: currentPage.options || {},\n      path: addLeadingSlash(route),\n      onReady: '',\n      onHide: '',\n      onShow: ''\n    }\n    Current.router = router\n\n    if (!currentPage.options) {\n      // 例如在微信小程序中，页面 options 的设置时机比组件 attached 慢\n      Object.defineProperty(currentPage, 'options', {\n        enumerable: true,\n        configurable: true,\n        get () {\n          return this._optionsValue\n        },\n        set (value) {\n          router.params = value\n          this._optionsValue = value\n        }\n      })\n    }\n  }\n\n  return config\n}\n","import { isFunction, noop, ensure, isBoolean } from '@tarojs/shared'\nimport container from '../container'\nimport SERVICE_IDENTIFIER from '../constants/identifiers'\nimport { injectPageInstance } from './common'\nimport { Current } from '../current'\nimport { document } from '../bom/document'\nimport { isBrowser } from '../env'\n\n/* eslint-disable import/no-duplicates */\nimport type VueCtor from 'vue'\nimport type { ComponentOptions, VueConstructor, VNode } from 'vue'\nimport type { AppConfig } from '@tarojs/taro'\nimport type { AppInstance, VueAppInstance, VueInstance } from './instance'\nimport type { IHooks } from '../interface'\n\nexport type V = typeof VueCtor\n\nexport function connectVuePage (Vue: VueConstructor, id: string) {\n  return (component: ComponentOptions<VueCtor>) => {\n    const injectedPage = Vue.extend({\n      props: {\n        tid: String\n      },\n      mixins: [component, {\n        created () {\n          injectPageInstance(this, id)\n        }\n      }]\n    })\n\n    const options: ComponentOptions<VueCtor> = {\n      render (h) {\n        return h(\n          isBrowser ? 'div' : 'root',\n          {\n            attrs: {\n              id,\n              class: isBrowser ? 'taro_page' : ''\n            }\n          },\n          [\n            h(injectedPage, { props: { tid: id } })\n          ]\n        )\n      }\n    }\n\n    return options\n  }\n}\n\nfunction setReconciler () {\n  const hooks = container.get<IHooks>(SERVICE_IDENTIFIER.Hooks)\n\n  const onRemoveAttribute = function (dom, qualifiedName) {\n    // 处理原因: https://github.com/NervJS/taro/pull/5990\n    const props = dom.props\n    if (!props.hasOwnProperty(qualifiedName) || isBoolean(props[qualifiedName])) {\n      dom.setAttribute(qualifiedName, false)\n      return true\n    }\n  }\n\n  const getLifecycle = function (instance, lifecycle) {\n    return instance.$options[lifecycle]\n  }\n\n  hooks.onRemoveAttribute = onRemoveAttribute\n  hooks.getLifecycle = getLifecycle\n\n  if (process.env.TARO_ENV === 'h5') {\n    hooks.createPullDownComponent = (el, path, vue: VueConstructor) => {\n      const injectedPage = vue.extend({\n        props: {\n          tid: String\n        },\n        mixins: [el as ComponentOptions<Vue>, {\n          created () {\n            injectPageInstance(this, path)\n          }\n        }]\n      })\n\n      const options: ComponentOptions<Vue> = {\n        name: 'PullToRefresh',\n        render (h) {\n          return h(\n            'taro-pull-to-refresh',\n            {\n              class: ['hydrated']\n            },\n            [h(injectedPage, this.$slots.default)]\n          )\n        }\n      }\n\n      return options\n    }\n\n    hooks.getDOMNode = (el) => {\n      return el.$el as any\n    }\n  }\n}\n\nlet Vue\n\nexport function createVueApp (App: ComponentOptions<VueCtor>, vue: V, config: AppConfig) {\n  Vue = vue\n  ensure(!!Vue, '构建 Vue 项目请把 process.env.FRAMEWORK 设置为 \\'vue\\'')\n\n  setReconciler()\n\n  Vue.config.getTagNamespace = noop\n\n  const elements: VNode[] = []\n  const pages: Array<(h: Vue.CreateElement) => VNode> = []\n  let appInstance: VueAppInstance\n\n  const wrapper = new (Vue as VueConstructor)({\n    render (h) {\n      while (pages.length > 0) {\n        const page = pages.pop()!\n        elements.push(page(h))\n      }\n      return h(App, { ref: 'app' }, elements.slice())\n    },\n    methods: {\n      mount (component: ComponentOptions<VueCtor>, id: string, cb: () => void) {\n        pages.push((h) => h(component, { key: id }))\n        this.updateSync(cb)\n      },\n      updateSync (this: VueInstance, cb: () => void) {\n        this._update(this._render(), false)\n        this.$children.forEach((child: VueInstance) => child._update(child._render(), false))\n        cb()\n      },\n      unmount (id: string, cb: () => void) {\n        for (let i = 0; i < elements.length; i++) {\n          const element = elements[i]\n          if (element.key === id) {\n            elements.splice(i, 1)\n            break\n          }\n        }\n\n        this.updateSync(cb)\n      }\n    }\n  })\n  if (!isBrowser) {\n    wrapper.$mount(document.getElementById('app') as any)\n  }\n  const app: AppInstance = Object.create({\n    mount (component: ComponentOptions<VueCtor>, id: string, cb: () => void) {\n      const page = connectVuePage(Vue, id)(component)\n      wrapper.mount(page, id, cb)\n    },\n\n    unmount (id: string, cb: () => void) {\n      wrapper.unmount(id, cb)\n    }\n  }, {\n    config: {\n      writable: true,\n      enumerable: true,\n      configurable: true,\n      value: config\n    },\n\n    onLaunch: {\n      writable: true,\n      enumerable: true,\n      value (options) {\n        Current.router = {\n          params: options?.query,\n          ...options\n        }\n        if (isBrowser) {\n          // 由于 H5 路由初始化的时候会清除 app 下的 dom 元素，所以需要在路由初始化后再执行 render\n          wrapper.$mount(document.getElementById('app') as any)\n        }\n        appInstance = wrapper.$refs.app as VueAppInstance\n        if (appInstance != null && isFunction(appInstance.$options.onLaunch)) {\n          appInstance.$options.onLaunch.call(appInstance, options)\n        }\n      }\n    },\n\n    onShow: {\n      writable: true,\n      enumerable: true,\n      value (options) {\n        Current.router = {\n          params: options?.query,\n          ...options\n        }\n        if (appInstance != null && isFunction(appInstance.$options.onShow)) {\n          appInstance.$options.onShow.call(appInstance, options)\n        }\n      }\n    },\n\n    onHide: {\n      writable: true,\n      enumerable: true,\n      value (options) {\n        if (appInstance != null && isFunction(appInstance.$options.onHide)) {\n          appInstance.$options.onHide.call(appInstance, options)\n        }\n      }\n    }\n  })\n\n  Current.app = app\n\n  return Current.app\n}\n","import { isFunction, isArray, ensure } from '@tarojs/shared'\nimport container from '../container'\nimport SERVICE_IDENTIFIER from '../constants/identifiers'\nimport { Current } from '../current'\nimport { injectPageInstance, safeExecute } from './common'\nimport { isBrowser } from '../env'\n\nimport type {\n  App,\n  Component,\n  ComponentPublicInstance,\n  VNode,\n  h as createElement\n} from '@vue/runtime-core'\nimport type { TaroElement } from '../dom/element'\nimport type { AppConfig as Config } from '@tarojs/taro'\nimport type { GetLifecycle, IHooks } from '../interface'\nimport type { AppInstance } from './instance'\n\nfunction createVue3Page (h: typeof createElement, id: string) {\n  return function (component): VNode {\n    const inject = {\n      props: {\n        tid: String\n      },\n      created () {\n        injectPageInstance(this, id)\n        // vue3 组件 created 时机比小程序页面 onShow 慢，因此在 created 后再手动触发一次 onShow。\n        this.$nextTick(() => {\n          safeExecute(id, 'onShow')\n        })\n      }\n    }\n\n    if (isArray(component.mixins)) {\n      const mixins = component.mixins\n      const idx = mixins.length - 1\n      if (!mixins[idx].props?.tid) {\n        // mixins 里还没注入过，直接推入数组\n        component.mixins.push(inject)\n      } else {\n        // mixins 里已经注入过，代替前者\n        component.mixins[idx] = inject\n      }\n    } else {\n      component.mixins = [inject]\n    }\n\n    return h(\n      isBrowser ? 'div' : 'root',\n      {\n        key: id,\n        id,\n        class: isBrowser ? 'taro_page' : ''\n      },\n      [\n        h(Object.assign({}, component), {\n          tid: id\n        })\n      ]\n    )\n  }\n}\n\nfunction setReconciler () {\n  const hooks = container.get<IHooks>(SERVICE_IDENTIFIER.Hooks)\n\n  const getLifecycle: GetLifecycle = function (instance, lifecycle) {\n    return instance.$options[lifecycle]\n  }\n\n  const modifyMpEvent = function (event) {\n    event.type = event.type.replace(/-/g, '')\n  }\n\n  hooks.getLifecycle = getLifecycle\n  hooks.modifyMpEvent = modifyMpEvent\n\n  if (process.env.TARO_ENV === 'h5') {\n    hooks.createPullDownComponent = (component, path, h: typeof createElement) => {\n      const inject = {\n        props: {\n          tid: String\n        },\n        created () {\n          injectPageInstance(this, path)\n        }\n      }\n\n      component.mixins = isArray(component.mixins)\n        ? component.mixins.push(inject)\n        : [inject]\n\n      return {\n        render () {\n          return h(\n            'taro-pull-to-refresh',\n            {\n              class: 'hydrated'\n            },\n            [h(component, this.$slots.default)]\n          )\n        }\n      }\n    }\n\n    hooks.getDOMNode = (el) => {\n      return el.$el as any\n    }\n  }\n}\n\nexport function createVue3App (app: App<TaroElement>, h: typeof createElement, config: Config) {\n  let pages: VNode[] = []\n  let appInstance: ComponentPublicInstance\n\n  ensure(!isFunction(app._component), '入口组件不支持使用函数式组件')\n\n  setReconciler()\n\n  app._component.render = function () {\n    return pages.slice()\n  }\n  if (!isBrowser) {\n    appInstance = app.mount('#app')\n  }\n  const appConfig: AppInstance = Object.create({\n    mount (component: Component, id: string, cb: () => void) {\n      const page = createVue3Page(h, id)(component)\n      pages.push(page)\n      this.updateAppInstance(cb)\n    },\n\n    unmount (id: string, cb: () => void) {\n      pages = pages.filter(page => page.key !== id)\n      this.updateAppInstance(cb)\n    },\n\n    updateAppInstance (cb?: (() => void | undefined)) {\n      appInstance.$forceUpdate()\n      appInstance.$nextTick(cb)\n    }\n  }, {\n    config: {\n      writable: true,\n      enumerable: true,\n      configurable: true,\n      value: config\n    },\n\n    onLaunch: {\n      writable: true,\n      enumerable: true,\n      value (options) {\n        Current.router = {\n          params: options?.query,\n          ...options\n        }\n        if (isBrowser) {\n          appInstance = app.mount('#app')\n        }\n        const onLaunch = appInstance?.$options?.onLaunch\n        isFunction(onLaunch) && onLaunch.call(appInstance, options)\n      }\n    },\n\n    onShow: {\n      writable: true,\n      enumerable: true,\n      value (options) {\n        Current.router = {\n          params: options?.query,\n          ...options\n        }\n        const onShow = appInstance?.$options?.onShow\n        isFunction(onShow) && onShow.call(appInstance, options)\n      }\n    },\n\n    onHide: {\n      writable: true,\n      enumerable: true,\n      value (options) {\n        const onHide = appInstance?.$options?.onHide\n        isFunction(onHide) && onHide.call(appInstance, options)\n      }\n    }\n  })\n\n  Current.app = appConfig\n\n  return Current.app\n}\n","import { isFunction, isArray } from '@tarojs/shared'\nimport { PageContext, R as React } from './react'\nimport { getPageInstance, injectPageInstance } from './common'\nimport { PageLifeCycle } from './instance'\nimport { Current } from '../current'\nimport { HOOKS_APP_ID } from '../constants'\n\nimport type { Func } from '../interface'\n\nconst taroHooks = (lifecycle: keyof PageLifeCycle) => {\n  return (fn: Func) => {\n    const id = React.useContext(PageContext) || HOOKS_APP_ID\n\n    // hold fn ref and keep up to date\n    const fnRef = React.useRef(fn)\n    if (fnRef.current !== fn) fnRef.current = fn\n\n    React.useLayoutEffect(() => {\n      let inst = getPageInstance(id)\n      let first = false\n      if (inst == null) {\n        first = true\n        inst = Object.create(null)\n      }\n\n      inst = inst!\n\n      // callback is immutable but inner function is up to date\n      const callback = (...args: any) => fnRef.current(...args)\n\n      if (isFunction(inst[lifecycle])) {\n        (inst[lifecycle] as any) = [inst[lifecycle], callback]\n      } else {\n        (inst[lifecycle] as any) = [\n          ...((inst[lifecycle] as any) || []),\n          callback\n        ]\n      }\n\n      if (first) {\n        injectPageInstance(inst!, id)\n      }\n      return () => {\n        const inst = getPageInstance(id)\n        const list = inst![lifecycle]\n        if (list === callback) {\n          (inst![lifecycle] as any) = undefined\n        } else if (isArray(list)) {\n          (inst![lifecycle] as any) = list.filter(item => item !== callback)\n        }\n      }\n    }, [])\n  }\n}\n\nexport const useDidShow = taroHooks('componentDidShow')\n\nexport const useDidHide = taroHooks('componentDidHide')\n\nexport const usePullDownRefresh = taroHooks('onPullDownRefresh')\n\nexport const useReachBottom = taroHooks('onReachBottom')\n\nexport const usePageScroll = taroHooks('onPageScroll')\n\nexport const useResize = taroHooks('onResize')\n\nexport const useShareAppMessage = taroHooks('onShareAppMessage')\n\nexport const useTabItemTap = taroHooks('onTabItemTap')\n\nexport const useTitleClick = taroHooks('onTitleClick')\n\nexport const useOptionMenuClick = taroHooks('onOptionMenuClick')\n\nexport const usePullIntercept = taroHooks('onPullIntercept')\n\nexport const useShareTimeline = taroHooks('onShareTimeline')\n\nexport const useAddToFavorites = taroHooks('onAddToFavorites')\n\nexport const useReady = taroHooks('onReady')\n\nexport const useRouter = (dynamic = false) => {\n  return dynamic ? Current.router : React.useMemo(() => Current.router, [])\n}\n\nexport const useScope = () => undefined\n","import { Current } from './current'\nimport { getPath } from './dsl/common'\nimport { TaroRootElement } from './dom/root'\nimport { document } from './bom/document'\nimport { isBrowser } from './env'\n\nimport type { Func } from './interface'\n\nfunction removeLeadingSlash (path?: string) {\n  if (path == null) {\n    return ''\n  }\n  return path.charAt(0) === '/' ? path.slice(1) : path\n}\n\nexport const nextTick = (cb: Func, ctx?: Record<string, any>) => {\n  const router = Current.router\n  const timerFunc = () => {\n    setTimeout(function () {\n      ctx ? cb.call(ctx) : cb()\n    }, 1)\n  }\n\n  if (router !== null) {\n    let pageElement: TaroRootElement | null = null\n    const path = getPath(removeLeadingSlash(router.path), router.params)\n    pageElement = document.getElementById<TaroRootElement>(path)\n    if (pageElement?.pendingUpdate) {\n      if (isBrowser) {\n        // eslint-disable-next-line dot-notation\n        pageElement.firstChild?.['componentOnReady']?.().then(() => {\n          timerFunc()\n        }) ?? timerFunc()\n      } else {\n        pageElement.enqueueUpdateCallback(cb, ctx)\n      }\n    } else {\n      timerFunc()\n    }\n  } else {\n    timerFunc()\n  }\n}\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// This method of obtaining a reference to the global object needs to be\n// kept identical to the way it is obtained in runtime.js\nvar g = (function() { return this })() || Function(\"return this\")();\n\n// Use `getOwnPropertyNames` because not all browsers support calling\n// `hasOwnProperty` on the global `self` object in a worker. See #183.\nvar hadRuntime = g.regeneratorRuntime &&\n  Object.getOwnPropertyNames(g).indexOf(\"regeneratorRuntime\") >= 0;\n\n// Save the old regeneratorRuntime in case it needs to be restored later.\nvar oldRuntime = hadRuntime && g.regeneratorRuntime;\n\n// Force reevalutation of runtime.js.\ng.regeneratorRuntime = undefined;\n\nmodule.exports = require(\"./runtime\");\n\nif (hadRuntime) {\n  // Restore the original runtime.\n  g.regeneratorRuntime = oldRuntime;\n} else {\n  // Remove the global property added by runtime.js.\n  try {\n    delete g.regeneratorRuntime;\n  } catch(e) {\n    g.regeneratorRuntime = undefined;\n  }\n}\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  runtime.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration. If the Promise is rejected, however, the\n          // result for this iteration will be rejected with the same\n          // reason. Note that rejections of yielded Promises are not\n          // thrown back into the generator function, as is the case\n          // when an awaited Promise is rejected. This difference in\n          // behavior between yield and await is important, because it\n          // allows the consumer to decide what to do with the yielded\n          // rejection (swallow it and continue, manually .throw it back\n          // into the generator, abandon iteration, whatever). With\n          // await, by contrast, there is no opportunity to examine the\n          // rejection reason outside the generator function, so the\n          // only option is to throw it from the await expression, and\n          // let the generator function handle the exception.\n          result.value = unwrapped;\n          resolve(result);\n        }, reject);\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  runtime.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        if (delegate.iterator.return) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // In sloppy mode, unbound `this` refers to the global object, fallback to\n  // Function constructor if we're in global strict mode. That is sadly a form\n  // of indirect eval which violates Content Security Policy.\n  (function() { return this })() || Function(\"return this\")()\n);\n","export const View = 'view'\nexport const Icon = 'icon'\nexport const Progress = 'progress'\nexport const RichText = 'rich-text'\nexport const Text = 'text'\nexport const Button = 'button'\nexport const Checkbox = 'checkbox'\nexport const CheckboxGroup = 'checkbox-group'\nexport const Form = 'form'\nexport const Input = 'input'\nexport const Label = 'label'\nexport const Picker = 'picker'\nexport const PickerView = 'picker-view'\nexport const PickerViewColumn = 'picker-view-column'\nexport const Radio = 'radio'\nexport const RadioGroup = 'radio-group'\nexport const Slider = 'slider'\nexport const Switch = 'switch'\nexport const CoverImage = 'cover-image'\nexport const Textarea = 'textarea'\nexport const CoverView = 'cover-view'\nexport const MovableArea = 'movable-area'\nexport const MovableView = 'movable-view'\nexport const ScrollView = 'scroll-view'\nexport const Swiper = 'swiper'\nexport const SwiperItem = 'swiper-item'\nexport const Navigator = 'navigator'\nexport const Audio = 'audio'\nexport const Camera = 'camera'\nexport const Image = 'image'\nexport const LivePlayer = 'live-player'\nexport const Video = 'video'\nexport const Canvas = 'canvas'\nexport const Ad = 'ad'\nexport const WebView = 'web-view'\nexport const Block = 'block'\nexport const Map = 'map'\nexport const Slot = 'slot'\nexport const CustomWrapper = 'custom-wrapper'\n","// For React.createElement's type\nexport * from '@tarojs/components/mini'\nexport const Editor = 'editor'\nexport const MatchMedia = 'match-media'\nexport const FunctionalPageNavigator = 'functional-page-navigator'\nexport const LivePusher = 'live-pusher'\nexport const OfficialAccount = 'official-account'\nexport const OpenData = 'open-data'\nexport const NavigationBar = 'navigation-bar'\nexport const PageMeta = 'page-meta'\nexport const VoipRoom = 'voip-room'\nexport const AdCustom = 'ad-custom'\nexport const PageContainer = 'page-container'\nexport const KeyboardAccessory = 'keyboard-accessory'\n","export const needPromiseApis = new Set([\n  'authPrivateMessage',\n  'disableAlertBeforeUnload',\n  'enableAlertBeforeUnload',\n  'getBackgroundFetchData',\n  'getGroupEnterInfo',\n  'getShareInfo',\n  'getWeRunData',\n  'join1v1Chat',\n  'openVideoEditor',\n  'saveFileToDisk',\n  'scanItem',\n  'setEnable1v1Chat',\n  'setWindowSize',\n  'sendBizRedPacket',\n  'startFacialRecognitionVerify',\n  'openCustomerServiceChat'\n])\n","import { processApis } from '@tarojs/shared'\nimport { needPromiseApis } from './apis-list'\n\ndeclare const wx: any\n\nexport function initNativeApi (taro) {\n  processApis(taro, wx, {\n    needPromiseApis,\n    modifyApis (apis) {\n      // fix https://github.com/NervJS/taro/issues/9899\n      apis.delete('lanDebug')\n    }\n  })\n  taro.cloud = wx.cloud\n}\n","import { Shortcuts } from './shortcuts'\n\nexport const styles = {\n  style: `i.${Shortcuts.Style}`,\n  class: `i.${Shortcuts.Class}`\n}\n\nexport const events = {\n  bindtap: 'eh'\n}\n\nexport const touchEvents = {\n  bindTouchStart: '',\n  bindTouchMove: '',\n  bindTouchEnd: '',\n  bindTouchCancel: '',\n  bindLongTap: ''\n}\n\nexport const animationEvents = {\n  bindAnimationStart: '',\n  bindAnimationIteration: '',\n  bindAnimationEnd: '',\n  bindTransitionEnd: ''\n}\n\nexport function singleQuote (s: string) {\n  return `'${s}'`\n}\n\nconst View = {\n  'hover-class': singleQuote('none'),\n  'hover-stop-propagation': 'false',\n  'hover-start-time': '50',\n  'hover-stay-time': '400',\n  animation: '',\n  ...touchEvents,\n  ...animationEvents\n}\n\nconst Icon = {\n  type: '',\n  size: '23',\n  color: ''\n}\n\nconst MapComp = {\n  longitude: '',\n  latitude: '',\n  scale: '16',\n  markers: '[]',\n  covers: '',\n  polyline: '[]',\n  circles: '[]',\n  controls: '[]',\n  'include-points': '[]',\n  'show-location': '',\n  'layer-style': '1',\n  bindMarkerTap: '',\n  bindControlTap: '',\n  bindCalloutTap: '',\n  bindUpdated: '',\n  ...touchEvents\n}\n\nconst Progress = {\n  percent: '',\n  'stroke-width': '6',\n  color: singleQuote('#09BB07'),\n  activeColor: singleQuote('#09BB07'),\n  backgroundColor: singleQuote('#EBEBEB'),\n  active: 'false',\n  'active-mode': singleQuote('backwards'),\n  'show-info': 'false'\n}\n\nconst RichText = {\n  nodes: '[]'\n}\n\nconst Text = {\n  selectable: 'false',\n  space: '',\n  decode: 'false'\n}\n\nconst Button = {\n  size: singleQuote('default'),\n  type: '',\n  plain: 'false',\n  disabled: '',\n  loading: 'false',\n  'form-type': '',\n  'open-type': '',\n  'hover-class': singleQuote('button-hover'),\n  'hover-stop-propagation': 'false',\n  'hover-start-time': '20',\n  'hover-stay-time': '70',\n  name: '',\n  ...touchEvents\n}\n\nconst Checkbox = {\n  value: '',\n  disabled: '',\n  checked: 'false',\n  color: singleQuote('#09BB07'),\n  name: ''\n}\n\nconst CheckboxGroup = {\n  bindChange: '',\n  name: ''\n}\n\nconst Form = {\n  'report-submit': 'false',\n  bindSubmit: '',\n  bindReset: '',\n  name: ''\n}\n\nconst Input = {\n  value: '',\n  type: singleQuote(''),\n  password: 'false',\n  placeholder: '',\n  'placeholder-style': '',\n  'placeholder-class': singleQuote('input-placeholder'),\n  disabled: '',\n  maxlength: '140',\n  'cursor-spacing': '0',\n  focus: 'false',\n  'confirm-type': singleQuote('done'),\n  'confirm-hold': 'false',\n  cursor: 'i.value.length',\n  'selection-start': '-1',\n  'selection-end': '-1',\n  bindInput: '',\n  bindFocus: '',\n  bindBlur: '',\n  bindConfirm: '',\n  name: ''\n}\n\nconst Label = {\n  for: '',\n  name: ''\n}\n\nconst Picker = {\n  mode: singleQuote('selector'),\n  disabled: '',\n  range: '',\n  'range-key': '',\n  value: '',\n  start: '',\n  end: '',\n  fields: singleQuote('day'),\n  'custom-item': '',\n  name: '',\n  bindCancel: '',\n  bindChange: '',\n  bindColumnChange: ''\n}\n\nconst PickerView = {\n  value: '',\n  'indicator-style': '',\n  'indicator-class': '',\n  'mask-style': '',\n  'mask-class': '',\n  bindChange: '',\n  name: ''\n}\n\nconst PickerViewColumn = {\n  name: ''\n}\n\nconst Radio = {\n  value: '',\n  checked: 'false',\n  disabled: '',\n  color: singleQuote('#09BB07'),\n  name: ''\n}\n\nconst RadioGroup = {\n  bindChange: '',\n  name: ''\n}\n\nconst Slider = {\n  min: '0',\n  max: '100',\n  step: '1',\n  disabled: '',\n  value: '0',\n  activeColor: singleQuote('#1aad19'),\n  backgroundColor: singleQuote('#e9e9e9'),\n  'block-size': '28',\n  'block-color': singleQuote('#ffffff'),\n  'show-value': 'false',\n  bindChange: '',\n  bindChanging: '',\n  name: ''\n}\n\nconst Switch = {\n  checked: 'false',\n  disabled: '',\n  type: singleQuote('switch'),\n  color: singleQuote('#04BE02'),\n  bindChange: '',\n  name: ''\n}\n\nconst Textarea = {\n  value: '',\n  placeholder: '',\n  'placeholder-style': '',\n  'placeholder-class': singleQuote('textarea-placeholder'),\n  disabled: '',\n  maxlength: '140',\n  'auto-focus': 'false',\n  focus: 'false',\n  'auto-height': 'false',\n  fixed: 'false',\n  'cursor-spacing': '0',\n  cursor: '-1',\n  'selection-start': '-1',\n  'selection-end': '-1',\n  bindFocus: '',\n  bindBlur: '',\n  bindLineChange: '',\n  bindInput: '',\n  bindConfirm: '',\n  name: ''\n}\n\nconst CoverImage = {\n  src: '',\n  bindLoad: 'eh',\n  bindError: 'eh'\n}\n\nconst CoverView = {\n  'scroll-top': 'false',\n  ...touchEvents\n}\n\nconst MovableArea = {\n  'scale-area': 'false'\n}\n\nconst MovableView = {\n  direction: 'none',\n  inertia: 'false',\n  'out-of-bounds': 'false',\n  x: '',\n  y: '',\n  damping: '20',\n  friction: '2',\n  disabled: '',\n  scale: 'false',\n  'scale-min': '0.5',\n  'scale-max': '10',\n  'scale-value': '1',\n  animation: 'true',\n  bindChange: '',\n  bindScale: '',\n  bindHTouchMove: '',\n  bindVTouchMove: '',\n  width: singleQuote('10px'),\n  height: singleQuote('10px'),\n  ...touchEvents,\n  ...animationEvents\n}\n\nconst ScrollView = {\n  'scroll-x': 'false',\n  'scroll-y': 'false',\n  'upper-threshold': '50',\n  'lower-threshold': '50',\n  'scroll-top': '',\n  'scroll-left': '',\n  'scroll-into-view': '',\n  'scroll-with-animation': 'false',\n  'enable-back-to-top': 'false',\n  bindScrollToUpper: '',\n  bindScrollToLower: '',\n  bindScroll: '',\n  ...touchEvents,\n  ...animationEvents\n}\n\nconst Swiper = {\n  'indicator-dots': 'false',\n  'indicator-color': singleQuote('rgba(0, 0, 0, .3)'),\n  'indicator-active-color': singleQuote('#000000'),\n  autoplay: 'false',\n  current: '0',\n  interval: '5000',\n  duration: '500',\n  circular: 'false',\n  vertical: 'false',\n  'previous-margin': '\\'0px\\'',\n  'next-margin': '\\'0px\\'',\n  'display-multiple-items': '1',\n  bindChange: '',\n  bindTransition: '',\n  bindAnimationFinish: '',\n  ...touchEvents\n}\n\nconst SwiperItem = {\n  'item-id': ''\n}\n\nconst Navigator = {\n  url: '',\n  'open-type': singleQuote('navigate'),\n  delta: '1',\n  'hover-class': singleQuote('navigator-hover'),\n  'hover-stop-propagation': 'false',\n  'hover-start-time': '50',\n  'hover-stay-time': '600',\n  bindSuccess: '',\n  bindFail: '',\n  bindComplete: ''\n}\n\nconst Audio = {\n  id: '',\n  src: '',\n  loop: 'false',\n  controls: 'false',\n  poster: '',\n  name: '',\n  author: '',\n  bindError: '',\n  bindPlay: '',\n  bindPause: '',\n  bindTimeUpdate: '',\n  bindEnded: ''\n}\n\nconst Camera = {\n  'device-position': singleQuote('back'),\n  flash: singleQuote('auto'),\n  bindStop: '',\n  bindError: ''\n}\n\nconst Image = {\n  src: '',\n  mode: singleQuote('scaleToFill'),\n  'lazy-load': 'false',\n  bindError: '',\n  bindLoad: '',\n  ...touchEvents\n}\n\nconst LivePlayer = {\n  src: '',\n  autoplay: 'false',\n  muted: 'false',\n  orientation: singleQuote('vertical'),\n  'object-fit': singleQuote('contain'),\n  'background-mute': 'false',\n  'min-cache': '1',\n  'max-cache': '3',\n  animation: '',\n  bindStateChange: '',\n  bindFullScreenChange: '',\n  bindNetStatus: ''\n}\n\nconst Video = {\n  src: '',\n  duration: '',\n  controls: 'true',\n  'danmu-list': '',\n  'danmu-btn': '',\n  'enable-danmu': '',\n  autoplay: 'false',\n  loop: 'false',\n  muted: 'false',\n  'initial-time': '0',\n  'page-gesture': 'false',\n  direction: '',\n  'show-progress': 'true',\n  'show-fullscreen-btn': 'true',\n  'show-play-btn': 'true',\n  'show-center-play-btn': 'true',\n  'enable-progress-gesture': 'true',\n  'object-fit': singleQuote('contain'),\n  poster: '',\n  'show-mute-btn': 'false',\n  animation: '',\n  bindPlay: '',\n  bindPause: '',\n  bindEnded: '',\n  bindTimeUpdate: '',\n  bindFullScreenChange: '',\n  bindWaiting: '',\n  bindError: ''\n}\n\nconst Canvas = {\n  'canvas-id': '',\n  'disable-scroll': 'false',\n  bindError: '',\n  ...touchEvents\n}\n\nconst Ad = {\n  'unit-id': '',\n  'ad-intervals': '',\n  bindLoad: '',\n  bindError: '',\n  bindClose: ''\n}\n\nconst WebView = {\n  src: '',\n  bindMessage: '',\n  bindLoad: '',\n  bindError: ''\n}\n\nconst Block = {}\n\n// For Vue，因为 slot 标签被 vue 占用了\nconst SlotView = {\n  name: ''\n}\n\n// For React\n// Slot 和 SlotView 最终都会编译成 <view slot={{ i.name }} />\n// 因为 <slot name=\"{{ i.name }}\" /> 适用性没有前者高（无法添加类和样式）\n// 不给 View 直接加 slot 属性的原因是性能损耗\nconst Slot = {\n  name: ''\n}\n\nexport const internalComponents: Record<string, Record<string, string>> = {\n  View,\n  Icon,\n  Progress,\n  RichText,\n  Text,\n  Button,\n  Checkbox,\n  CheckboxGroup,\n  Form,\n  Input,\n  Label,\n  Picker,\n  PickerView,\n  PickerViewColumn,\n  Radio,\n  RadioGroup,\n  Slider,\n  Switch,\n  CoverImage,\n  Textarea,\n  CoverView,\n  MovableArea,\n  MovableView,\n  ScrollView,\n  Swiper,\n  SwiperItem,\n  Navigator,\n  Audio,\n  Camera,\n  Image,\n  LivePlayer,\n  Video,\n  Canvas,\n  Ad,\n  WebView,\n  Block,\n  Map: MapComp,\n  Slot,\n  SlotView\n}\n\nexport const controlledComponent = new Set([\n  'input',\n  'checkbox',\n  'picker',\n  'picker-view',\n  'radio',\n  'slider',\n  'switch',\n  'textarea'\n])\n\nexport const focusComponents = new Set([\n  'input',\n  'textarea'\n])\n\nexport const voidElements = new Set([\n  'progress',\n  'icon',\n  'rich-text',\n  'input',\n  'textarea',\n  'slider',\n  'switch',\n  'audio',\n  'ad',\n  'official-account',\n  'open-data',\n  'navigation-bar'\n])\n\nexport const nestElements = new Map([\n  ['view', -1],\n  ['catch-view', -1],\n  ['cover-view', -1],\n  ['static-view', -1],\n  ['pure-view', -1],\n  ['block', -1],\n  ['text', -1],\n  ['static-text', 6],\n  ['slot', 8],\n  ['slot-view', 8],\n  ['label', 6],\n  ['form', 4],\n  ['scroll-view', 4],\n  ['swiper', 4],\n  ['swiper-item', 4]\n])\n","import { initNativeApi } from './apis'\n\nexport { initNativeApi }\nexport * from './components'\nexport * from './apis-list'\nexport const hostConfig = {\n  initNativeApi\n}\n","import { mergeReconciler, mergeInternalComponents } from '@tarojs/shared'\nimport { hostConfig, components } from './runtime-utils'\n\nmergeReconciler(hostConfig)\nmergeInternalComponents(components)\n","import { TaroElement, Style, FormElement } from '@tarojs/runtime'\nimport { isFunction, isString, isObject, isNumber, internalComponents, capitalize, toCamelCase } from '@tarojs/shared'\n\nexport type Props = Record<string, unknown>\n\nfunction isEventName (s: string) {\n  return s[0] === 'o' && s[1] === 'n'\n}\n\nconst IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i\n\nexport function updateProps (dom: TaroElement, oldProps: Props, newProps: Props) {\n  let i: string\n\n  for (i in oldProps) {\n    if (!(i in newProps)) {\n      setProperty(dom, i, null, oldProps[i])\n    }\n  }\n  const isFormElement = dom instanceof FormElement\n  for (i in newProps) {\n    if (oldProps[i] !== newProps[i] || (isFormElement && i === 'value')) {\n      setProperty(dom, i, newProps[i], oldProps[i])\n    }\n  }\n}\n\n// function eventProxy (e: CommonEvent) {\n//   const el = document.getElementById(e.currentTarget.id)\n//   const handlers = el!.__handlers[e.type]\n//   handlers[0](e)\n// }\n\nfunction setEvent (dom: TaroElement, name: string, value: unknown, oldValue?: unknown) {\n  const isCapture = name.endsWith('Capture')\n  let eventName = name.toLowerCase().slice(2)\n  if (isCapture) {\n    eventName = eventName.slice(0, -7)\n  }\n\n  const compName = capitalize(toCamelCase(dom.tagName.toLowerCase()))\n\n  if (eventName === 'click' && compName in internalComponents) {\n    eventName = 'tap'\n  }\n\n  if (isFunction(value)) {\n    if (!oldValue) {\n      dom.addEventListener(eventName, value, isCapture)\n    }\n    if (eventName === 'regionchange') {\n      dom.__handlers.begin[0] = value\n      dom.__handlers.end[0] = value\n    } else {\n      dom.__handlers[eventName][0] = value\n    }\n  } else {\n    dom.removeEventListener(eventName, oldValue as any)\n  }\n}\n\nfunction setStyle (style: Style, key: string, value: string | number) {\n  if (key[0] === '-') {\n    style.setProperty(key, value.toString())\n  }\n\n  style[key] =\n    isNumber(value) && IS_NON_DIMENSIONAL.test(key) === false\n      ? value + 'px'\n      : value == null\n        ? ''\n        : value\n}\n\ntype StyleValue = Record<string, string | number>\ninterface DangerouslySetInnerHTML {\n  __html?: string\n}\n\nfunction setProperty (dom: TaroElement, name: string, value: unknown, oldValue?: unknown) {\n  name = name === 'className' ? 'class' : name\n\n  if (\n    name === 'key' ||\n    name === 'children' ||\n    name === 'ref'\n  ) {\n    // skip\n  } else if (name === 'style') {\n    const style = dom.style\n    if (isString(value)) {\n      style.cssText = value\n    } else {\n      if (isString(oldValue)) {\n        style.cssText = ''\n        oldValue = null\n      }\n\n      if (isObject<StyleValue>(oldValue)) {\n        for (const i in oldValue) {\n          if (!(value && i in (value as StyleValue))) {\n            setStyle(style, i, '')\n          }\n        }\n      }\n\n      if (isObject<StyleValue>(value)) {\n        for (const i in value) {\n          if (!oldValue || value[i] !== (oldValue as StyleValue)[i]) {\n            setStyle(style, i, value[i])\n          }\n        }\n      }\n    }\n  } else if (isEventName(name)) {\n    setEvent(dom, name, value, oldValue)\n  } else if (name === 'dangerouslySetInnerHTML') {\n    const newHtml = (value as DangerouslySetInnerHTML)?.__html ?? ''\n    const oldHtml = (oldValue as DangerouslySetInnerHTML)?.__html ?? ''\n    if (newHtml || oldHtml) {\n      if (oldHtml !== newHtml) {\n        dom.innerHTML = newHtml\n      }\n    }\n  } else if (!isFunction(value)) {\n    if (value == null) {\n      dom.removeAttribute(name)\n    } else {\n      dom.setAttribute(name, value as string)\n    }\n  }\n}\n","/* eslint-disable @typescript-eslint/indent */\nimport Reconciler, { HostConfig } from 'react-reconciler'\nimport * as scheduler from 'scheduler'\nimport { TaroElement, TaroText, document } from '@tarojs/runtime'\nimport { noop, EMPTY_ARR } from '@tarojs/shared'\nimport { Props, updateProps } from './props'\n\nconst {\n  unstable_now: now\n} = scheduler\n\nfunction returnFalse () {\n  return false\n}\n\nconst hostConfig: HostConfig<\n  string, // Type\n  Props, // Props\n  TaroElement, // Container\n  TaroElement, // Instance\n  TaroText, // TextInstance\n  TaroElement, // SuspenseInstance\n  TaroElement, // HydratableInstance\n  TaroElement, // PublicInstance\n  Record<string, any>, // HostContext\n  string[], // UpdatePayload\n  unknown, // ChildSet\n  unknown, // TimeoutHandle\n  unknown // NoTimeout\n> & {\n  hideInstance (instance: TaroElement): void\n  unhideInstance (instance: TaroElement, props): void\n} = {\n  createInstance (type) {\n    return document.createElement(type)\n  },\n\n  createTextInstance (text) {\n    return document.createTextNode(text)\n  },\n\n  getPublicInstance (inst: TaroElement) {\n    return inst\n  },\n\n  getRootHostContext () {\n    return {}\n  },\n\n  getChildHostContext () {\n    return {}\n  },\n\n  appendChild (parent, child) {\n    parent.appendChild(child)\n  },\n\n  appendInitialChild (parent, child) {\n    parent.appendChild(child)\n  },\n\n  appendChildToContainer (parent, child) {\n    parent.appendChild(child)\n  },\n\n  removeChild (parent, child) {\n    parent.removeChild(child)\n  },\n\n  removeChildFromContainer (parent, child) {\n    parent.removeChild(child)\n  },\n\n  insertBefore (parent, child, refChild) {\n    parent.insertBefore(child, refChild)\n  },\n\n  insertInContainerBefore (parent, child, refChild) {\n    parent.insertBefore(child, refChild)\n  },\n\n  commitTextUpdate (textInst, _, newText) {\n    textInst.nodeValue = newText\n  },\n\n  finalizeInitialChildren (dom, _, props) {\n    updateProps(dom, {}, props)\n    return false\n  },\n\n  prepareUpdate () {\n    return EMPTY_ARR\n  },\n\n  commitUpdate (dom, _payload, _type, oldProps, newProps) {\n    updateProps(dom, oldProps, newProps)\n  },\n\n  hideInstance (instance) {\n    const style = instance.style\n    style.setProperty('display', 'none')\n  },\n\n  unhideInstance (instance, props) {\n    const styleProp = props.style\n    let display = styleProp?.hasOwnProperty('display') ? styleProp.display : null\n    display = display == null || typeof display === 'boolean' || display === '' ? '' : ('' + display).trim()\n    // eslint-disable-next-line dot-notation\n    instance.style['display'] = display\n  },\n\n  clearContainer (element) {\n    if (element.childNodes.length > 0) {\n      element.textContent = ''\n    }\n  },\n\n  queueMicrotask: typeof Promise !== 'undefined'\n  ? callback =>\n      Promise.resolve(null)\n        .then(callback)\n        .catch(function (error) {\n          setTimeout(() => {\n            throw error\n          })\n        })\n  : setTimeout,\n\n  shouldSetTextContent: returnFalse,\n  prepareForCommit (..._: any[]) { return null },\n  resetAfterCommit: noop,\n  commitMount: noop,\n  now,\n  cancelTimeout: clearTimeout,\n  scheduleTimeout: setTimeout,\n  preparePortalMount: noop,\n  noTimeout: -1,\n  supportsMutation: true,\n  supportsPersistence: false,\n  isPrimaryRenderer: true,\n  supportsHydration: false\n}\n\nconst TaroReconciler = Reconciler(hostConfig)\n\nif (process.env.NODE_ENV !== 'production') {\n  const foundDevTools = TaroReconciler.injectIntoDevTools({\n    bundleType: 1,\n    version: '17.0.2',\n    rendererPackageName: 'taro-react'\n  })\n  if (!foundDevTools) {\n    // eslint-disable-next-line no-console\n    console.info('%cDownload the React DevTools ' + 'for a better development experience: ' + 'https://reactjs.org/link/react-devtools', 'font-weight:bold')\n  }\n}\n\nexport {\n  TaroReconciler\n}\n","import { TaroElement } from '@tarojs/runtime'\nimport { ReactNode } from 'react'\nimport { TaroReconciler } from './reconciler'\nimport { OpaqueRoot } from 'react-reconciler'\n\nexport const ContainerMap: WeakMap<TaroElement, Root> = new WeakMap()\n\ntype Renderer = typeof TaroReconciler\n\nexport type Callback = () => void | null | undefined\n\nclass Root {\n  private renderer: Renderer\n  private internalRoot: OpaqueRoot\n\n  public constructor (renderer: Renderer, domContainer: TaroElement) {\n    this.renderer = renderer\n    this.internalRoot = renderer.createContainer(domContainer, 0/** LegacyRoot: react-reconciler/src/ReactRootTags.js */, false, null)\n  }\n\n  public render (children: ReactNode, cb: Callback) {\n    this.renderer.updateContainer(children, this.internalRoot, null, cb)\n\n    return this.renderer.getPublicRootInstance(this.internalRoot)\n  }\n\n  public unmount (cb: Callback) {\n    this.renderer.updateContainer(null, this.internalRoot, null, cb)\n  }\n}\n\nexport function render (element: ReactNode, domContainer: TaroElement, cb: Callback) {\n  const oldRoot = ContainerMap.get(domContainer)\n  if (oldRoot != null) {\n    return oldRoot.render(element, cb)\n  }\n\n  const root = new Root(TaroReconciler, domContainer)\n  ContainerMap.set(domContainer, root)\n  return root.render(element, cb)\n}\n","/* eslint-disable @typescript-eslint/no-unused-vars */\nimport { render, ContainerMap } from './render'\nimport { TaroReconciler } from './reconciler'\nimport { TaroElement } from '@tarojs/runtime'\nimport { ReactNode } from 'react'\nimport { ensure } from '@tarojs/shared'\n\nconst unstable_batchedUpdates = TaroReconciler.batchedUpdates\n\nfunction unmountComponentAtNode (dom: TaroElement) {\n  ensure(dom && [1, 8, 9, 11].includes(dom.nodeType), 'unmountComponentAtNode(...): Target container is not a DOM element.')\n\n  const root = ContainerMap.get(dom)\n\n  if (!root) return false\n\n  unstable_batchedUpdates(() => {\n    root.unmount(() => {\n      ContainerMap.delete(dom)\n    })\n  }, null)\n\n  return true\n}\n\nfunction findDOMNode (comp?: TaroElement | ReactNode) {\n  if (comp == null) {\n    return null\n  }\n\n  const nodeType = (comp as TaroElement).nodeType\n  if (nodeType === 1 || nodeType === 3) {\n    return comp\n  }\n\n  return TaroReconciler.findHostInstance(comp as Record<string, any>)\n}\n\nconst portalType = typeof Symbol === 'function' && Symbol.for\n  ? Symbol.for('react.portal')\n  : 0xeaca\n\nfunction createPortal (\n  children: ReactNode,\n  containerInfo: TaroElement,\n  key?: string\n) {\n  return {\n    $$typeof: portalType,\n    key: key == null ? null : String(key),\n    children,\n    containerInfo,\n    implementation: null\n  }\n}\n\nexport {\n  render,\n  unstable_batchedUpdates,\n  unmountComponentAtNode,\n  findDOMNode,\n  createPortal\n}\n\nexport default {\n  render,\n  unstable_batchedUpdates,\n  unmountComponentAtNode,\n  findDOMNode,\n  createPortal\n}\n","export function isString (o: unknown): o is string {\n  return typeof o === 'string'\n}\n\nexport function isUndefined (o: unknown): o is undefined {\n  return typeof o === 'undefined'\n}\n\nexport function isNull (o: unknown): o is null {\n  return o === null\n}\n\nexport function isObject<T> (o: unknown): o is T {\n  return o !== null && typeof o === 'object'\n}\n\nexport function isBoolean (o: unknown): o is boolean {\n  return o === true || o === false\n}\n\nexport function isFunction (o: unknown): o is (...args: any[]) => any {\n  return typeof o === 'function'\n}\n\nexport function isNumber (o: unknown): o is number {\n  return typeof o === 'number'\n}\n\nexport function isBooleanStringLiteral (o: unknown): o is string {\n  return o === 'true' || o === 'false'\n}\n\nexport const isArray = Array.isArray\n","import { internalComponents } from './components'\nimport { isArray } from './is'\n\nexport const EMPTY_OBJ: any = {}\n\nexport const EMPTY_ARR = []\n\nexport const noop = (..._: unknown[]) => {}\n\nexport const defaultReconciler = Object.create(null)\n\n/**\n * Boxed value.\n *\n * @typeparam T Value type.\n */\nexport interface Box<T> {\n  v: T;\n}\n\n/**\n * box creates a boxed value.\n *\n * @typeparam T Value type.\n * @param v Value.\n * @returns Boxed value.\n */\nexport const box = <T>(v: T) => ({ v })\n\n/**\n * box creates a boxed value.\n *\n * @typeparam T Value type.\n * @param b Boxed value.\n * @returns Value.\n */\nexport const unbox = <T>(b: Box<T>) => b.v\n\nexport function toDashed (s: string) {\n  return s.replace(/([a-z0-9])([A-Z])/g, '$1-$2').toLowerCase()\n}\n\nexport function toCamelCase (s: string) {\n  let camel = ''\n  let nextCap = false\n  for (let i = 0; i < s.length; i++) {\n    if (s[i] !== '-') {\n      camel += nextCap ? s[i].toUpperCase() : s[i]\n      nextCap = false\n    } else {\n      nextCap = true\n    }\n  }\n  return camel\n}\n\nexport const toKebabCase = function (string) {\n  return string.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase()\n}\n\nexport function capitalize (s: string) {\n  return s.charAt(0).toUpperCase() + s.slice(1)\n}\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty\n\nexport const hasOwn = (\n  val: Record<any, any>,\n  key: string | symbol\n) => hasOwnProperty.call(val, key)\n\nconst reportIssue = '如有疑问，请提交 issue 至：https://github.com/nervjs/taro/issues'\n\n/**\n * ensure takes a condition and throw a error if the condition fails,\n * like failure::ensure: https://docs.rs/failure/0.1.1/failure/macro.ensure.html\n * @param condition condition.\n * @param msg error message.\n */\nexport function ensure (condition: boolean, msg: string): asserts condition {\n  if (!condition) {\n    throw new Error(msg + '\\n' + reportIssue)\n  }\n}\n\nexport function warn (condition: boolean, msg: string) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (condition) {\n      console.warn(`[taro warn] ${msg}`)\n    }\n  }\n}\n\nexport function queryToJson (str) {\n  const dec = decodeURIComponent\n  const qp = str.split('&')\n  const ret = {}\n  let name\n  let val\n  for (let i = 0, l = qp.length, item; i < l; ++i) {\n    item = qp[i]\n    if (item.length) {\n      const s = item.indexOf('=')\n      if (s < 0) {\n        name = dec(item)\n        val = ''\n      } else {\n        name = dec(item.slice(0, s))\n        val = dec(item.slice(s + 1))\n      }\n      if (typeof ret[name] === 'string') { // inline'd type check\n        ret[name] = [ret[name]]\n      }\n\n      if (Array.isArray(ret[name])) {\n        ret[name].push(val)\n      } else {\n        ret[name] = val\n      }\n    }\n  }\n  return ret // Object\n}\n\nlet _uniqueId = 1\nconst _loadTime = (new Date()).getTime().toString()\n\nexport function getUniqueKey () {\n  return _loadTime + (_uniqueId++)\n}\n\nconst cacheData = {}\n\nexport function cacheDataSet (key, val) {\n  cacheData[key] = val\n}\n\nexport function cacheDataGet (key, delelteAfterGet?) {\n  const temp = cacheData[key]\n  delelteAfterGet && delete cacheData[key]\n  return temp\n}\n\nexport function cacheDataHas (key) {\n  return key in cacheData\n}\n\nexport function mergeInternalComponents (components) {\n  Object.keys(components).forEach(name => {\n    if (name in internalComponents) {\n      Object.assign(internalComponents[name], components[name])\n    } else {\n      internalComponents[name] = components[name]\n    }\n  })\n}\n\nexport function mergeReconciler (hostConfig) {\n  Object.keys(hostConfig).forEach(key => {\n    const value = hostConfig[key]\n    const raw = defaultReconciler[key]\n    if (!raw) {\n      defaultReconciler[key] = value\n    } else {\n      if (isArray(raw)) {\n        defaultReconciler[key] = raw.push(value)\n      } else {\n        defaultReconciler[key] = [raw, value]\n      }\n    }\n  })\n}\n\nexport function unsupport (api) {\n  return function () {\n    console.warn(`小程序暂不支持 ${api}`)\n  }\n}\n\nexport function setUniqueKeyToRoute (key: string, obj) {\n  const routerParamsPrivateKey = '__key_'\n  const useDataCacheApis = [\n    'navigateTo',\n    'redirectTo',\n    'reLaunch',\n    'switchTab'\n  ]\n\n  if (useDataCacheApis.indexOf(key) > -1) {\n    const url = obj.url = obj.url || ''\n    const hasMark = url.indexOf('?') > -1\n    const cacheKey = getUniqueKey()\n    obj.url += (hasMark ? '&' : '?') + `${routerParamsPrivateKey}=${cacheKey}`\n  }\n}\n\nexport function indent (str: string, size: number): string {\n  return str.split('\\n')\n    .map((line, index) => {\n      const indent = index === 0 ? '' : Array(size).fill(' ').join('')\n      return indent + line\n    })\n    .join('\\n')\n}\n","import { unsupport, setUniqueKeyToRoute } from './utils'\n\ndeclare const getCurrentPages: () => any\ndeclare const getApp: () => any\ndeclare const requirePlugin: () => void\n\ntype IObject = Record<string, any>\n\ninterface IProcessApisIOptions {\n  noPromiseApis?: Set<string>\n  needPromiseApis?: Set<string>\n  handleSyncApis?: (key: string, global: IObject, args: any[]) => any\n  transformMeta?: (key: string, options: IObject) => { key: string, options: IObject },\n  modifyApis?: (apis: Set<string>) => void\n  modifyAsyncResult?: (key: string, res) => void\n  isOnlyPromisify?: boolean\n  [propName: string]: any\n}\n\nconst needPromiseApis = new Set<string>([\n  'addPhoneContact',\n  'authorize',\n  'canvasGetImageData',\n  'canvasPutImageData',\n  'canvasToTempFilePath',\n  'checkSession',\n  'chooseAddress',\n  'chooseImage',\n  'chooseInvoiceTitle',\n  'chooseLocation',\n  'chooseVideo',\n  'clearStorage',\n  'closeBLEConnection',\n  'closeBluetoothAdapter',\n  'closeSocket',\n  'compressImage',\n  'connectSocket',\n  'createBLEConnection',\n  'downloadFile',\n  'exitMiniProgram',\n  'getAvailableAudioSources',\n  'getBLEDeviceCharacteristics',\n  'getBLEDeviceServices',\n  'getBatteryInfo',\n  'getBeacons',\n  'getBluetoothAdapterState',\n  'getBluetoothDevices',\n  'getClipboardData',\n  'getConnectedBluetoothDevices',\n  'getConnectedWifi',\n  'getExtConfig',\n  'getFileInfo',\n  'getImageInfo',\n  'getLocation',\n  'getNetworkType',\n  'getSavedFileInfo',\n  'getSavedFileList',\n  'getScreenBrightness',\n  'getSetting',\n  'getStorage',\n  'getStorageInfo',\n  'getSystemInfo',\n  'getUserInfo',\n  'getWifiList',\n  'hideHomeButton',\n  'hideShareMenu',\n  'hideTabBar',\n  'hideTabBarRedDot',\n  'loadFontFace',\n  'login',\n  'makePhoneCall',\n  'navigateBack',\n  'navigateBackMiniProgram',\n  'navigateTo',\n  'navigateToBookshelf',\n  'navigateToMiniProgram',\n  'notifyBLECharacteristicValueChange',\n  'hideKeyboard',\n  'hideLoading',\n  'hideNavigationBarLoading',\n  'hideToast',\n  'openBluetoothAdapter',\n  'openDocument',\n  'openLocation',\n  'openSetting',\n  'pageScrollTo',\n  'previewImage',\n  'queryBookshelf',\n  'reLaunch',\n  'readBLECharacteristicValue',\n  'redirectTo',\n  'removeSavedFile',\n  'removeStorage',\n  'removeTabBarBadge',\n  'requestSubscribeMessage',\n  'saveFile',\n  'saveImageToPhotosAlbum',\n  'saveVideoToPhotosAlbum',\n  'scanCode',\n  'sendSocketMessage',\n  'setBackgroundColor',\n  'setBackgroundTextStyle',\n  'setClipboardData',\n  'setEnableDebug',\n  'setInnerAudioOption',\n  'setKeepScreenOn',\n  'setNavigationBarColor',\n  'setNavigationBarTitle',\n  'setScreenBrightness',\n  'setStorage',\n  'setTabBarBadge',\n  'setTabBarItem',\n  'setTabBarStyle',\n  'showActionSheet',\n  'showFavoriteGuide',\n  'showLoading',\n  'showModal',\n  'showShareMenu',\n  'showTabBar',\n  'showTabBarRedDot',\n  'showToast',\n  'startBeaconDiscovery',\n  'startBluetoothDevicesDiscovery',\n  'startDeviceMotionListening',\n  'startPullDownRefresh',\n  'stopBeaconDiscovery',\n  'stopBluetoothDevicesDiscovery',\n  'stopCompass',\n  'startCompass',\n  'startAccelerometer',\n  'stopAccelerometer',\n  'showNavigationBarLoading',\n  'stopDeviceMotionListening',\n  'stopPullDownRefresh',\n  'switchTab',\n  'uploadFile',\n  'vibrateLong',\n  'vibrateShort',\n  'writeBLECharacteristicValue'\n])\n\nfunction getCanIUseWebp (taro) {\n  return function () {\n    if (typeof taro.getSystemInfoSync !== 'function') {\n      console.error('不支持 API canIUseWebp')\n      return false\n    }\n    const { platform } = taro.getSystemInfoSync()\n    const platformLower = platform.toLowerCase()\n    if (platformLower === 'android' || platformLower === 'devtools') {\n      return true\n    }\n    return false\n  }\n}\n\nfunction getNormalRequest (global) {\n  return function request (options) {\n    options = options || {}\n    if (typeof options === 'string') {\n      options = {\n        url: options\n      }\n    }\n    const originSuccess = options.success\n    const originFail = options.fail\n    const originComplete = options.complete\n    let requestTask\n    const p: any = new Promise((resolve, reject) => {\n      options.success = res => {\n        originSuccess && originSuccess(res)\n        resolve(res)\n      }\n      options.fail = res => {\n        originFail && originFail(res)\n        reject(res)\n      }\n\n      options.complete = res => {\n        originComplete && originComplete(res)\n      }\n\n      requestTask = global.request(options)\n    })\n    p.abort = (cb) => {\n      cb && cb()\n      if (requestTask) {\n        requestTask.abort()\n      }\n      return p\n    }\n    return p\n  }\n}\n\nfunction processApis (taro, global, config: IProcessApisIOptions = {}) {\n  const patchNeedPromiseApis = config.needPromiseApis || []\n  const _needPromiseApis = new Set<string>([...patchNeedPromiseApis, ...needPromiseApis])\n  const preserved = [\n    'getEnv',\n    'interceptors',\n    'Current',\n    'getCurrentInstance',\n    'options',\n    'nextTick',\n    'eventCenter',\n    'Events',\n    'preload',\n    'webpackJsonp'\n  ]\n\n  const apis = new Set(Object.keys(global).filter(api => preserved.indexOf(api) === -1))\n\n  if (config.modifyApis) {\n    config.modifyApis(apis)\n  }\n\n  apis.forEach(key => {\n    if (_needPromiseApis.has(key)) {\n      const originKey = key\n      taro[originKey] = (options: Record<string, any> | string = {}, ...args) => {\n        let key = originKey\n\n        // 第一个参数 options 为字符串，单独处理\n        if (typeof options === 'string') {\n          if (args.length) {\n            return global[key](options, ...args)\n          }\n          return global[key](options)\n        }\n\n        // 改变 key 或 option 字段，如需要把支付宝标准的字段对齐微信标准的字段\n        if (config.transformMeta) {\n          const transformResult = config.transformMeta(key, options)\n          key = transformResult.key\n          ;(options as Record<string, any>) = transformResult.options\n          // 新 key 可能不存在\n          if (!global.hasOwnProperty(key)) {\n            return unsupport(key)()\n          }\n        }\n\n        let task: any = null\n        const obj: Record<string, any> = Object.assign({}, options)\n\n        // 为页面跳转相关的 API 设置一个随机数作为路由参数。为了给 runtime 区分页面。\n        setUniqueKeyToRoute(key, options)\n\n        // Promise 化\n        const p: any = new Promise((resolve, reject) => {\n          obj.success = res => {\n            config.modifyAsyncResult?.(key, res)\n            options.success?.(res)\n            if (key === 'connectSocket') {\n              resolve(\n                Promise.resolve().then(() => task ? Object.assign(task, res) : res)\n              )\n            } else {\n              resolve(res)\n            }\n          }\n          obj.fail = res => {\n            options.fail?.(res)\n            reject(res)\n          }\n          obj.complete = res => {\n            options.complete?.(res)\n          }\n          if (args.length) {\n            task = global[key](obj, ...args)\n          } else {\n            task = global[key](obj)\n          }\n        })\n\n        // 给 promise 对象挂载属性\n        if (key === 'uploadFile' || key === 'downloadFile') {\n          p.progress = cb => {\n            task?.onProgressUpdate(cb)\n            return p\n          }\n          p.abort = cb => {\n            cb?.()\n            task?.abort()\n            return p\n          }\n        }\n        return p\n      }\n    } else {\n      let platformKey = key\n\n      // 改变 key 或 option 字段，如需要把支付宝标准的字段对齐微信标准的字段\n      if (config.transformMeta) {\n        platformKey = config.transformMeta(key, {}).key\n      }\n\n      // API 不存在\n      if (!global.hasOwnProperty(platformKey)) {\n        taro[key] = unsupport(key)\n        return\n      }\n      if (typeof global[key] === 'function') {\n        taro[key] = (...args) => {\n          if (config.handleSyncApis) {\n            return config.handleSyncApis(key, global, args)\n          } else {\n            return global[platformKey].apply(global, args)\n          }\n        }\n      } else {\n        taro[key] = global[platformKey]\n      }\n    }\n  })\n\n  !config.isOnlyPromisify && equipCommonApis(taro, global, config)\n}\n\n/**\n * 挂载常用 API\n * @param taro Taro 对象\n * @param global 小程序全局对象，如微信的 wx，支付宝的 my\n */\nfunction equipCommonApis (taro, global, apis: Record<string, any> = {}) {\n  taro.canIUseWebp = getCanIUseWebp(taro)\n  taro.getCurrentPages = getCurrentPages || unsupport('getCurrentPages')\n  taro.getApp = getApp || unsupport('getApp')\n  taro.env = global.env || {}\n\n  try {\n    taro.requirePlugin = requirePlugin || unsupport('requirePlugin')\n  } catch (error) {\n    taro.requirePlugin = unsupport('requirePlugin')\n  }\n\n  // request & interceptors\n  const request = apis.request ? apis.request : getNormalRequest(global)\n  function taroInterceptor (chain) {\n    return request(chain.requestParams)\n  }\n  const link = new taro.Link(taroInterceptor)\n  taro.request = link.request.bind(link)\n  taro.addInterceptor = link.addInterceptor.bind(link)\n  taro.cleanInterceptors = link.cleanInterceptors.bind(link)\n  taro.miniGlobal = taro.options.miniGlobal = global\n}\n\nexport {\n  processApis\n}\n","const { container, SERVICE_IDENTIFIER } = require('@tarojs/runtime')\nconst taro = require('@tarojs/api').default\n\nconst hooks = container.get(SERVICE_IDENTIFIER.Hooks)\nif (typeof hooks.initNativeApi === 'function') {\n  hooks.initNativeApi(taro)\n}\n\nmodule.exports = taro\nmodule.exports.default = module.exports\n"],"sourceRoot":""}