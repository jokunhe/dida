{"version":3,"sources":["webpack:///.._src_polyfill.js","webpack:///.._src_env.js","webpack:///.._src_interceptor_chain.js","webpack:///.._src_interceptor_index.js","webpack:///.._src_interceptor_interceptors.js","webpack:///.._src_tools.js","webpack:///.._src_index.js","webpack:///._node_modules_@tarojs_mini-runner_dist_template_comp.js","webpack:///.._.._src_template_custom-wrapper.ts","webpack:///.._src_polyfill_reflect-metadata.js","webpack:///.._src_constants_identifiers.ts","webpack:///.._src_constants_index.ts","webpack:///.._src_utils_index.ts","webpack:///.._src_dom_event-target.ts","webpack:///.._src_hydrate.ts","webpack:///.._src_dom_event-source.ts","webpack:///.._src_interface_container.ts","webpack:///.._src_dom_node.ts","webpack:///.._src_dom_text.ts","webpack:///.._src_dom_style_properties.ts","webpack:///.._src_dom_style.ts","webpack:///.._src_dom_tree.ts","webpack:///.._src_dom_class-list.ts","webpack:///.._src_dom_element.ts","webpack:///.._node_modules_lodash-es_isArray.js","webpack:///.._node_modules_lodash-es__freeGlobal.js","webpack:///.._node_modules_lodash-es__root.js","webpack:///.._node_modules_lodash-es__Symbol.js","webpack:///.._node_modules_lodash-es__getRawTag.js","webpack:///.._node_modules_lodash-es__objectToString.js","webpack:///.._node_modules_lodash-es__baseGetTag.js","webpack:///.._node_modules_lodash-es_isObjectLike.js","webpack:///.._node_modules_lodash-es_isSymbol.js","webpack:///.._node_modules_lodash-es__isKey.js","webpack:///.._node_modules_lodash-es_isObject.js","webpack:///.._node_modules_lodash-es_isFunction.js","webpack:///.._node_modules_lodash-es__coreJsData.js","webpack:///.._node_modules_lodash-es__isMasked.js","webpack:///.._node_modules_lodash-es__toSource.js","webpack:///.._node_modules_lodash-es__baseIsNative.js","webpack:///.._node_modules_lodash-es__getValue.js","webpack:///.._node_modules_lodash-es__getNative.js","webpack:///.._node_modules_lodash-es__nativeCreate.js","webpack:///.._node_modules_lodash-es__hashClear.js","webpack:///.._node_modules_lodash-es__hashDelete.js","webpack:///.._node_modules_lodash-es__hashGet.js","webpack:///.._node_modules_lodash-es__hashHas.js","webpack:///.._node_modules_lodash-es__hashSet.js","webpack:///.._node_modules_lodash-es__Hash.js","webpack:///.._node_modules_lodash-es__listCacheClear.js","webpack:///.._node_modules_lodash-es_eq.js","webpack:///.._node_modules_lodash-es__assocIndexOf.js","webpack:///.._node_modules_lodash-es__listCacheDelete.js","webpack:///.._node_modules_lodash-es__listCacheGet.js","webpack:///.._node_modules_lodash-es__listCacheHas.js","webpack:///.._node_modules_lodash-es__listCacheSet.js","webpack:///.._node_modules_lodash-es__ListCache.js","webpack:///.._node_modules_lodash-es__Map.js","webpack:///.._node_modules_lodash-es__mapCacheClear.js","webpack:///.._node_modules_lodash-es__isKeyable.js","webpack:///.._node_modules_lodash-es__getMapData.js","webpack:///.._node_modules_lodash-es__mapCacheDelete.js","webpack:///.._node_modules_lodash-es__mapCacheGet.js","webpack:///.._node_modules_lodash-es__mapCacheHas.js","webpack:///.._node_modules_lodash-es__mapCacheSet.js","webpack:///.._node_modules_lodash-es__MapCache.js","webpack:///.._node_modules_lodash-es_memoize.js","webpack:///.._node_modules_lodash-es__memoizeCapped.js","webpack:///.._node_modules_lodash-es__stringToPath.js","webpack:///.._node_modules_lodash-es__arrayMap.js","webpack:///.._node_modules_lodash-es__baseToString.js","webpack:///.._node_modules_lodash-es_toString.js","webpack:///.._node_modules_lodash-es__castPath.js","webpack:///.._node_modules_lodash-es__toKey.js","webpack:///.._node_modules_lodash-es__baseGet.js","webpack:///.._node_modules_lodash-es_get.js","webpack:///.._src_options.ts","webpack:///.._src_perf.ts","webpack:///.._src_dom_root.ts","webpack:///.._src_dom_form.ts","webpack:///.._src_dom_svg.ts","webpack:///.._src_dom-external_inner-html_scaner.ts","webpack:///.._src_dom-external_inner-html_tags.ts","webpack:///.._src_dom-external_inner-html_utils.ts","webpack:///.._src_dom-external_inner-html_style.ts","webpack:///.._src_dom-external_inner-html_parser.ts","webpack:///.._src_dom-external_inner-html_html.ts","webpack:///.._src_dom-external_node.ts","webpack:///.._src_dom-external_node-impl.ts","webpack:///.._src_dom-external_element.ts","webpack:///.._src_dom-external_element-impl.ts","webpack:///.._src_dom_document.ts","webpack:///.._src_hooks.ts","webpack:///.._src_constants_events.ts","webpack:///.._src_container_default-hooks.ts","webpack:///.._src_container_plugin-hooks.ts","webpack:///.._src_container_index.ts","webpack:///.._src_dom_event.ts","webpack:///.._src_env.ts","webpack:///.._src_bom_document.ts","webpack:///.._src_bom_navigator.ts","webpack:///.._src_bom_raf.ts","webpack:///.._src_bom_getComputedStyle.ts","webpack:///.._src_bom_window.ts","webpack:///.._src_current.ts","webpack:///.._src_emitter_emitter.ts","webpack:///.._src_dsl_common.ts","webpack:///.._src_dsl_react.ts","webpack:///.._src_dsl_vue.ts","webpack:///.._src_dsl_vue3.ts","webpack:///.._src_dsl_hooks.ts","webpack:///.._src_next-tick.ts","webpack:///._node_modules_@tarojs_mini-runner_node_modules_regenerator-runtime_runtime-module.js","webpack:///._node_modules_@tarojs_mini-runner_node_modules_regenerator-runtime_runtime.js","webpack:///.._.._taro-components_mini_index.js","webpack:///.._src_components-react.ts","webpack:///.._src_apis-list.ts","webpack:///.._src_apis.ts","webpack:///.._src_components.ts","webpack:///.._src_runtime-utils.ts","webpack:///.._src_runtime.ts","webpack:///.._src_props.ts","webpack:///.._src_reconciler.ts","webpack:///.._src_render.ts","webpack:///.._src_index.ts","webpack:///.._src_is.ts","webpack:///.._src_utils.ts","webpack:///.._src_native-apis.ts","webpack:///._node_modules_@tarojs_taro_index.js"],"names":["Object","assign","target","TypeError","to","index","arguments","length","nextSource","nextKey","prototype","hasOwnProperty","call","defineProperties","obj","properties","convertToDescriptor","desc","hasProperty","prop","isCallable","v","_typeof","d","enumerable","configurable","value","writable","g","get","s","set","keys","descs","i","push","defineProperty","ENV_TYPE","WEAPP","WEB","RN","SWAN","ALIPAY","TT","QQ","JD","_env","getEnv","jd","getSystemInfo","qq","tt","wx","swan","my","global","__fbGenNativeModule","window","Chain","requestParams","interceptors","_classCallCheck","Error","nextInterceptor","_getNextInterceptor","nextChain","_getNextChain","p","res","catch","Promise","reject","err","abort","Link","interceptor","taroInterceptor","chain","filter","_this","proceed","timeoutInterceptor","resolve","timeout","setTimeout","then","clearTimeout","undefined","logInterceptor","method","data","url","console","log","Behavior","options","getPreload","current","key","val","preloadData","getInitPxTransform","taro","config","designWidth","deviceRatio","getPxTransform","size","parseInt","Taro","Current","getCurrentInstance","nextTick","eventCenter","Events","useDidShow","useDidHide","usePullDownRefresh","useReachBottom","usePageScroll","useResize","useShareAppMessage","useTabItemTap","useTitleClick","useOptionMenuClick","usePullIntercept","useShareTimeline","useAddToFavorites","useReady","useRouter","initPxTransform","preload","pxTransform","Component","createRecursiveComponentConfig","runtime_1","process","Reflect","factory","exporter","makeExporter","previous","hasOwn","supportsSymbol","Symbol","toPrimitiveSymbol","toPrimitive","iteratorSymbol","iterator","supportsCreate","create","supportsProto","__proto__","Array","downLevel","HashMap","MakeDictionary","has","map","functionPrototype","getPrototypeOf","Function","usePolyfill","env","_Map","Map","entries","CreateMapPolyfill","_Set","Set","CreateSetPolyfill","_WeakMap","WeakMap","CreateWeakMapPolyfill","Metadata","decorate","decorators","propertyKey","attributes","IsUndefined","IsArray","IsObject","IsNull","ToPropertyKey","DecorateProperty","IsConstructor","DecorateConstructor","metadata","metadataKey","metadataValue","decorator","IsPropertyKey","OrdinaryDefineOwnMetadata","defineMetadata","hasMetadata","OrdinaryHasMetadata","hasOwnMetadata","OrdinaryHasOwnMetadata","getMetadata","OrdinaryGetMetadata","getOwnMetadata","OrdinaryGetOwnMetadata","getMetadataKeys","OrdinaryMetadataKeys","getOwnMetadataKeys","OrdinaryOwnMetadataKeys","deleteMetadata","metadataMap","GetOrCreateMetadataMap","delete","targetMetadata","decorated","descriptor","O","P","Create","MetadataKey","parent","OrdinaryGetPrototypeOf","ToBoolean","MetadataValue","ownKeys","parentKeys","_i","ownKeys_1","hasKey","add","_a","parentKeys_1","keysObj","GetIterator","k","next","IteratorStep","nextValue","IteratorValue","e","IteratorClose","Type","x","IsSymbol","ToPrimitive","input","PreferredType","hint","exoticToPrim","GetMethod","result","OrdinaryToPrimitive","toString_1","toString","IsCallable","valueOf","toString_2","argument","ToString","isArray","V","func","iterResult","done","f","proto","prototypeProto","constructor","cacheSentinel","arraySentinel","MapIterator","values","selector","_index","_keys","_values","_selector","throw","error","return","_cacheKey","_cacheIndex","_find","clear","getKey","getValue","getEntry","insert","indexOf","_","_map","UUID_SIZE","rootKey","CreateUniqueKey","_key","table","GetOrCreateWeakMapTable","CreateUUID","FillRandomBytes","buffer","Math","random","GenRandomBytes","Uint8Array","crypto","getRandomValues","msCrypto","offset","byte","toLowerCase","__","SERVICE_IDENTIFIER","TaroElement","TaroElementFactory","TaroText","TaroTextFactory","TaroNodeImpl","TaroElementImpl","Hooks","onRemoveAttribute","getLifecycle","getPathIndex","getEventCenter","isBubbleEvents","getSpecialNodes","modifyMpEvent","modifyTaroEvent","batchedEventUpdates","mergePageInstance","createPullDownComponent","getDOMNode","initNativeApi","modifyHydrateData","modifySetAttrPayload","modifyRmAttrPayload","onAddEvent","patchElement","PROPERTY_THRESHOLD","HOOKS_APP_ID","SET_DATA","PAGE_INIT","ROOT_STR","HTML","HEAD","BODY","APP","CONTAINER","DOCUMENT_ELEMENT_NAME","DOCUMENT_FRAGMENT","ID","UID","CLASS","STYLE","FOCUS","VIEW","STATIC_VIEW","PURE_VIEW","PROPS","DATASET","OBJECT","VALUE","INPUT","CHANGE","CUSTOM_WRAPPER","TARGET","CURRENT_TARGET","TYPE","CONFIRM","TIME_STAMP","KEY_CODE","TOUCHMOVE","DATE","SET_TIMEOUT","CATCHMOVE","CATCH_VIEW","COMMENT","incrementId","id","isElement","node","nodeType","isText","isComment","nodeName","isHasExtractProp","el","props","find","test","startsWith","Boolean","isParentBinded","type","parentElement","_path","__handlers","shortcutAttr","TaroEventTarget","hooks","addEventListener","handler","_b","handlers","isCapture","isOnce","isObject","capture","once","wrapper","apply","removeEventListener","warn","splice","isAnyEventBinded","injectable","__param","hydrate","nodeValue","uid","SPECIAL_NODES","propInCamelCase","toCamelCase","childNodes","className","cssText","eventSource","ElementNames","nodeId","TaroNode","impl","getElement","bind","_getElement","_empty","child","parentNode","shift","_root","findIndex","refChild","ensure","list","indexOfNode","text","enqueueUpdate","path","document","Document","appendChild","createTextNode","insertBefore","newChild","isReplace","reduceRight","previousValue","currentValue","remove","payload","replaceChild","oldChild","removeChild","hasChildNodes","contains","isContains","some","childNode","nodeImpl","_value","textContent","styleProperties","combine","prefix","excludeSelf","forEach","item","color","style","width","image","color_style_width","fitlength_fitwidth_image","fitlength_fitwidth_image_radius","color_style_width_fitlength_fitwidth_image","endRadius_startRadius","bottom_left_right_top","end_start","content_items_self","blockSize_height_inlineSize_width","after_before","setStyle","newVal","styleKey","old","_usedStyleProp","_element","initStyle","ctor","isCssVariable","propertyName","Style","element","setCssVariables","styleName","toDashed","str","removeProperty","rules","split","rule","trim","propName","valList","join","isUndefined","setProperty","getPropertyValue","returnTrue","treeToArray","root","predict","array","object","following","firstChild","nextSibling","ClassList","_update","toggle","replace","s1","s2","elementImpl","EMPTY_OBJ","_stopPropagation","event","listeners","l","_stop","getAttribute","setAttribute","propKeys","attrs","name","concat","hasAttribute","qualifiedName","hasAttributes","focus","blur","isPureView","String","dataset","removeAttribute","isStaticView","isInterrupt","_d","attr","getElementsByTagName","tagName","getElementsByClassName","classList","classNames","every","c","dispatchEvent","cancelable","listener","_end","defaultPrevented","freeGlobal","freeSelf","self","objectProto","nativeObjectToString","symToStringTag","toStringTag","getRawTag","isOwn","tag","unmasked","objectToString","nullTag","undefinedTag","baseGetTag","isObjectLike","symbolTag","isSymbol","reIsDeepProp","reIsPlainProp","isKey","asyncTag","funcTag","genTag","proxyTag","isFunction","coreJsData","maskSrcKey","exec","IE_PROTO","isMasked","funcProto","funcToString","toSource","reRegExpChar","reIsHostCtor","reIsNative","RegExp","baseIsNative","pattern","getNative","nativeCreate","hashClear","__data__","hashDelete","HASH_UNDEFINED","hashGet","hashHas","hashSet","Hash","entry","listCacheClear","eq","other","assocIndexOf","arrayProto","listCacheDelete","lastIndex","pop","listCacheGet","listCacheHas","listCacheSet","ListCache","mapCacheClear","isKeyable","getMapData","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","MapCache","FUNC_ERROR_TEXT","memoize","resolver","memoized","args","cache","Cache","MAX_MEMOIZE_SIZE","memoizeCapped","rePropName","reEscapeChar","stringToPath","string","charCodeAt","match","number","quote","subString","arrayMap","iteratee","INFINITY","symbolProto","symbolToString","baseToString","castPath","toKey","baseGet","defaultValue","prerender","debug","Performance","start","recorder","Date","now","stop","prev","time","perf","eventIncrementId","TaroRootElement","updatePayloads","pendingUpdate","ctx","performUpdate","initRender","resetPaths","endsWith","includes","customWrapperUpdate","customWrapperMap","normalUpdate","dataPathArr","hasCustomWrapper","allPath","slice","getData","nn","customWrapperId","customWrapper","selectComponent","splitedPath","updateArrLen","eventId","executeTime","pendingFlush","flushUpdateCallback","setData","trigger","enqueueUpdateCallback","cb","updateCallbacks","copies","FormElement","mpEvent","detail","SVGElement","initPosition","column","line","feedPosition","position","len","end","char","charAt","jumpPosition","copyPosition","whitespace","isWhitespaceChar","equalSign","isEqualSignChar","shouldBeIgnore","html","skipElements","alphanumeric","findTextEnd","textEnd","isWordEnd","cursor","wordBegin","Scaner","scan","scanText","scanComment","scanTag","scanSkipTag","tokens","content","contentEnd","commentEnd","scanTagStart","scanTagName","scanAttrs","scanTagEnd","secondChar","close","firstChar","isTagChar","words","isQuoteEnd","isTagEnd","isQuoteStart","wLen","word","isNotPair","secondWord","newWord","thirdWord","safeTagName","nextTag","makeMap","expectsLowerCase","specialMiniElements","img","iframe","internalCompsList","internalComponents","isMiniElements","isInlineElements","isBlockElements","unquote","car","LEFT_BRACKET","RIGHT_BRACKET","CLASS_SELECTOR","ID_SELECTOR","CHILD_COMBINATOR","GENERAL_SIBLING_COMBINATOR","ADJACENT_SIBLING_COMBINATOR","StyleTagParser","extractStyle","src","REG_STYLE","$1","stringToSelector","lb","rb","selectors","t","selectorList","parseSelector","styles","isChild","isGeneralSibling","isAdjacentSibling","class","all","substr","matchStyle","sortStyles","reduce","idx","nextSelector","isMatch","matchCurrent","getPreviousElement","h5tagName","isSiblingMatch","cls","previousSibling","sort","hundreds1","getHundredsWeight","hundreds2","tens1","getTensWeight","tens2","ones1","getOnesWeight","ones2","pre","cur","closingTagAncestorBreakers","li","dt","dd","tbody","thead","tfoot","tr","td","hasTerminalParent","stack","tagParents","currentIndex","parentTagName","getTagName","renderHTMLTag","splitEqual","sep","format","children","styleOptions","transformText","createElement","styleTagParser","descendantList","transformElement","parser","state","parse","fill","nodes","token","tagToken","shouldRewind","endToken","isClosingTag","closingElements","shouldRewindToAutoClose","previousIndex","attrToken","hasChildren","voidElements","innerState","setInnerHTML","getDoc","insertAdjacentHTMLImpl","parsedNodes","n","cloneNode","isDeep","newNode","from","ENABLE_INNER_HTML","bindInnerHTML","ENABLE_ADJACENT_HTML","bindAdjacentHTML","ENABLE_CLONE_NODE","insertAdjacentHTML","getBoundingClientRectImpl","miniGlobal","query","createSelectorQuery","select","boundingClientRect","getTemplateContent","Element","ENABLE_SIZE_APIS","ENABLE_TEMPLATE_CONTENT","bindContent","TaroDocument","getText","_getText","RootElement","controlledComponent","createElementNS","_svgNS","getElementById","querySelector","querySelectorAll","createComment","textnode","modifyMpEventImpls","fn","modifyTaroEventImpls","initNativeApiImpls","patchElementImpls","__decorate","inject","optional","multiInject","BUBBLE_EVENTS","instance","lifecycle","eventName","DefaultHooksContainer","ContainerModule","toFunction","processPluginHooks","container","defaultReconciler","identifier","isBound","rebind","Container","whenTargetNamed","inSingletonScope","toFactory","context","named","getNamed","toUpperCase","textNode","load","TaroEvent","opts","bubbles","stopPropagation","stopImmediatePropagation","preventDefault","_c","currentTarget","createEvent","domEv","eventsBatch","eventHandler","dispatch","catchMove","isBrowser","scripts","doc","win","createDocument","ioc_container","documentCreateElement","head","body","app","documentElement","machine","arch","engine","navigator","appCodeName","appName","appVersion","cookieEnabled","mimeTypes","onLine","platform","plugins","product","productSub","userAgent","vendor","vendorSub","loadTime","performance","getTime","lastTime","raf","requestAnimationFrame","callback","_now","nextTime","max","caf","cancelAnimationFrame","getComputedStyle","globalProperties","getOwnPropertyNames","getOwnPropertySymbols","property","defaultView","router","page","callbacks","on","tail","eventSplitter","calls","events","off","rest","toConstantValue","instances","pageId","injectPageInstance","inst","getPageInstance","addLeadingSlash","safeExecute","stringify","getPath","getOnReadyEventKey","getOnShowEventKey","getOnHideEventKey","createPageConfig","component","pageName","pageConfig","pageElement","unmounting","prepareMountList","onLoad","$taroTimestamp","$taroPath","$taroParams","route","__route__","params","onReady","onShow","onHide","mount","called","onUnload","unmount","onPullDownRefresh","onReachBottom","onPageScroll","onResize","onTabItemTap","onTitleClick","onOptionMenuClick","onPopMenuClick","onPullIntercept","onAddToFavorites","onShareAppMessage","enableShareAppMessage","onShareTimeline","enableShareTimeline","eh","createComponentConfig","componentName","componentElement","attached","getPageId","detached","methods","addGlobalClass","virtualHost","isClassComponent","R","render","isReactComponent","PageContext","connectReactPage","h","refs","ref","forwardedRef","reactReduxForwardedRef","createContext","hasError","componentDidCatch","info","Provider","ReactDOM","setReconciler","unstable_batchedUpdates","pageKeyId","createReactApp","App","react","reactdom","createRef","AppWrapper","tid","pages","forceUpdate","elements","onLaunch","taroGlobalData","globalData","descriptors","getOwnPropertyDescriptors","$app","componentDidShow","triggerAppHook","componentDidHide","onPageNotFound","getNativeCompId","initNativeComponentEntry","NativeComponentWrapper","getCtx","componentDidMount","rootElement","renderComponent","Entry","components","compId","setState","createNativeComponentConfig","componentConfig","observer","_newVal","oldVal","created","setCurrent","ready","pageLifetimes","show","hide","getCurrentPages","currentPage","_optionsValue","connectVuePage","Vue","injectedPage","extend","mixins","dom","isBoolean","$options","createVueApp","vue","getTagNamespace","noop","appInstance","updateSync","_render","$children","$mount","$refs","createVue3Page","$nextTick","createVue3App","_component","appConfig","updateAppInstance","$forceUpdate","taroHooks","React","useContext","fnRef","useRef","useLayoutEffect","first","dynamic","useMemo","useScope","removeLeadingSlash","timerFunc","hadRuntime","regeneratorRuntime","oldRuntime","module","exports","require","Op","$Symbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","inModule","runtime","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","_invoke","makeInvokeMethod","tryCatch","arg","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","displayName","defineIteratorMethods","isGeneratorFunction","genFun","mark","setPrototypeOf","awrap","__await","AsyncIterator","invoke","record","unwrapped","previousPromise","enqueue","callInvokeWithMethodAndArg","async","iter","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","reverse","iterable","iteratorMethod","isNaN","skipTempReset","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","View","Icon","Progress","RichText","Text","Button","Checkbox","CheckboxGroup","Form","Input","Label","Picker","PickerView","PickerViewColumn","Radio","RadioGroup","Slider","Switch","CoverImage","Textarea","CoverView","MovableArea","MovableView","ScrollView","Swiper","SwiperItem","Navigator","Audio","Camera","Image","LivePlayer","Video","Canvas","Ad","WebView","Block","Slot","CustomWrapper","Editor","MatchMedia","FunctionalPageNavigator","LivePusher","OfficialAccount","OpenData","NavigationBar","PageMeta","VoipRoom","AdCustom","PageContainer","KeyboardAccessory","needPromiseApis","processApis","modifyApis","apis","cloud","duration","bindActiveEnd","space","polygons","subkey","rotate","skew","setting","bindLabelTap","bindRegionChange","bindPoiTap","lang","bindGetUserInfo","bindContact","bindGetPhoneNumber","bindError","bindOpenSetting","bindLaunchApp","bindKeyboardHeightChange","bindPickStart","bindPickEnd","singleQuote","enhanced","bounces","bindDragStart","bindDragging","bindDragEnd","bindRefresherPulling","bindRefresherRefresh","bindRefresherRestore","bindRefresherAbort","version","mode","resolution","bindInitDone","bindScanCode","webp","bindstatechange","bindfullscreenchange","bindnetstatus","bindAudioVolumeNotify","bindEnterPictureInPicture","bindLeavePictureInPicture","title","bindProgress","bindLoadedMetadata","bindControlsToggle","bindSeekComplete","bindAdLoad","bindAdError","bindAdClose","bindAdPlay","slot","placeholder","bindReady","bindFocus","bindBlur","bindInput","bindStatusChange","height","orientation","bindSuccess","bindFail","bindCancel","autopush","muted","beauty","whiteness","aspect","zoom","mirror","animation","bindStateChange","bindNetStatus","bindBgmStart","bindBgmProgress","bindBgmComplete","bindLoad","loading","bindResize","bindScroll","bindScrollDone","openid","overlay","round","bindBeforeEnter","bindEnter","bindAfterEnter","bindBeforeLeave","bindLeave","bindAfterLeave","bindClickOverlay","hostConfig","mergeReconciler","mergeInternalComponents","isEventName","IS_NON_DIMENSIONAL","updateProps","oldProps","newProps","isFormElement","setEvent","oldValue","compName","capitalize","begin","isNumber","isString","newHtml","__html","oldHtml","innerHTML","scheduler","returnFalse","createInstance","createTextInstance","getPublicInstance","getRootHostContext","getChildHostContext","appendInitialChild","appendChildToContainer","removeChildFromContainer","insertInContainerBefore","commitTextUpdate","textInst","newText","finalizeInitialChildren","prepareUpdate","EMPTY_ARR","commitUpdate","_payload","_type","hideInstance","unhideInstance","styleProp","display","clearContainer","queueMicrotask","shouldSetTextContent","prepareForCommit","resetAfterCommit","commitMount","cancelTimeout","scheduleTimeout","preparePortalMount","noTimeout","supportsMutation","supportsPersistence","isPrimaryRenderer","supportsHydration","TaroReconciler","Reconciler","ContainerMap","Root","renderer","domContainer","internalRoot","createContainer","updateContainer","getPublicRootInstance","oldRoot","batchedUpdates","unmountComponentAtNode","findDOMNode","comp","findHostInstance","portalType","for","createPortal","containerInfo","$$typeof","implementation","o","isNull","isBooleanStringLiteral","bindtap","touchEvents","bindTouchStart","bindTouchMove","bindTouchEnd","bindTouchCancel","bindLongTap","animationEvents","bindAnimationStart","bindAnimationIteration","bindAnimationEnd","bindTransitionEnd","MapComp","longitude","latitude","scale","markers","covers","polyline","circles","controls","bindMarkerTap","bindControlTap","bindCalloutTap","bindUpdated","percent","activeColor","backgroundColor","active","selectable","decode","plain","disabled","checked","bindChange","bindSubmit","bindReset","password","maxlength","bindConfirm","range","fields","bindColumnChange","min","step","bindChanging","fixed","bindLineChange","direction","inertia","y","damping","friction","bindScale","bindHTouchMove","bindVTouchMove","bindScrollToUpper","bindScrollToLower","autoplay","interval","circular","vertical","bindTransition","bindAnimationFinish","delta","bindComplete","loop","poster","author","bindPlay","bindPause","bindTimeUpdate","bindEnded","flash","bindStop","bindFullScreenChange","bindWaiting","bindClose","bindMessage","SlotView","focusComponents","nestElements","box","unbox","b","camel","nextCap","toKebabCase","reportIssue","condition","msg","queryToJson","dec","decodeURIComponent","qp","ret","_uniqueId","_loadTime","getUniqueKey","cacheData","cacheDataSet","cacheDataGet","delelteAfterGet","temp","cacheDataHas","raw","unsupport","api","setUniqueKeyToRoute","routerParamsPrivateKey","useDataCacheApis","hasMark","cacheKey","indent","getCanIUseWebp","getSystemInfoSync","platformLower","getNormalRequest","request","originSuccess","success","originFail","fail","originComplete","requestTask","patchNeedPromiseApis","_needPromiseApis","preserved","originKey","transformMeta","transformResult","task","modifyAsyncResult","progress","onProgressUpdate","platformKey","handleSyncApis","isOnlyPromisify","equipCommonApis","canIUseWebp","getApp","requirePlugin","link","addInterceptor","cleanInterceptors","default"],"mappings":"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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACU,eAASgD,QAAT,CAAkBC,WAAlB,EAA+BC,aAA/B,EAA8C;AAC1C,iBAASC,SAAT,CAAmB5L,MAAnB,EAA2B+K,WAA3B,EAAwC;AACpC,cAAI,CAACI,QAAQ,CAACnL,MAAD,CAAb,EACI,MAAM,IAAIC,SAAJ,EAAN;AACJ,cAAI,CAACgL,WAAW,CAACF,WAAD,CAAZ,IAA6B,CAACc,aAAa,CAACd,WAAD,CAA/C,EACI,MAAM,IAAI9K,SAAJ,EAAN;AACJ6L,mCAAyB,CAACJ,WAAD,EAAcC,aAAd,EAA6B3L,MAA7B,EAAqC+K,WAArC,CAAzBe;AACH;;AACD,eAAOF,SAAP;AACH;;AACDnD,cAAQ,CAAC,UAAD,EAAagD,QAAb,CAARhD;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACU,eAASsD,cAAT,CAAwBL,WAAxB,EAAqCC,aAArC,EAAoD3L,MAApD,EAA4D+K,WAA5D,EAAyE;AACrE,YAAI,CAACI,QAAQ,CAACnL,MAAD,CAAb,EACI,MAAM,IAAIC,SAAJ,EAAN;AACJ,YAAI,CAACgL,WAAW,CAACF,WAAD,CAAhB,EACIA,WAAW,GAAGM,aAAa,CAACN,WAAD,CAA3BA;AACJ,eAAOe,yBAAyB,CAACJ,WAAD,EAAcC,aAAd,EAA6B3L,MAA7B,EAAqC+K,WAArC,CAAhC;AACH;;AACDtC,cAAQ,CAAC,gBAAD,EAAmBsD,cAAnB,CAARtD;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACU,eAASuD,WAAT,CAAqBN,WAArB,EAAkC1L,MAAlC,EAA0C+K,WAA1C,EAAuD;AACnD,YAAI,CAACI,QAAQ,CAACnL,MAAD,CAAb,EACI,MAAM,IAAIC,SAAJ,EAAN;AACJ,YAAI,CAACgL,WAAW,CAACF,WAAD,CAAhB,EACIA,WAAW,GAAGM,aAAa,CAACN,WAAD,CAA3BA;AACJ,eAAOkB,mBAAmB,CAACP,WAAD,EAAc1L,MAAd,EAAsB+K,WAAtB,CAA1B;AACH;;AACDtC,cAAQ,CAAC,aAAD,EAAgBuD,WAAhB,CAARvD;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACU,eAASyD,cAAT,CAAwBR,WAAxB,EAAqC1L,MAArC,EAA6C+K,WAA7C,EAA0D;AACtD,YAAI,CAACI,QAAQ,CAACnL,MAAD,CAAb,EACI,MAAM,IAAIC,SAAJ,EAAN;AACJ,YAAI,CAACgL,WAAW,CAACF,WAAD,CAAhB,EACIA,WAAW,GAAGM,aAAa,CAACN,WAAD,CAA3BA;AACJ,eAAOoB,sBAAsB,CAACT,WAAD,EAAc1L,MAAd,EAAsB+K,WAAtB,CAA7B;AACH;;AACDtC,cAAQ,CAAC,gBAAD,EAAmByD,cAAnB,CAARzD;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACU,eAAS2D,WAAT,CAAqBV,WAArB,EAAkC1L,MAAlC,EAA0C+K,WAA1C,EAAuD;AACnD,YAAI,CAACI,QAAQ,CAACnL,MAAD,CAAb,EACI,MAAM,IAAIC,SAAJ,EAAN;AACJ,YAAI,CAACgL,WAAW,CAACF,WAAD,CAAhB,EACIA,WAAW,GAAGM,aAAa,CAACN,WAAD,CAA3BA;AACJ,eAAOsB,mBAAmB,CAACX,WAAD,EAAc1L,MAAd,EAAsB+K,WAAtB,CAA1B;AACH;;AACDtC,cAAQ,CAAC,aAAD,EAAgB2D,WAAhB,CAAR3D;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACU,eAAS6D,cAAT,CAAwBZ,WAAxB,EAAqC1L,MAArC,EAA6C+K,WAA7C,EAA0D;AACtD,YAAI,CAACI,QAAQ,CAACnL,MAAD,CAAb,EACI,MAAM,IAAIC,SAAJ,EAAN;AACJ,YAAI,CAACgL,WAAW,CAACF,WAAD,CAAhB,EACIA,WAAW,GAAGM,aAAa,CAACN,WAAD,CAA3BA;AACJ,eAAOwB,sBAAsB,CAACb,WAAD,EAAc1L,MAAd,EAAsB+K,WAAtB,CAA7B;AACH;;AACDtC,cAAQ,CAAC,gBAAD,EAAmB6D,cAAnB,CAAR7D;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACU,eAAS+D,eAAT,CAAyBxM,MAAzB,EAAiC+K,WAAjC,EAA8C;AAC1C,YAAI,CAACI,QAAQ,CAACnL,MAAD,CAAb,EACI,MAAM,IAAIC,SAAJ,EAAN;AACJ,YAAI,CAACgL,WAAW,CAACF,WAAD,CAAhB,EACIA,WAAW,GAAGM,aAAa,CAACN,WAAD,CAA3BA;AACJ,eAAO0B,oBAAoB,CAACzM,MAAD,EAAS+K,WAAT,CAA3B;AACH;;AACDtC,cAAQ,CAAC,iBAAD,EAAoB+D,eAApB,CAAR/D;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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","file":"taro.js","sourcesContent":["if (typeof Object.assign !== 'function') {\n  // Must be writable: true, enumerable: false, configurable: true\n  Object.assign = function (target) { // .length of function is 2\n    if (target == null) { // TypeError if undefined or null\n      throw new TypeError('Cannot convert undefined or null to object')\n    }\n\n    const to = Object(target)\n\n    for (let index = 1; index < arguments.length; index++) {\n      const nextSource = arguments[index]\n\n      if (nextSource != null) { // Skip over if undefined or null\n        for (const nextKey in nextSource) {\n          // Avoid bugs when hasOwnProperty is shadowed\n          if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n            to[nextKey] = nextSource[nextKey]\n          }\n        }\n      }\n    }\n    return to\n  }\n}\n\nif (typeof Object.defineProperties !== 'function') {\n  Object.defineProperties = function (obj, properties) {\n    function convertToDescriptor (desc) {\n      function hasProperty (obj, prop) {\n        return Object.prototype.hasOwnProperty.call(obj, prop)\n      }\n\n      function isCallable (v) {\n        // NB: modify as necessary if other values than functions are callable.\n        return typeof v === 'function'\n      }\n\n      if (typeof desc !== 'object' || desc === null) { throw new TypeError('bad desc') }\n\n      const d = {}\n\n      if (hasProperty(desc, 'enumerable')) d.enumerable = !!desc.enumerable\n      if (hasProperty(desc, 'configurable')) { d.configurable = !!desc.configurable }\n      if (hasProperty(desc, 'value')) d.value = desc.value\n      if (hasProperty(desc, 'writable')) d.writable = !!desc.writable\n      if (hasProperty(desc, 'get')) {\n        const g = desc.get\n\n        if (!isCallable(g) && typeof g !== 'undefined') { throw new TypeError('bad get') }\n        d.get = g\n      }\n      if (hasProperty(desc, 'set')) {\n        const s = desc.set\n        if (!isCallable(s) && typeof s !== 'undefined') { throw new TypeError('bad set') }\n        d.set = s\n      }\n\n      if (('get' in d || 'set' in d) && ('value' in d || 'writable' in d)) { throw new TypeError('identity-confused descriptor') }\n\n      return d\n    }\n\n    if (typeof obj !== 'object' || obj === null) throw new TypeError('bad obj')\n\n    properties = Object(properties)\n\n    const keys = Object.keys(properties)\n    const descs = []\n\n    for (let i = 0; i < keys.length; i++) {\n      descs.push([keys[i], convertToDescriptor(properties[keys[i]])])\n    }\n\n    for (let i = 0; i < descs.length; i++) {\n      Object.defineProperty(obj, descs[i][0], descs[i][1])\n    }\n\n    return obj\n  }\n}\n","export const ENV_TYPE = {\n  WEAPP: 'WEAPP',\n  WEB: 'WEB',\n  RN: 'RN',\n  SWAN: 'SWAN',\n  ALIPAY: 'ALIPAY',\n  TT: 'TT',\n  QQ: 'QQ',\n  JD: 'JD'\n}\n\nlet _env = null\n\n// 一个taro项目肯定运行同样的环境\nexport function getEnv () {\n  if (_env) return _env\n  if (typeof jd !== 'undefined' && jd.getSystemInfo) {\n    _env = ENV_TYPE.JD\n    return ENV_TYPE.JD\n  }\n  if (typeof qq !== 'undefined' && qq.getSystemInfo) {\n    _env = ENV_TYPE.QQ\n    return ENV_TYPE.QQ\n  }\n  if (typeof tt !== 'undefined' && tt.getSystemInfo) {\n    _env = ENV_TYPE.TT\n    return ENV_TYPE.TT\n  }\n  if (typeof wx !== 'undefined' && wx.getSystemInfo) {\n    _env = ENV_TYPE.WEAPP\n    return ENV_TYPE.WEAPP\n  }\n  if (typeof swan !== 'undefined' && swan.getSystemInfo) {\n    _env = ENV_TYPE.SWAN\n    return ENV_TYPE.SWAN\n  }\n  if (typeof my !== 'undefined' && my.getSystemInfo) {\n    _env = ENV_TYPE.ALIPAY\n    return ENV_TYPE.ALIPAY\n  }\n  if (typeof global !== 'undefined' && global.__fbGenNativeModule) {\n    _env = ENV_TYPE.RN\n    return ENV_TYPE.RN\n  }\n  if (typeof window !== 'undefined') {\n    _env = ENV_TYPE.WEB\n    return ENV_TYPE.WEB\n  }\n  return 'Unknown environment'\n}\n","export default class Chain {\n  constructor (requestParams, interceptors = [], index = 0) {\n    this.index = index\n    this.requestParams = requestParams\n    this.interceptors = interceptors\n  }\n\n  proceed (requestParams) {\n    this.requestParams = requestParams\n    if (this.index >= this.interceptors.length) {\n      throw new Error('chain 参数错误, 请勿直接修改 request.chain')\n    }\n    const nextInterceptor = this._getNextInterceptor()\n    const nextChain = this._getNextChain()\n    const p = nextInterceptor(nextChain)\n    const res = p.catch(err => Promise.reject(err))\n    if (typeof p.abort === 'function') res.abort = p.abort\n    return res\n  }\n\n  _getNextInterceptor () {\n    return this.interceptors[this.index]\n  }\n\n  _getNextChain () {\n    return new Chain(this.requestParams, this.interceptors, this.index + 1)\n  }\n}\n","import Chain from './chain'\n\nexport default class Link {\n  constructor (interceptor) {\n    this.taroInterceptor = interceptor\n    this.chain = new Chain()\n  }\n\n  request (requestParams) {\n    this.chain.interceptors = this.chain.interceptors.filter(interceptor => interceptor !== this.taroInterceptor)\n    this.chain.interceptors.push(this.taroInterceptor)\n    return this.chain.proceed({ ...requestParams })\n  }\n\n  addInterceptor (interceptor) {\n    this.chain.interceptors.push(interceptor)\n  }\n\n  cleanInterceptors () {\n    this.chain = new Chain()\n  }\n}\n","export function timeoutInterceptor (chain) {\n  const requestParams = chain.requestParams\n  let p\n  const res = new Promise((resolve, reject) => {\n    let timeout = setTimeout(() => {\n      timeout = null\n      reject(new Error('网络链接超时,请稍后再试！'))\n    }, (requestParams && requestParams.timeout) || 60000)\n\n    p = chain.proceed(requestParams)\n    p.then(res => {\n      if (!timeout) return\n      clearTimeout(timeout)\n      resolve(res)\n    }).catch(err => {\n      timeout && clearTimeout(timeout)\n      reject(err)\n    })\n  })\n\n  if (p !== undefined && typeof p.abort === 'function') res.abort = p.abort\n  return res\n}\n\nexport function logInterceptor (chain) {\n  const requestParams = chain.requestParams\n  const { method, data, url } = requestParams\n  // eslint-disable-next-line no-console\n  console.log(`http ${method || 'GET'} --> ${url} data: `, data)\n  const p = chain.proceed(requestParams)\n  const res = p.then(res => {\n    // eslint-disable-next-line no-console\n    console.log(`http <-- ${url} result:`, res)\n    return res\n  })\n  if (typeof p.abort === 'function') res.abort = p.abort\n  return res\n}\n","export function Behavior (options) {\n  return options\n}\n\nexport function getPreload (current) {\n  return function (key, val) {\n    if (typeof key === 'object') {\n      current.preloadData = key\n    } else if (key !== undefined && val !== undefined) {\n      current.preloadData = {\n        [key]: val\n      }\n    }\n  }\n}\n\nexport function getInitPxTransform (taro) {\n  return function (config) {\n    const {\n      designWidth = 750,\n      deviceRatio = {\n        640: 2.34 / 2,\n        750: 1,\n        828: 1.81 / 2\n      }\n    } = config\n    taro.config = taro.config || {}\n    taro.config.designWidth = designWidth\n    taro.config.deviceRatio = deviceRatio\n  }\n}\n\nexport function getPxTransform (taro) {\n  return function (size) {\n    const {\n      designWidth = 750,\n      deviceRatio = {\n        640: 2.34 / 2,\n        750: 1,\n        828: 1.81 / 2\n      }\n    } = taro.config || {}\n    if (!(designWidth in deviceRatio)) {\n      throw new Error(`deviceRatio 配置中不存在 ${designWidth} 的设置！`)\n    }\n    return (parseInt(size, 10) * deviceRatio[designWidth]) + 'rpx'\n  }\n}\n","/* eslint-disable camelcase */\nimport './polyfill'\nimport { getEnv, ENV_TYPE } from './env'\nimport Link from './interceptor'\nimport * as interceptors from './interceptor/interceptors'\nimport {\n  Behavior,\n  getPreload,\n  getPxTransform,\n  getInitPxTransform\n} from './tools'\nimport {\n  Current,\n  getCurrentInstance,\n  options,\n  nextTick,\n  eventCenter,\n  Events,\n  useDidShow,\n  useDidHide,\n  usePullDownRefresh,\n  useReachBottom,\n  usePageScroll,\n  useResize,\n  useShareAppMessage,\n  useTabItemTap,\n  useTitleClick,\n  useOptionMenuClick,\n  usePullIntercept,\n  useShareTimeline,\n  useAddToFavorites,\n  useReady,\n  useRouter\n} from '@tarojs/runtime'\n\nconst Taro = {\n  Behavior,\n  getEnv,\n  ENV_TYPE,\n  Link,\n  interceptors,\n  Current,\n  getCurrentInstance,\n  options,\n  nextTick,\n  eventCenter,\n  Events,\n  useDidShow,\n  useDidHide,\n  usePullDownRefresh,\n  useReachBottom,\n  usePageScroll,\n  useResize,\n  useShareAppMessage,\n  useTabItemTap,\n  useTitleClick,\n  useOptionMenuClick,\n  usePullIntercept,\n  useShareTimeline,\n  useAddToFavorites,\n  useReady,\n  useRouter,\n  getInitPxTransform\n}\n\nTaro.initPxTransform = getInitPxTransform(Taro)\nTaro.preload = getPreload(Current)\nTaro.pxTransform = getPxTransform(Taro)\n\nexport default Taro\n","/* eslint-disable no-undef */\nimport { createRecursiveComponentConfig } from '@tarojs/runtime'\n// @ts-ignore\nComponent(createRecursiveComponentConfig())\n",null,"/*! *****************************************************************************\nCopyright (C) Microsoft. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\n\n/** https://github.com/rbuckton/reflect-metadata */\n\nif (process.env.TARO_ENV === 'h5') {\n  require('reflect-metadata')\n} else {\n  // var Reflect;\n  (function (Reflect) {\n      // Metadata Proposal\n      // https://rbuckton.github.io/reflect-metadata/\n      (function (factory) {\n          // var root = typeof global === \"object\" ? global :\n          //     typeof self === \"object\" ? self :\n          //         typeof this === \"object\" ? this :\n          //             Function(\"return this;\")();\n          var exporter = makeExporter(Reflect);\n          // if (typeof root.Reflect === \"undefined\") {\n          //     root.Reflect = Reflect;\n          // }\n          // else {\n          //     exporter = makeExporter(root.Reflect, exporter);\n          // }\n          factory(exporter);\n          function makeExporter(target, previous) {\n              return function (key, value) {\n                  if (typeof target[key] !== \"function\") {\n                      Object.defineProperty(target, key, { configurable: true, writable: true, value: value });\n                  }\n                  if (previous)\n                      previous(key, value);\n              };\n          }\n      })(function (exporter) {\n          var hasOwn = Object.prototype.hasOwnProperty;\n          // feature test for Symbol support\n          var supportsSymbol = typeof Symbol === \"function\";\n          var toPrimitiveSymbol = supportsSymbol && typeof Symbol.toPrimitive !== \"undefined\" ? Symbol.toPrimitive : \"@@toPrimitive\";\n          var iteratorSymbol = supportsSymbol && typeof Symbol.iterator !== \"undefined\" ? Symbol.iterator : \"@@iterator\";\n          var supportsCreate = typeof Object.create === \"function\"; // feature test for Object.create support\n          var supportsProto = { __proto__: [] } instanceof Array; // feature test for __proto__ support\n          var downLevel = !supportsCreate && !supportsProto;\n          var HashMap = {\n              // create an object in dictionary mode (a.k.a. \"slow\" mode in v8)\n              create: supportsCreate\n                  ? function () { return MakeDictionary(Object.create(null)); }\n                  : supportsProto\n                      ? function () { return MakeDictionary({ __proto__: null }); }\n                      : function () { return MakeDictionary({}); },\n              has: downLevel\n                  ? function (map, key) { return hasOwn.call(map, key); }\n                  : function (map, key) { return key in map; },\n              get: downLevel\n                  ? function (map, key) { return hasOwn.call(map, key) ? map[key] : undefined; }\n                  : function (map, key) { return map[key]; },\n          };\n          // Load global or shim versions of Map, Set, and WeakMap\n          var functionPrototype = Object.getPrototypeOf(Function);\n          var usePolyfill = typeof process === \"object\" && process.env && process.env[\"REFLECT_METADATA_USE_MAP_POLYFILL\"] === \"true\";\n          var _Map = !usePolyfill && typeof Map === \"function\" && typeof Map.prototype.entries === \"function\" ? Map : CreateMapPolyfill();\n          var _Set = !usePolyfill && typeof Set === \"function\" && typeof Set.prototype.entries === \"function\" ? Set : CreateSetPolyfill();\n          var _WeakMap = !usePolyfill && typeof WeakMap === \"function\" ? WeakMap : CreateWeakMapPolyfill();\n          // [[Metadata]] internal slot\n          // https://rbuckton.github.io/reflect-metadata/#ordinary-object-internal-methods-and-internal-slots\n          var Metadata = new _WeakMap();\n          /**\n           * Applies a set of decorators to a property of a target object.\n           * @param decorators An array of decorators.\n           * @param target The target object.\n           * @param propertyKey (Optional) The property key to decorate.\n           * @param attributes (Optional) The property descriptor for the target key.\n           * @remarks Decorators are applied in reverse order.\n           * @example\n           *\n           *     class Example {\n           *         // property declarations are not part of ES6, though they are valid in TypeScript:\n           *         // static staticProperty;\n           *         // property;\n           *\n           *         constructor(p) { }\n           *         static staticMethod(p) { }\n           *         method(p) { }\n           *     }\n           *\n           *     // constructor\n           *     Example = Reflect.decorate(decoratorsArray, Example);\n           *\n           *     // property (on constructor)\n           *     Reflect.decorate(decoratorsArray, Example, \"staticProperty\");\n           *\n           *     // property (on prototype)\n           *     Reflect.decorate(decoratorsArray, Example.prototype, \"property\");\n           *\n           *     // method (on constructor)\n           *     Object.defineProperty(Example, \"staticMethod\",\n           *         Reflect.decorate(decoratorsArray, Example, \"staticMethod\",\n           *             Object.getOwnPropertyDescriptor(Example, \"staticMethod\")));\n           *\n           *     // method (on prototype)\n           *     Object.defineProperty(Example.prototype, \"method\",\n           *         Reflect.decorate(decoratorsArray, Example.prototype, \"method\",\n           *             Object.getOwnPropertyDescriptor(Example.prototype, \"method\")));\n           *\n           */\n          function decorate(decorators, target, propertyKey, attributes) {\n              if (!IsUndefined(propertyKey)) {\n                  if (!IsArray(decorators))\n                      throw new TypeError();\n                  if (!IsObject(target))\n                      throw new TypeError();\n                  if (!IsObject(attributes) && !IsUndefined(attributes) && !IsNull(attributes))\n                      throw new TypeError();\n                  if (IsNull(attributes))\n                      attributes = undefined;\n                  propertyKey = ToPropertyKey(propertyKey);\n                  return DecorateProperty(decorators, target, propertyKey, attributes);\n              }\n              else {\n                  if (!IsArray(decorators))\n                      throw new TypeError();\n                  if (!IsConstructor(target))\n                      throw new TypeError();\n                  return DecorateConstructor(decorators, target);\n              }\n          }\n          exporter(\"decorate\", decorate);\n          // 4.1.2 Reflect.metadata(metadataKey, metadataValue)\n          // https://rbuckton.github.io/reflect-metadata/#reflect.metadata\n          /**\n           * A default metadata decorator factory that can be used on a class, class member, or parameter.\n           * @param metadataKey The key for the metadata entry.\n           * @param metadataValue The value for the metadata entry.\n           * @returns A decorator function.\n           * @remarks\n           * If `metadataKey` is already defined for the target and target key, the\n           * metadataValue for that key will be overwritten.\n           * @example\n           *\n           *     // constructor\n           *     @Reflect.metadata(key, value)\n           *     class Example {\n           *     }\n           *\n           *     // property (on constructor, TypeScript only)\n           *     class Example {\n           *         @Reflect.metadata(key, value)\n           *         static staticProperty;\n           *     }\n           *\n           *     // property (on prototype, TypeScript only)\n           *     class Example {\n           *         @Reflect.metadata(key, value)\n           *         property;\n           *     }\n           *\n           *     // method (on constructor)\n           *     class Example {\n           *         @Reflect.metadata(key, value)\n           *         static staticMethod() { }\n           *     }\n           *\n           *     // method (on prototype)\n           *     class Example {\n           *         @Reflect.metadata(key, value)\n           *         method() { }\n           *     }\n           *\n           */\n          function metadata(metadataKey, metadataValue) {\n              function decorator(target, propertyKey) {\n                  if (!IsObject(target))\n                      throw new TypeError();\n                  if (!IsUndefined(propertyKey) && !IsPropertyKey(propertyKey))\n                      throw new TypeError();\n                  OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);\n              }\n              return decorator;\n          }\n          exporter(\"metadata\", metadata);\n          /**\n           * Define a unique metadata entry on the target.\n           * @param metadataKey A key used to store and retrieve metadata.\n           * @param metadataValue A value that contains attached metadata.\n           * @param target The target object on which to define metadata.\n           * @param propertyKey (Optional) The property key for the target.\n           * @example\n           *\n           *     class Example {\n           *         // property declarations are not part of ES6, though they are valid in TypeScript:\n           *         // static staticProperty;\n           *         // property;\n           *\n           *         constructor(p) { }\n           *         static staticMethod(p) { }\n           *         method(p) { }\n           *     }\n           *\n           *     // constructor\n           *     Reflect.defineMetadata(\"custom:annotation\", options, Example);\n           *\n           *     // property (on constructor)\n           *     Reflect.defineMetadata(\"custom:annotation\", options, Example, \"staticProperty\");\n           *\n           *     // property (on prototype)\n           *     Reflect.defineMetadata(\"custom:annotation\", options, Example.prototype, \"property\");\n           *\n           *     // method (on constructor)\n           *     Reflect.defineMetadata(\"custom:annotation\", options, Example, \"staticMethod\");\n           *\n           *     // method (on prototype)\n           *     Reflect.defineMetadata(\"custom:annotation\", options, Example.prototype, \"method\");\n           *\n           *     // decorator factory as metadata-producing annotation.\n           *     function MyAnnotation(options): Decorator {\n           *         return (target, key?) => Reflect.defineMetadata(\"custom:annotation\", options, target, key);\n           *     }\n           *\n           */\n          function defineMetadata(metadataKey, metadataValue, target, propertyKey) {\n              if (!IsObject(target))\n                  throw new TypeError();\n              if (!IsUndefined(propertyKey))\n                  propertyKey = ToPropertyKey(propertyKey);\n              return OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);\n          }\n          exporter(\"defineMetadata\", defineMetadata);\n          /**\n           * Gets a value indicating whether the target object or its prototype chain has the provided metadata key defined.\n           * @param metadataKey A key used to store and retrieve metadata.\n           * @param target The target object on which the metadata is defined.\n           * @param propertyKey (Optional) The property key for the target.\n           * @returns `true` if the metadata key was defined on the target object or its prototype chain; otherwise, `false`.\n           * @example\n           *\n           *     class Example {\n           *         // property declarations are not part of ES6, though they are valid in TypeScript:\n           *         // static staticProperty;\n           *         // property;\n           *\n           *         constructor(p) { }\n           *         static staticMethod(p) { }\n           *         method(p) { }\n           *     }\n           *\n           *     // constructor\n           *     result = Reflect.hasMetadata(\"custom:annotation\", Example);\n           *\n           *     // property (on constructor)\n           *     result = Reflect.hasMetadata(\"custom:annotation\", Example, \"staticProperty\");\n           *\n           *     // property (on prototype)\n           *     result = Reflect.hasMetadata(\"custom:annotation\", Example.prototype, \"property\");\n           *\n           *     // method (on constructor)\n           *     result = Reflect.hasMetadata(\"custom:annotation\", Example, \"staticMethod\");\n           *\n           *     // method (on prototype)\n           *     result = Reflect.hasMetadata(\"custom:annotation\", Example.prototype, \"method\");\n           *\n           */\n          function hasMetadata(metadataKey, target, propertyKey) {\n              if (!IsObject(target))\n                  throw new TypeError();\n              if (!IsUndefined(propertyKey))\n                  propertyKey = ToPropertyKey(propertyKey);\n              return OrdinaryHasMetadata(metadataKey, target, propertyKey);\n          }\n          exporter(\"hasMetadata\", hasMetadata);\n          /**\n           * Gets a value indicating whether the target object has the provided metadata key defined.\n           * @param metadataKey A key used to store and retrieve metadata.\n           * @param target The target object on which the metadata is defined.\n           * @param propertyKey (Optional) The property key for the target.\n           * @returns `true` if the metadata key was defined on the target object; otherwise, `false`.\n           * @example\n           *\n           *     class Example {\n           *         // property declarations are not part of ES6, though they are valid in TypeScript:\n           *         // static staticProperty;\n           *         // property;\n           *\n           *         constructor(p) { }\n           *         static staticMethod(p) { }\n           *         method(p) { }\n           *     }\n           *\n           *     // constructor\n           *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example);\n           *\n           *     // property (on constructor)\n           *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example, \"staticProperty\");\n           *\n           *     // property (on prototype)\n           *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example.prototype, \"property\");\n           *\n           *     // method (on constructor)\n           *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example, \"staticMethod\");\n           *\n           *     // method (on prototype)\n           *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example.prototype, \"method\");\n           *\n           */\n          function hasOwnMetadata(metadataKey, target, propertyKey) {\n              if (!IsObject(target))\n                  throw new TypeError();\n              if (!IsUndefined(propertyKey))\n                  propertyKey = ToPropertyKey(propertyKey);\n              return OrdinaryHasOwnMetadata(metadataKey, target, propertyKey);\n          }\n          exporter(\"hasOwnMetadata\", hasOwnMetadata);\n          /**\n           * Gets the metadata value for the provided metadata key on the target object or its prototype chain.\n           * @param metadataKey A key used to store and retrieve metadata.\n           * @param target The target object on which the metadata is defined.\n           * @param propertyKey (Optional) The property key for the target.\n           * @returns The metadata value for the metadata key if found; otherwise, `undefined`.\n           * @example\n           *\n           *     class Example {\n           *         // property declarations are not part of ES6, though they are valid in TypeScript:\n           *         // static staticProperty;\n           *         // property;\n           *\n           *         constructor(p) { }\n           *         static staticMethod(p) { }\n           *         method(p) { }\n           *     }\n           *\n           *     // constructor\n           *     result = Reflect.getMetadata(\"custom:annotation\", Example);\n           *\n           *     // property (on constructor)\n           *     result = Reflect.getMetadata(\"custom:annotation\", Example, \"staticProperty\");\n           *\n           *     // property (on prototype)\n           *     result = Reflect.getMetadata(\"custom:annotation\", Example.prototype, \"property\");\n           *\n           *     // method (on constructor)\n           *     result = Reflect.getMetadata(\"custom:annotation\", Example, \"staticMethod\");\n           *\n           *     // method (on prototype)\n           *     result = Reflect.getMetadata(\"custom:annotation\", Example.prototype, \"method\");\n           *\n           */\n          function getMetadata(metadataKey, target, propertyKey) {\n              if (!IsObject(target))\n                  throw new TypeError();\n              if (!IsUndefined(propertyKey))\n                  propertyKey = ToPropertyKey(propertyKey);\n              return OrdinaryGetMetadata(metadataKey, target, propertyKey);\n          }\n          exporter(\"getMetadata\", getMetadata);\n          /**\n           * Gets the metadata value for the provided metadata key on the target object.\n           * @param metadataKey A key used to store and retrieve metadata.\n           * @param target The target object on which the metadata is defined.\n           * @param propertyKey (Optional) The property key for the target.\n           * @returns The metadata value for the metadata key if found; otherwise, `undefined`.\n           * @example\n           *\n           *     class Example {\n           *         // property declarations are not part of ES6, though they are valid in TypeScript:\n           *         // static staticProperty;\n           *         // property;\n           *\n           *         constructor(p) { }\n           *         static staticMethod(p) { }\n           *         method(p) { }\n           *     }\n           *\n           *     // constructor\n           *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example);\n           *\n           *     // property (on constructor)\n           *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example, \"staticProperty\");\n           *\n           *     // property (on prototype)\n           *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example.prototype, \"property\");\n           *\n           *     // method (on constructor)\n           *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example, \"staticMethod\");\n           *\n           *     // method (on prototype)\n           *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example.prototype, \"method\");\n           *\n           */\n          function getOwnMetadata(metadataKey, target, propertyKey) {\n              if (!IsObject(target))\n                  throw new TypeError();\n              if (!IsUndefined(propertyKey))\n                  propertyKey = ToPropertyKey(propertyKey);\n              return OrdinaryGetOwnMetadata(metadataKey, target, propertyKey);\n          }\n          exporter(\"getOwnMetadata\", getOwnMetadata);\n          /**\n           * Gets the metadata keys defined on the target object or its prototype chain.\n           * @param target The target object on which the metadata is defined.\n           * @param propertyKey (Optional) The property key for the target.\n           * @returns An array of unique metadata keys.\n           * @example\n           *\n           *     class Example {\n           *         // property declarations are not part of ES6, though they are valid in TypeScript:\n           *         // static staticProperty;\n           *         // property;\n           *\n           *         constructor(p) { }\n           *         static staticMethod(p) { }\n           *         method(p) { }\n           *     }\n           *\n           *     // constructor\n           *     result = Reflect.getMetadataKeys(Example);\n           *\n           *     // property (on constructor)\n           *     result = Reflect.getMetadataKeys(Example, \"staticProperty\");\n           *\n           *     // property (on prototype)\n           *     result = Reflect.getMetadataKeys(Example.prototype, \"property\");\n           *\n           *     // method (on constructor)\n           *     result = Reflect.getMetadataKeys(Example, \"staticMethod\");\n           *\n           *     // method (on prototype)\n           *     result = Reflect.getMetadataKeys(Example.prototype, \"method\");\n           *\n           */\n          function getMetadataKeys(target, propertyKey) {\n              if (!IsObject(target))\n                  throw new TypeError();\n              if (!IsUndefined(propertyKey))\n                  propertyKey = ToPropertyKey(propertyKey);\n              return OrdinaryMetadataKeys(target, propertyKey);\n          }\n          exporter(\"getMetadataKeys\", getMetadataKeys);\n          /**\n           * Gets the unique metadata keys defined on the target object.\n           * @param target The target object on which the metadata is defined.\n           * @param propertyKey (Optional) The property key for the target.\n           * @returns An array of unique metadata keys.\n           * @example\n           *\n           *     class Example {\n           *         // property declarations are not part of ES6, though they are valid in TypeScript:\n           *         // static staticProperty;\n           *         // property;\n           *\n           *         constructor(p) { }\n           *         static staticMethod(p) { }\n           *         method(p) { }\n           *     }\n           *\n           *     // constructor\n           *     result = Reflect.getOwnMetadataKeys(Example);\n           *\n           *     // property (on constructor)\n           *     result = Reflect.getOwnMetadataKeys(Example, \"staticProperty\");\n           *\n           *     // property (on prototype)\n           *     result = Reflect.getOwnMetadataKeys(Example.prototype, \"property\");\n           *\n           *     // method (on constructor)\n           *     result = Reflect.getOwnMetadataKeys(Example, \"staticMethod\");\n           *\n           *     // method (on prototype)\n           *     result = Reflect.getOwnMetadataKeys(Example.prototype, \"method\");\n           *\n           */\n          function getOwnMetadataKeys(target, propertyKey) {\n              if (!IsObject(target))\n                  throw new TypeError();\n              if (!IsUndefined(propertyKey))\n                  propertyKey = ToPropertyKey(propertyKey);\n              return OrdinaryOwnMetadataKeys(target, propertyKey);\n          }\n          exporter(\"getOwnMetadataKeys\", getOwnMetadataKeys);\n          /**\n           * Deletes the metadata entry from the target object with the provided key.\n           * @param metadataKey A key used to store and retrieve metadata.\n           * @param target The target object on which the metadata is defined.\n           * @param propertyKey (Optional) The property key for the target.\n           * @returns `true` if the metadata entry was found and deleted; otherwise, false.\n           * @example\n           *\n           *     class Example {\n           *         // property declarations are not part of ES6, though they are valid in TypeScript:\n           *         // static staticProperty;\n           *         // property;\n           *\n           *         constructor(p) { }\n           *         static staticMethod(p) { }\n           *         method(p) { }\n           *     }\n           *\n           *     // constructor\n           *     result = Reflect.deleteMetadata(\"custom:annotation\", Example);\n           *\n           *     // property (on constructor)\n           *     result = Reflect.deleteMetadata(\"custom:annotation\", Example, \"staticProperty\");\n           *\n           *     // property (on prototype)\n           *     result = Reflect.deleteMetadata(\"custom:annotation\", Example.prototype, \"property\");\n           *\n           *     // method (on constructor)\n           *     result = Reflect.deleteMetadata(\"custom:annotation\", Example, \"staticMethod\");\n           *\n           *     // method (on prototype)\n           *     result = Reflect.deleteMetadata(\"custom:annotation\", Example.prototype, \"method\");\n           *\n           */\n          function deleteMetadata(metadataKey, target, propertyKey) {\n              if (!IsObject(target))\n                  throw new TypeError();\n              if (!IsUndefined(propertyKey))\n                  propertyKey = ToPropertyKey(propertyKey);\n              var metadataMap = GetOrCreateMetadataMap(target, propertyKey, /*Create*/ false);\n              if (IsUndefined(metadataMap))\n                  return false;\n              if (!metadataMap.delete(metadataKey))\n                  return false;\n              if (metadataMap.size > 0)\n                  return true;\n              var targetMetadata = Metadata.get(target);\n              targetMetadata.delete(propertyKey);\n              if (targetMetadata.size > 0)\n                  return true;\n              Metadata.delete(target);\n              return true;\n          }\n          exporter(\"deleteMetadata\", deleteMetadata);\n          function DecorateConstructor(decorators, target) {\n              for (var i = decorators.length - 1; i >= 0; --i) {\n                  var decorator = decorators[i];\n                  var decorated = decorator(target);\n                  if (!IsUndefined(decorated) && !IsNull(decorated)) {\n                      if (!IsConstructor(decorated))\n                          throw new TypeError();\n                      target = decorated;\n                  }\n              }\n              return target;\n          }\n          function DecorateProperty(decorators, target, propertyKey, descriptor) {\n              for (var i = decorators.length - 1; i >= 0; --i) {\n                  var decorator = decorators[i];\n                  var decorated = decorator(target, propertyKey, descriptor);\n                  if (!IsUndefined(decorated) && !IsNull(decorated)) {\n                      if (!IsObject(decorated))\n                          throw new TypeError();\n                      descriptor = decorated;\n                  }\n              }\n              return descriptor;\n          }\n          function GetOrCreateMetadataMap(O, P, Create) {\n              var targetMetadata = Metadata.get(O);\n              if (IsUndefined(targetMetadata)) {\n                  if (!Create)\n                      return undefined;\n                  targetMetadata = new _Map();\n                  Metadata.set(O, targetMetadata);\n              }\n              var metadataMap = targetMetadata.get(P);\n              if (IsUndefined(metadataMap)) {\n                  if (!Create)\n                      return undefined;\n                  metadataMap = new _Map();\n                  targetMetadata.set(P, metadataMap);\n              }\n              return metadataMap;\n          }\n          // 3.1.1.1 OrdinaryHasMetadata(MetadataKey, O, P)\n          // https://rbuckton.github.io/reflect-metadata/#ordinaryhasmetadata\n          function OrdinaryHasMetadata(MetadataKey, O, P) {\n              var hasOwn = OrdinaryHasOwnMetadata(MetadataKey, O, P);\n              if (hasOwn)\n                  return true;\n              var parent = OrdinaryGetPrototypeOf(O);\n              if (!IsNull(parent))\n                  return OrdinaryHasMetadata(MetadataKey, parent, P);\n              return false;\n          }\n          // 3.1.2.1 OrdinaryHasOwnMetadata(MetadataKey, O, P)\n          // https://rbuckton.github.io/reflect-metadata/#ordinaryhasownmetadata\n          function OrdinaryHasOwnMetadata(MetadataKey, O, P) {\n              var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n              if (IsUndefined(metadataMap))\n                  return false;\n              return ToBoolean(metadataMap.has(MetadataKey));\n          }\n          // 3.1.3.1 OrdinaryGetMetadata(MetadataKey, O, P)\n          // https://rbuckton.github.io/reflect-metadata/#ordinarygetmetadata\n          function OrdinaryGetMetadata(MetadataKey, O, P) {\n              var hasOwn = OrdinaryHasOwnMetadata(MetadataKey, O, P);\n              if (hasOwn)\n                  return OrdinaryGetOwnMetadata(MetadataKey, O, P);\n              var parent = OrdinaryGetPrototypeOf(O);\n              if (!IsNull(parent))\n                  return OrdinaryGetMetadata(MetadataKey, parent, P);\n              return undefined;\n          }\n          // 3.1.4.1 OrdinaryGetOwnMetadata(MetadataKey, O, P)\n          // https://rbuckton.github.io/reflect-metadata/#ordinarygetownmetadata\n          function OrdinaryGetOwnMetadata(MetadataKey, O, P) {\n              var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n              if (IsUndefined(metadataMap))\n                  return undefined;\n              return metadataMap.get(MetadataKey);\n          }\n          // 3.1.5.1 OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P)\n          // https://rbuckton.github.io/reflect-metadata/#ordinarydefineownmetadata\n          function OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P) {\n              var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ true);\n              metadataMap.set(MetadataKey, MetadataValue);\n          }\n          // 3.1.6.1 OrdinaryMetadataKeys(O, P)\n          // https://rbuckton.github.io/reflect-metadata/#ordinarymetadatakeys\n          function OrdinaryMetadataKeys(O, P) {\n              var ownKeys = OrdinaryOwnMetadataKeys(O, P);\n              var parent = OrdinaryGetPrototypeOf(O);\n              if (parent === null)\n                  return ownKeys;\n              var parentKeys = OrdinaryMetadataKeys(parent, P);\n              if (parentKeys.length <= 0)\n                  return ownKeys;\n              if (ownKeys.length <= 0)\n                  return parentKeys;\n              var set = new _Set();\n              var keys = [];\n              for (var _i = 0, ownKeys_1 = ownKeys; _i < ownKeys_1.length; _i++) {\n                  var key = ownKeys_1[_i];\n                  var hasKey = set.has(key);\n                  if (!hasKey) {\n                      set.add(key);\n                      keys.push(key);\n                  }\n              }\n              for (var _a = 0, parentKeys_1 = parentKeys; _a < parentKeys_1.length; _a++) {\n                  var key = parentKeys_1[_a];\n                  var hasKey = set.has(key);\n                  if (!hasKey) {\n                      set.add(key);\n                      keys.push(key);\n                  }\n              }\n              return keys;\n          }\n          // 3.1.7.1 OrdinaryOwnMetadataKeys(O, P)\n          // https://rbuckton.github.io/reflect-metadata/#ordinaryownmetadatakeys\n          function OrdinaryOwnMetadataKeys(O, P) {\n              var keys = [];\n              var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n              if (IsUndefined(metadataMap))\n                  return keys;\n              var keysObj = metadataMap.keys();\n              var iterator = GetIterator(keysObj);\n              var k = 0;\n              while (true) {\n                  var next = IteratorStep(iterator);\n                  if (!next) {\n                      keys.length = k;\n                      return keys;\n                  }\n                  var nextValue = IteratorValue(next);\n                  try {\n                      keys[k] = nextValue;\n                  }\n                  catch (e) {\n                      try {\n                          IteratorClose(iterator);\n                      }\n                      finally {\n                          throw e;\n                      }\n                  }\n                  k++;\n              }\n          }\n          // 6 ECMAScript Data Typ0es and Values\n          // https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values\n          function Type(x) {\n              if (x === null)\n                  return 1 /* Null */;\n              switch (typeof x) {\n                  case \"undefined\": return 0 /* Undefined */;\n                  case \"boolean\": return 2 /* Boolean */;\n                  case \"string\": return 3 /* String */;\n                  case \"symbol\": return 4 /* Symbol */;\n                  case \"number\": return 5 /* Number */;\n                  case \"object\": return x === null ? 1 /* Null */ : 6 /* Object */;\n                  default: return 6 /* Object */;\n              }\n          }\n          // 6.1.1 The Undefined Type\n          // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-undefined-type\n          function IsUndefined(x) {\n              return x === undefined;\n          }\n          // 6.1.2 The Null Type\n          // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-null-type\n          function IsNull(x) {\n              return x === null;\n          }\n          // 6.1.5 The Symbol Type\n          // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-symbol-type\n          function IsSymbol(x) {\n              return typeof x === \"symbol\";\n          }\n          // 6.1.7 The Object Type\n          // https://tc39.github.io/ecma262/#sec-object-type\n          function IsObject(x) {\n              return typeof x === \"object\" ? x !== null : typeof x === \"function\";\n          }\n          // 7.1 Type Conversion\n          // https://tc39.github.io/ecma262/#sec-type-conversion\n          // 7.1.1 ToPrimitive(input [, PreferredType])\n          // https://tc39.github.io/ecma262/#sec-toprimitive\n          function ToPrimitive(input, PreferredType) {\n              switch (Type(input)) {\n                  case 0 /* Undefined */: return input;\n                  case 1 /* Null */: return input;\n                  case 2 /* Boolean */: return input;\n                  case 3 /* String */: return input;\n                  case 4 /* Symbol */: return input;\n                  case 5 /* Number */: return input;\n              }\n              var hint = PreferredType === 3 /* String */ ? \"string\" : PreferredType === 5 /* Number */ ? \"number\" : \"default\";\n              var exoticToPrim = GetMethod(input, toPrimitiveSymbol);\n              if (exoticToPrim !== undefined) {\n                  var result = exoticToPrim.call(input, hint);\n                  if (IsObject(result))\n                      throw new TypeError();\n                  return result;\n              }\n              return OrdinaryToPrimitive(input, hint === \"default\" ? \"number\" : hint);\n          }\n          // 7.1.1.1 OrdinaryToPrimitive(O, hint)\n          // https://tc39.github.io/ecma262/#sec-ordinarytoprimitive\n          function OrdinaryToPrimitive(O, hint) {\n              if (hint === \"string\") {\n                  var toString_1 = O.toString;\n                  if (IsCallable(toString_1)) {\n                      var result = toString_1.call(O);\n                      if (!IsObject(result))\n                          return result;\n                  }\n                  var valueOf = O.valueOf;\n                  if (IsCallable(valueOf)) {\n                      var result = valueOf.call(O);\n                      if (!IsObject(result))\n                          return result;\n                  }\n              }\n              else {\n                  var valueOf = O.valueOf;\n                  if (IsCallable(valueOf)) {\n                      var result = valueOf.call(O);\n                      if (!IsObject(result))\n                          return result;\n                  }\n                  var toString_2 = O.toString;\n                  if (IsCallable(toString_2)) {\n                      var result = toString_2.call(O);\n                      if (!IsObject(result))\n                          return result;\n                  }\n              }\n              throw new TypeError();\n          }\n          // 7.1.2 ToBoolean(argument)\n          // https://tc39.github.io/ecma262/2016/#sec-toboolean\n          function ToBoolean(argument) {\n              return !!argument;\n          }\n          // 7.1.12 ToString(argument)\n          // https://tc39.github.io/ecma262/#sec-tostring\n          function ToString(argument) {\n              return \"\" + argument;\n          }\n          // 7.1.14 ToPropertyKey(argument)\n          // https://tc39.github.io/ecma262/#sec-topropertykey\n          function ToPropertyKey(argument) {\n              var key = ToPrimitive(argument, 3 /* String */);\n              if (IsSymbol(key))\n                  return key;\n              return ToString(key);\n          }\n          // 7.2 Testing and Comparison Operations\n          // https://tc39.github.io/ecma262/#sec-testing-and-comparison-operations\n          // 7.2.2 IsArray(argument)\n          // https://tc39.github.io/ecma262/#sec-isarray\n          function IsArray(argument) {\n              return Array.isArray\n                  ? Array.isArray(argument)\n                  : argument instanceof Object\n                      ? argument instanceof Array\n                      : Object.prototype.toString.call(argument) === \"[object Array]\";\n          }\n          // 7.2.3 IsCallable(argument)\n          // https://tc39.github.io/ecma262/#sec-iscallable\n          function IsCallable(argument) {\n              // NOTE: This is an approximation as we cannot check for [[Call]] internal method.\n              return typeof argument === \"function\";\n          }\n          // 7.2.4 IsConstructor(argument)\n          // https://tc39.github.io/ecma262/#sec-isconstructor\n          function IsConstructor(argument) {\n              // NOTE: This is an approximation as we cannot check for [[Construct]] internal method.\n              return typeof argument === \"function\";\n          }\n          // 7.2.7 IsPropertyKey(argument)\n          // https://tc39.github.io/ecma262/#sec-ispropertykey\n          function IsPropertyKey(argument) {\n              switch (Type(argument)) {\n                  case 3 /* String */: return true;\n                  case 4 /* Symbol */: return true;\n                  default: return false;\n              }\n          }\n          // 7.3 Operations on Objects\n          // https://tc39.github.io/ecma262/#sec-operations-on-objects\n          // 7.3.9 GetMethod(V, P)\n          // https://tc39.github.io/ecma262/#sec-getmethod\n          function GetMethod(V, P) {\n              var func = V[P];\n              if (func === undefined || func === null)\n                  return undefined;\n              if (!IsCallable(func))\n                  throw new TypeError();\n              return func;\n          }\n          // 7.4 Operations on Iterator Objects\n          // https://tc39.github.io/ecma262/#sec-operations-on-iterator-objects\n          function GetIterator(obj) {\n              var method = GetMethod(obj, iteratorSymbol);\n              if (!IsCallable(method))\n                  throw new TypeError(); // from Call\n              var iterator = method.call(obj);\n              if (!IsObject(iterator))\n                  throw new TypeError();\n              return iterator;\n          }\n          // 7.4.4 IteratorValue(iterResult)\n          // https://tc39.github.io/ecma262/2016/#sec-iteratorvalue\n          function IteratorValue(iterResult) {\n              return iterResult.value;\n          }\n          // 7.4.5 IteratorStep(iterator)\n          // https://tc39.github.io/ecma262/#sec-iteratorstep\n          function IteratorStep(iterator) {\n              var result = iterator.next();\n              return result.done ? false : result;\n          }\n          // 7.4.6 IteratorClose(iterator, completion)\n          // https://tc39.github.io/ecma262/#sec-iteratorclose\n          function IteratorClose(iterator) {\n              var f = iterator[\"return\"];\n              if (f)\n                  f.call(iterator);\n          }\n          // 9.1 Ordinary Object Internal Methods and Internal Slots\n          // https://tc39.github.io/ecma262/#sec-ordinary-object-internal-methods-and-internal-slots\n          // 9.1.1.1 OrdinaryGetPrototypeOf(O)\n          // https://tc39.github.io/ecma262/#sec-ordinarygetprototypeof\n          function OrdinaryGetPrototypeOf(O) {\n              var proto = Object.getPrototypeOf(O);\n              if (typeof O !== \"function\" || O === functionPrototype)\n                  return proto;\n              // TypeScript doesn't set __proto__ in ES5, as it's non-standard.\n              // Try to determine the superclass constructor. Compatible implementations\n              // must either set __proto__ on a subclass constructor to the superclass constructor,\n              // or ensure each class has a valid `constructor` property on its prototype that\n              // points back to the constructor.\n              // If this is not the same as Function.[[Prototype]], then this is definately inherited.\n              // This is the case when in ES6 or when using __proto__ in a compatible browser.\n              if (proto !== functionPrototype)\n                  return proto;\n              // If the super prototype is Object.prototype, null, or undefined, then we cannot determine the heritage.\n              var prototype = O.prototype;\n              var prototypeProto = prototype && Object.getPrototypeOf(prototype);\n              if (prototypeProto == null || prototypeProto === Object.prototype)\n                  return proto;\n              // If the constructor was not a function, then we cannot determine the heritage.\n              var constructor = prototypeProto.constructor;\n              if (typeof constructor !== \"function\")\n                  return proto;\n              // If we have some kind of self-reference, then we cannot determine the heritage.\n              if (constructor === O)\n                  return proto;\n              // we have a pretty good guess at the heritage.\n              return constructor;\n          }\n          // naive Map shim\n          function CreateMapPolyfill() {\n              var cacheSentinel = {};\n              var arraySentinel = [];\n              var MapIterator = /** @class */ (function () {\n                  function MapIterator(keys, values, selector) {\n                      this._index = 0;\n                      this._keys = keys;\n                      this._values = values;\n                      this._selector = selector;\n                  }\n                  MapIterator.prototype[\"@@iterator\"] = function () { return this; };\n                  MapIterator.prototype[iteratorSymbol] = function () { return this; };\n                  MapIterator.prototype.next = function () {\n                      var index = this._index;\n                      if (index >= 0 && index < this._keys.length) {\n                          var result = this._selector(this._keys[index], this._values[index]);\n                          if (index + 1 >= this._keys.length) {\n                              this._index = -1;\n                              this._keys = arraySentinel;\n                              this._values = arraySentinel;\n                          }\n                          else {\n                              this._index++;\n                          }\n                          return { value: result, done: false };\n                      }\n                      return { value: undefined, done: true };\n                  };\n                  MapIterator.prototype.throw = function (error) {\n                      if (this._index >= 0) {\n                          this._index = -1;\n                          this._keys = arraySentinel;\n                          this._values = arraySentinel;\n                      }\n                      throw error;\n                  };\n                  MapIterator.prototype.return = function (value) {\n                      if (this._index >= 0) {\n                          this._index = -1;\n                          this._keys = arraySentinel;\n                          this._values = arraySentinel;\n                      }\n                      return { value: value, done: true };\n                  };\n                  return MapIterator;\n              }());\n              return /** @class */ (function () {\n                  function Map() {\n                      this._keys = [];\n                      this._values = [];\n                      this._cacheKey = cacheSentinel;\n                      this._cacheIndex = -2;\n                  }\n                  Object.defineProperty(Map.prototype, \"size\", {\n                      get: function () { return this._keys.length; },\n                      enumerable: true,\n                      configurable: true\n                  });\n                  Map.prototype.has = function (key) { return this._find(key, /*insert*/ false) >= 0; };\n                  Map.prototype.get = function (key) {\n                      var index = this._find(key, /*insert*/ false);\n                      return index >= 0 ? this._values[index] : undefined;\n                  };\n                  Map.prototype.set = function (key, value) {\n                      var index = this._find(key, /*insert*/ true);\n                      this._values[index] = value;\n                      return this;\n                  };\n                  Map.prototype.delete = function (key) {\n                      var index = this._find(key, /*insert*/ false);\n                      if (index >= 0) {\n                          var size = this._keys.length;\n                          for (var i = index + 1; i < size; i++) {\n                              this._keys[i - 1] = this._keys[i];\n                              this._values[i - 1] = this._values[i];\n                          }\n                          this._keys.length--;\n                          this._values.length--;\n                          if (key === this._cacheKey) {\n                              this._cacheKey = cacheSentinel;\n                              this._cacheIndex = -2;\n                          }\n                          return true;\n                      }\n                      return false;\n                  };\n                  Map.prototype.clear = function () {\n                      this._keys.length = 0;\n                      this._values.length = 0;\n                      this._cacheKey = cacheSentinel;\n                      this._cacheIndex = -2;\n                  };\n                  Map.prototype.keys = function () { return new MapIterator(this._keys, this._values, getKey); };\n                  Map.prototype.values = function () { return new MapIterator(this._keys, this._values, getValue); };\n                  Map.prototype.entries = function () { return new MapIterator(this._keys, this._values, getEntry); };\n                  Map.prototype[\"@@iterator\"] = function () { return this.entries(); };\n                  Map.prototype[iteratorSymbol] = function () { return this.entries(); };\n                  Map.prototype._find = function (key, insert) {\n                      if (this._cacheKey !== key) {\n                          this._cacheIndex = this._keys.indexOf(this._cacheKey = key);\n                      }\n                      if (this._cacheIndex < 0 && insert) {\n                          this._cacheIndex = this._keys.length;\n                          this._keys.push(key);\n                          this._values.push(undefined);\n                      }\n                      return this._cacheIndex;\n                  };\n                  return Map;\n              }());\n              function getKey(key, _) {\n                  return key;\n              }\n              function getValue(_, value) {\n                  return value;\n              }\n              function getEntry(key, value) {\n                  return [key, value];\n              }\n          }\n          // naive Set shim\n          function CreateSetPolyfill() {\n              return /** @class */ (function () {\n                  function Set() {\n                      this._map = new _Map();\n                  }\n                  Object.defineProperty(Set.prototype, \"size\", {\n                      get: function () { return this._map.size; },\n                      enumerable: true,\n                      configurable: true\n                  });\n                  Set.prototype.has = function (value) { return this._map.has(value); };\n                  Set.prototype.add = function (value) { return this._map.set(value, value), this; };\n                  Set.prototype.delete = function (value) { return this._map.delete(value); };\n                  Set.prototype.clear = function () { this._map.clear(); };\n                  Set.prototype.keys = function () { return this._map.keys(); };\n                  Set.prototype.values = function () { return this._map.values(); };\n                  Set.prototype.entries = function () { return this._map.entries(); };\n                  Set.prototype[\"@@iterator\"] = function () { return this.keys(); };\n                  Set.prototype[iteratorSymbol] = function () { return this.keys(); };\n                  return Set;\n              }());\n          }\n          // naive WeakMap shim\n          function CreateWeakMapPolyfill() {\n              var UUID_SIZE = 16;\n              var keys = HashMap.create();\n              var rootKey = CreateUniqueKey();\n              return /** @class */ (function () {\n                  function WeakMap() {\n                      this._key = CreateUniqueKey();\n                  }\n                  WeakMap.prototype.has = function (target) {\n                      var table = GetOrCreateWeakMapTable(target, /*create*/ false);\n                      return table !== undefined ? HashMap.has(table, this._key) : false;\n                  };\n                  WeakMap.prototype.get = function (target) {\n                      var table = GetOrCreateWeakMapTable(target, /*create*/ false);\n                      return table !== undefined ? HashMap.get(table, this._key) : undefined;\n                  };\n                  WeakMap.prototype.set = function (target, value) {\n                      var table = GetOrCreateWeakMapTable(target, /*create*/ true);\n                      table[this._key] = value;\n                      return this;\n                  };\n                  WeakMap.prototype.delete = function (target) {\n                      var table = GetOrCreateWeakMapTable(target, /*create*/ false);\n                      return table !== undefined ? delete table[this._key] : false;\n                  };\n                  WeakMap.prototype.clear = function () {\n                      // NOTE: not a real clear, just makes the previous data unreachable\n                      this._key = CreateUniqueKey();\n                  };\n                  return WeakMap;\n              }());\n              function CreateUniqueKey() {\n                  var key;\n                  do\n                      key = \"@@WeakMap@@\" + CreateUUID();\n                  while (HashMap.has(keys, key));\n                  keys[key] = true;\n                  return key;\n              }\n              function GetOrCreateWeakMapTable(target, create) {\n                  if (!hasOwn.call(target, rootKey)) {\n                      if (!create)\n                          return undefined;\n                      Object.defineProperty(target, rootKey, { value: HashMap.create() });\n                  }\n                  return target[rootKey];\n              }\n              function FillRandomBytes(buffer, size) {\n                  for (var i = 0; i < size; ++i)\n                      buffer[i] = Math.random() * 0xff | 0;\n                  return buffer;\n              }\n              function GenRandomBytes(size) {\n                  if (typeof Uint8Array === \"function\") {\n                      if (typeof crypto !== \"undefined\")\n                          return crypto.getRandomValues(new Uint8Array(size));\n                      if (typeof msCrypto !== \"undefined\")\n                          return msCrypto.getRandomValues(new Uint8Array(size));\n                      return FillRandomBytes(new Uint8Array(size), size);\n                  }\n                  return FillRandomBytes(new Array(size), size);\n              }\n              function CreateUUID() {\n                  var data = GenRandomBytes(UUID_SIZE);\n                  // mark as random - RFC 4122 § 4.4\n                  data[6] = data[6] & 0x4f | 0x40;\n                  data[8] = data[8] & 0xbf | 0x80;\n                  var result = \"\";\n                  for (var offset = 0; offset < UUID_SIZE; ++offset) {\n                      var byte = data[offset];\n                      if (offset === 4 || offset === 6 || offset === 8)\n                          result += \"-\";\n                      if (byte < 16)\n                          result += \"0\";\n                      result += byte.toString(16).toLowerCase();\n                  }\n                  return result;\n              }\n          }\n          // uses a heuristic used by v8 and chakra to force an object into dictionary mode.\n          function MakeDictionary(obj) {\n              obj.__ = undefined;\n              delete obj.__;\n              return obj;\n          }\n      });\n  })(Reflect || (Reflect = {}))\n}\n","const SERVICE_IDENTIFIER = {\n  TaroElement: 'TaroElement',\n  TaroElementFactory: 'Factory<TaroElement>',\n  TaroText: 'TaroText',\n  TaroTextFactory: 'Factory<TaroText>',\n  TaroNodeImpl: 'TaroNodeImpl',\n  TaroElementImpl: 'TaroElementImpl',\n  Hooks: 'hooks',\n  onRemoveAttribute: 'onRemoveAttribute',\n  getLifecycle: 'getLifecycle',\n  getPathIndex: 'getPathIndex',\n  getEventCenter: 'getEventCenter',\n  isBubbleEvents: 'isBubbleEvents',\n  getSpecialNodes: 'getSpecialNodes',\n  eventCenter: 'eventCenter',\n  modifyMpEvent: 'modifyMpEvent',\n  modifyTaroEvent: 'modifyTaroEvent',\n  batchedEventUpdates: 'batchedEventUpdates',\n  mergePageInstance: 'mergePageInstance',\n  createPullDownComponent: 'createPullDownComponent',\n  getDOMNode: 'getDOMNode',\n  initNativeApi: 'initNativeApi',\n  modifyHydrateData: 'modifyHydrateData',\n  modifySetAttrPayload: 'modifySetAttrPayload',\n  modifyRmAttrPayload: 'modifyRmAttrPayload',\n  onAddEvent: 'onAddEvent',\n  patchElement: 'patchElement'\n}\n\nexport default SERVICE_IDENTIFIER\n","export const PROPERTY_THRESHOLD = 2046\nexport const TARO_RUNTIME = 'Taro runtime'\nexport const HOOKS_APP_ID = 'taro-app'\nexport const SET_DATA = '小程序 setData'\nexport const PAGE_INIT = '页面初始化'\nexport const ROOT_STR = 'root'\nexport const HTML = 'html'\nexport const HEAD = 'head'\nexport const BODY = 'body'\nexport const APP = 'app'\nexport const CONTAINER = 'container'\nexport const DOCUMENT_ELEMENT_NAME = '#document'\nexport const DOCUMENT_FRAGMENT = 'document-fragment'\nexport const ID = 'id'\nexport const UID = 'uid'\nexport const CLASS = 'class'\nexport const STYLE = 'style'\nexport const FOCUS = 'focus'\nexport const VIEW = 'view'\nexport const STATIC_VIEW = 'static-view'\nexport const PURE_VIEW = 'pure-view'\nexport const PROPS = 'props'\nexport const DATASET = 'dataset'\nexport const OBJECT = 'object'\nexport const VALUE = 'value'\nexport const INPUT = 'input'\nexport const CHANGE = 'change'\nexport const CUSTOM_WRAPPER = 'custom-wrapper'\nexport const TARGET = 'target'\nexport const CURRENT_TARGET = 'currentTarget'\nexport const TYPE = 'type'\nexport const CONFIRM = 'confirm'\nexport const TIME_STAMP = 'timeStamp'\nexport const KEY_CODE = 'keyCode'\nexport const TOUCHMOVE = 'touchmove'\nexport const DATE = 'Date'\nexport const SET_TIMEOUT = 'setTimeout'\nexport const CATCHMOVE = 'catchMove'\nexport const CATCH_VIEW = 'catch-view'\nexport const COMMENT = 'comment'\n","import { Shortcuts } from '@tarojs/shared'\nimport { NodeType } from '../dom/node_types'\nimport {\n  ROOT_STR,\n  STYLE,\n  ID,\n  UID,\n  CLASS,\n  COMMENT\n} from '../constants'\n\nimport type { TaroElement } from '../dom/element'\nimport type { TaroText } from '../dom/text'\nimport type { TaroNode } from '../dom/node'\n\nexport const incrementId = () => {\n  let id = 0\n  return () => (id++).toString()\n}\n\nexport function isElement (node: TaroNode): node is TaroElement {\n  return node.nodeType === NodeType.ELEMENT_NODE\n}\n\nexport function isText (node: TaroNode): node is TaroText {\n  return node.nodeType === NodeType.TEXT_NODE\n}\n\nexport function isComment (node: TaroNode): boolean {\n  return node.nodeName === COMMENT\n}\n\nexport function isHasExtractProp (el: TaroElement): boolean {\n  const res = Object.keys(el.props).find(prop => {\n    return !(/^(class|style|id)$/.test(prop) || prop.startsWith('data-'))\n  })\n  return Boolean(res)\n}\n\n/**\n * 往上寻找组件树直到 root，寻找是否有祖先组件绑定了同类型的事件\n * @param node 当前组件\n * @param type 事件类型\n */\nexport function isParentBinded (node: TaroElement | null, type: string): boolean {\n  let res = false\n  while (node?.parentElement && node.parentElement._path !== ROOT_STR) {\n    if (node.parentElement.__handlers[type]?.length) {\n      res = true\n      break\n    }\n    node = node.parentElement\n  }\n  return res\n}\n\nexport function shortcutAttr (key: string): string {\n  switch (key) {\n    case STYLE:\n      return Shortcuts.Style\n    case ID:\n      return UID\n    case CLASS:\n      return Shortcuts.Class\n    default:\n      return key\n  }\n}\n","import { inject, injectable } from 'inversify'\nimport { isArray, isObject, warn } from '@tarojs/shared'\nimport SERVICE_IDENTIFIER from '../constants/identifiers'\n\nimport type { EventHandler, AddEventListenerOptions, IHooks } from '../interface'\n\n@injectable()\nexport class TaroEventTarget {\n  public __handlers: Record<string, EventHandler[]> = {}\n  public hooks: IHooks\n\n  public constructor (// eslint-disable-next-line @typescript-eslint/indent\n    @inject(SERVICE_IDENTIFIER.Hooks) hooks: IHooks\n  ) {\n    this.hooks = hooks\n  }\n\n  public addEventListener (type: string, handler: EventHandler, options?: boolean | AddEventListenerOptions) {\n    this.hooks.onAddEvent?.(type, handler, options, this)\n    if (type === 'regionchange') {\n      // map 组件的 regionchange 事件非常特殊，详情：https://github.com/NervJS/taro/issues/5766\n      this.addEventListener('begin', handler, options)\n      this.addEventListener('end', handler, options)\n      return\n    }\n    type = type.toLowerCase()\n    const handlers = this.__handlers[type]\n    let isCapture = Boolean(options)\n    let isOnce = false\n    if (isObject<AddEventListenerOptions>(options)) {\n      isCapture = Boolean(options.capture)\n      isOnce = Boolean(options.once)\n    }\n\n    if (isOnce) {\n      const wrapper = function () {\n        handler.apply(this, arguments) // this 指向 Element\n        this.removeEventListener(type, wrapper)\n      }\n      this.addEventListener(type, wrapper, {\n        ...(options as AddEventListenerOptions),\n        once: false\n      })\n      return\n    }\n\n    process.env.NODE_ENV !== 'production' && warn(isCapture, 'Taro 暂未实现 event 的 capture 特性。')\n\n    if (isArray(handlers)) {\n      handlers.push(handler)\n    } else {\n      this.__handlers[type] = [handler]\n    }\n  }\n\n  public removeEventListener (type: string, handler: EventHandler) {\n    type = type.toLowerCase()\n    if (handler == null) {\n      return\n    }\n\n    const handlers = this.__handlers[type]\n    if (!isArray(handlers)) {\n      return\n    }\n\n    const index = handlers.indexOf(handler)\n\n    process.env.NODE_ENV !== 'production' && warn(index === -1, `事件: '${type}' 没有注册在 DOM 中，因此不会被移除。`)\n\n    handlers.splice(index, 1)\n  }\n\n  public isAnyEventBinded (): boolean {\n    const handlers = this.__handlers\n    const isAnyEventBinded = Object.keys(handlers).find(key => handlers[key].length)\n    return Boolean(isAnyEventBinded)\n  }\n}\n","import { Shortcuts, toCamelCase } from '@tarojs/shared'\nimport { isText, isHasExtractProp, isComment } from './utils'\nimport {\n  VIEW,\n  CLASS,\n  STYLE,\n  ID,\n  PURE_VIEW,\n  CATCHMOVE,\n  CATCH_VIEW\n} from './constants'\n\nimport type { MiniData, MiniElementData } from './interface'\nimport type { TaroElement } from './dom/element'\nimport type { TaroText } from './dom/text'\n\n/**\n * React also has a fancy function's name for this: `hydrate()`.\n * You may have been heard `hydrate` as a SSR-related function,\n * actually, `hydrate` basicly do the `render()` thing, but ignore some properties,\n * it's a vnode traverser and modifier: that's exactly what Taro's doing in here.\n */\nexport function hydrate (node: TaroElement | TaroText): MiniData {\n  const nodeName = node.nodeName\n\n  if (isText(node)) {\n    return {\n      [Shortcuts.Text]: node.nodeValue,\n      [Shortcuts.NodeName]: nodeName\n    }\n  }\n\n  const data: MiniElementData = {\n    [Shortcuts.NodeName]: nodeName,\n    uid: node.uid\n  }\n  const { props } = node\n  const SPECIAL_NODES = node.hooks.getSpecialNodes()\n\n  if (!node.isAnyEventBinded() && SPECIAL_NODES.indexOf(nodeName) > -1) {\n    data[Shortcuts.NodeName] = `static-${nodeName}`\n    if (nodeName === VIEW && !isHasExtractProp(node)) {\n      data[Shortcuts.NodeName] = PURE_VIEW\n    }\n  }\n\n  for (const prop in props) {\n    const propInCamelCase = toCamelCase(prop)\n    if (\n      !prop.startsWith('data-') && // 在 node.dataset 的数据\n      prop !== CLASS &&\n      prop !== STYLE &&\n      prop !== ID &&\n      propInCamelCase !== CATCHMOVE\n    ) {\n      data[propInCamelCase] = props[prop]\n    }\n    if (nodeName === VIEW && propInCamelCase === CATCHMOVE && props[prop] !== false) {\n      data[Shortcuts.NodeName] = CATCH_VIEW\n    }\n  }\n\n  let { childNodes } = node\n\n  // 过滤 comment 节点\n  childNodes = childNodes.filter(node => !isComment(node))\n\n  if (childNodes.length > 0) {\n    data[Shortcuts.Childnodes] = childNodes.map(hydrate)\n  } else {\n    data[Shortcuts.Childnodes] = []\n  }\n\n  if (node.className !== '') {\n    data[Shortcuts.Class] = node.className\n  }\n\n  if (node.cssText !== '' && nodeName !== 'swiper-item') {\n    data[Shortcuts.Style] = node.cssText\n  }\n\n  node.hooks.modifyHydrateData?.(data)\n\n  return data\n}\n","import type { TaroNode } from './node'\nexport const eventSource = new Map<string | undefined | null, TaroNode>()\n","export enum ElementNames {\n  Element = 'Element',\n  Document = 'Document',\n  RootElement = 'RootElement',\n  FormElement = 'FormElement'\n}\n\nexport interface InstanceFactory<T> {\n  (...args: any[]): T\n}\n\nexport interface InstanceNamedFactory {\n  <T>(named: string): (...args: any[]) => T\n}\n","import { inject, injectable } from 'inversify'\nimport { Shortcuts, ensure } from '@tarojs/shared'\nimport SERVICE_IDENTIFIER from '../constants/identifiers'\nimport { NodeType } from './node_types'\nimport { incrementId, isComment } from '../utils'\nimport { TaroEventTarget } from './event-target'\nimport { hydrate } from '../hydrate'\nimport { eventSource } from './event-source'\nimport { ElementNames } from '../interface'\nimport {\n  DOCUMENT_FRAGMENT\n} from '../constants'\n\nimport type { UpdatePayload, InstanceNamedFactory } from '../interface'\nimport type { TaroDocument } from './document'\nimport type { TaroRootElement } from './root'\nimport type { TaroElement } from './element'\nimport type { TaroNodeImpl } from '../dom-external/node-impl'\nimport type { Hooks } from '../hooks'\n\nconst nodeId = incrementId()\n\n@injectable()\nexport class TaroNode extends TaroEventTarget {\n  public uid: string\n  public nodeType: NodeType\n  public nodeName: string\n  public parentNode: TaroNode | null = null\n  public childNodes: TaroNode[] = []\n\n  protected _getElement: InstanceNamedFactory\n\n  public constructor (// eslint-disable-next-line @typescript-eslint/indent\n    @inject(SERVICE_IDENTIFIER.TaroNodeImpl) impl: TaroNodeImpl,\n    @inject(SERVICE_IDENTIFIER.TaroElementFactory) getElement: InstanceNamedFactory,\n    @inject(SERVICE_IDENTIFIER.Hooks) hooks: Hooks\n  ) {\n    super(hooks)\n    impl.bind(this)\n    this._getElement = getElement\n    this.uid = `_n_${nodeId()}`\n    eventSource.set(this.uid, this)\n  }\n\n  private hydrate = (node: TaroNode) => () => hydrate(node as TaroElement)\n\n  /**\n   * like jQuery's $.empty()\n   */\n  private _empty () {\n    while (this.childNodes.length > 0) {\n      const child = this.childNodes[0]\n      child.parentNode = null\n      eventSource.delete(child.uid)\n      this.childNodes.shift()\n    }\n  }\n\n  protected get _root (): TaroRootElement | null {\n    return this.parentNode?._root || null\n  }\n\n  protected findIndex (refChild: TaroNode): number {\n    const index = this.childNodes.indexOf(refChild)\n\n    ensure(index !== -1, 'The node to be replaced is not a child of this node.')\n\n    return index\n  }\n\n  public get _path (): string {\n    const parentNode = this.parentNode\n\n    if (parentNode) {\n      // 计算路径时，先过滤掉 comment 节点\n      const list = parentNode.childNodes.filter(node => !isComment(node))\n      const indexOfNode = list.indexOf(this)\n      const index = this.hooks.getPathIndex(indexOfNode)\n\n      return `${parentNode._path}.${Shortcuts.Childnodes}.${index}`\n    }\n\n    return ''\n  }\n\n  public get nextSibling (): TaroNode | null {\n    const parentNode = this.parentNode\n    return parentNode?.childNodes[parentNode.findIndex(this) + 1] || null\n  }\n\n  public get previousSibling (): TaroNode | null {\n    const parentNode = this.parentNode\n    return parentNode?.childNodes[parentNode.findIndex(this) - 1] || null\n  }\n\n  public get parentElement (): TaroElement | null {\n    const parentNode = this.parentNode\n    if (parentNode?.nodeType === NodeType.ELEMENT_NODE) {\n      return parentNode as TaroElement\n    }\n    return null\n  }\n\n  public get firstChild (): TaroNode | null {\n    return this.childNodes[0] || null\n  }\n\n  public get lastChild (): TaroNode | null {\n    const childNodes = this.childNodes\n    return childNodes[childNodes.length - 1] || null\n  }\n\n  /**\n   * @textContent 目前只能置空子元素\n   * @TODO 等待完整 innerHTML 实现\n   */\n  public set textContent (text: string) {\n    this._empty()\n    if (text === '') {\n      this.enqueueUpdate({\n        path: `${this._path}.${Shortcuts.Childnodes}`,\n        value: () => []\n      })\n    } else {\n      const document = this._getElement<TaroDocument>(ElementNames.Document)()\n      this.appendChild(document.createTextNode(text))\n    }\n  }\n\n  public insertBefore<T extends TaroNode> (newChild: T, refChild?: TaroNode | null, isReplace?: boolean): T {\n    if (newChild.nodeName === DOCUMENT_FRAGMENT) {\n      newChild.childNodes.reduceRight((previousValue, currentValue) => {\n        this.insertBefore(currentValue, previousValue)\n        return currentValue\n      }, refChild)\n      return newChild\n    }\n\n    newChild.remove()\n    newChild.parentNode = this\n    let payload: UpdatePayload\n\n    if (refChild) {\n      const index = this.findIndex(refChild)\n      this.childNodes.splice(index, 0, newChild)\n      if (isReplace) {\n        payload = {\n          path: newChild._path,\n          value: this.hydrate(newChild)\n        }\n      } else {\n        payload = {\n          path: `${this._path}.${Shortcuts.Childnodes}`,\n          value: () => {\n            const childNodes = this.childNodes.filter(node => !isComment(node))\n            return childNodes.map(hydrate)\n          }\n        }\n      }\n    } else {\n      this.childNodes.push(newChild)\n      payload = {\n        path: newChild._path,\n        value: this.hydrate(newChild)\n      }\n    }\n\n    this.enqueueUpdate(payload)\n\n    if (!eventSource.has(newChild.uid)) {\n      eventSource.set(newChild.uid, newChild)\n    }\n\n    return newChild\n  }\n\n  public appendChild (child: TaroNode) {\n    this.insertBefore(child)\n  }\n\n  public replaceChild (newChild: TaroNode, oldChild: TaroNode) {\n    if (oldChild.parentNode === this) {\n      this.insertBefore(newChild, oldChild, true)\n      oldChild.remove(true)\n      return oldChild\n    }\n  }\n\n  public removeChild<T extends TaroNode> (child: T, isReplace?: boolean): T {\n    const index = this.findIndex(child)\n    this.childNodes.splice(index, 1)\n    if (!isReplace) {\n      this.enqueueUpdate({\n        path: `${this._path}.${Shortcuts.Childnodes}`,\n        value: () => {\n          const childNodes = this.childNodes.filter(node => !isComment(node))\n          return childNodes.map(hydrate)\n        }\n      })\n    }\n    child.parentNode = null\n    eventSource.delete(child.uid)\n    // @TODO: eventSource memory overflow\n    // child._empty()\n    return child\n  }\n\n  public remove (isReplace?: boolean) {\n    this.parentNode?.removeChild(this, isReplace)\n  }\n\n  public hasChildNodes () {\n    return this.childNodes.length > 0\n  }\n\n  public enqueueUpdate (payload: UpdatePayload) {\n    this._root?.enqueueUpdate(payload)\n  }\n\n  public contains (node: TaroNode & { id?: string }): boolean {\n    let isContains = false\n    this.childNodes.some(childNode => {\n      const { uid } = childNode\n      if (uid === node.uid || uid === node.id || childNode.contains(node)) {\n        isContains = true\n        return true\n      }\n    })\n    return isContains\n  }\n\n  public get ownerDocument () {\n    const document = this._getElement<TaroDocument>(ElementNames.Document)()\n    return document\n  }\n}\n","import { inject, injectable } from 'inversify'\nimport { Shortcuts } from '@tarojs/shared'\nimport SERVICE_IDENTIFIER from '../constants/identifiers'\nimport { TaroNode } from './node'\nimport { NodeType } from './node_types'\n\nimport type { TaroNodeImpl } from '../dom-external/node-impl'\nimport type { InstanceNamedFactory } from '../interface'\nimport type { Hooks } from '../hooks'\n\n@injectable()\nexport class TaroText extends TaroNode {\n  public _value: string\n\n  public constructor (// eslint-disable-next-line @typescript-eslint/indent\n    @inject(SERVICE_IDENTIFIER.TaroNodeImpl) nodeImpl: TaroNodeImpl,\n    @inject(SERVICE_IDENTIFIER.TaroElementFactory) getElement: InstanceNamedFactory,\n    @inject(SERVICE_IDENTIFIER.Hooks) hooks: Hooks\n  ) {\n    super(nodeImpl, getElement, hooks)\n    this.nodeType = NodeType.TEXT_NODE\n    this.nodeName = '#text'\n  }\n\n  public set textContent (text: string) {\n    this._value = text\n    this.enqueueUpdate({\n      path: `${this._path}.${Shortcuts.Text}`,\n      value: text\n    })\n  }\n\n  public get textContent (): string {\n    return this._value\n  }\n\n  public set nodeValue (text: string) {\n    this.textContent = text\n  }\n\n  public get nodeValue (): string {\n    return this._value\n  }\n}\n","/*\n *\n * https://www.w3.org/Style/CSS/all-properties.en.html\n */\n\nconst styleProperties = [\n  'all',\n  'appearance',\n  'blockOverflow',\n  'blockSize',\n  'bottom',\n  'clear',\n  'contain',\n  'content',\n  'continue',\n  'cursor',\n  'direction',\n  'display',\n  'filter',\n  'float',\n  'gap',\n  'height',\n  'inset',\n  'isolation',\n  'left',\n  'letterSpacing',\n  'lightingColor',\n  'markerSide',\n  'mixBlendMode',\n  'opacity',\n  'order',\n  'position',\n  'quotes',\n  'resize',\n  'right',\n  'rowGap',\n  'tabSize',\n  'tableLayout',\n  'top',\n  'userSelect',\n  'verticalAlign',\n  'visibility',\n  'voiceFamily',\n  'volume',\n  'whiteSpace',\n  'widows',\n  'width',\n  'zIndex'\n\n  /** 非常用 style */\n  // 'azimuth',\n  // 'backfaceVisibility',\n  // 'baselineShift',\n  // 'captionSide',\n  // 'chains',\n  // 'dominantBaseline',\n  // 'elevation',\n  // 'emptyCells',\n  // 'forcedColorAdjust',\n  // 'glyphOrientationVertical',\n  // 'hangingPunctuation',\n  // 'hyphenateCharacter',\n  // 'hyphens',\n  // 'imageOrientation',\n  // 'imageResolution',\n  // 'orphans',\n  // 'playDuring',\n  // 'pointerEvents',\n  // 'regionFragment',\n  // 'richness',\n  // 'running',\n  // 'scrollBehavior',\n  // 'speechRate',\n  // 'stress',\n  // 'stringSet',\n  // 'unicodeBidi',\n  // 'willChange',\n  // 'writingMode',\n]\n\n// 减少文件体积\nfunction combine (prefix: string, list: string[], excludeSelf?: boolean) {\n  !excludeSelf && styleProperties.push(prefix)\n  list.forEach(item => {\n    styleProperties.push(prefix + item)\n  })\n}\n\nconst color = 'Color'\nconst style = 'Style'\nconst width = 'Width'\nconst image = 'Image'\nconst size = 'Size'\nconst color_style_width = [color, style, width]\nconst fitlength_fitwidth_image = ['FitLength', 'FitWidth', image]\nconst fitlength_fitwidth_image_radius = [...fitlength_fitwidth_image, 'Radius']\nconst color_style_width_fitlength_fitwidth_image = [...color_style_width, ...fitlength_fitwidth_image]\nconst endRadius_startRadius = ['EndRadius', 'StartRadius']\nconst bottom_left_right_top = ['Bottom', 'Left', 'Right', 'Top']\nconst end_start = ['End', 'Start']\nconst content_items_self = ['Content', 'Items', 'Self']\nconst blockSize_height_inlineSize_width = ['BlockSize', 'Height', 'InlineSize', width]\nconst after_before = ['After', 'Before']\n\ncombine('borderBlock', color_style_width)\ncombine('borderBlockEnd', color_style_width)\ncombine('borderBlockStart', color_style_width)\ncombine('outline', [...color_style_width, 'Offset'])\ncombine('border', [...color_style_width, 'Boundary', 'Break', 'Collapse', 'Radius', 'Spacing'])\ncombine('borderFit', ['Length', width])\ncombine('borderInline', color_style_width)\ncombine('borderInlineEnd', color_style_width)\ncombine('borderInlineStart', color_style_width)\ncombine('borderLeft', color_style_width_fitlength_fitwidth_image)\ncombine('borderRight', color_style_width_fitlength_fitwidth_image)\ncombine('borderTop', color_style_width_fitlength_fitwidth_image)\ncombine('borderBottom', color_style_width_fitlength_fitwidth_image)\ncombine('textDecoration', [color, style, 'Line'])\ncombine('textEmphasis', [color, style, 'Position'])\ncombine('scrollMargin', bottom_left_right_top)\ncombine('scrollPadding', bottom_left_right_top)\ncombine('padding', bottom_left_right_top)\ncombine('margin', [...bottom_left_right_top, 'Trim'])\ncombine('scrollMarginBlock', end_start)\ncombine('scrollMarginInline', end_start)\ncombine('scrollPaddingBlock', end_start)\ncombine('scrollPaddingInline', end_start)\ncombine('gridColumn', end_start)\ncombine('gridRow', end_start)\ncombine('insetBlock', end_start)\ncombine('insetInline', end_start)\ncombine('marginBlock', end_start)\ncombine('marginInline', end_start)\ncombine('paddingBlock', end_start)\ncombine('paddingInline', end_start)\ncombine('pause', after_before)\ncombine('cue', after_before)\ncombine('mask', ['Clip', 'Composite', image, 'Mode', 'Origin', 'Position', 'Repeat', size, 'Type'])\ncombine('borderImage', ['Outset', 'Repeat', 'Slice', 'Source', 'Transform', width])\ncombine('maskBorder', ['Mode', 'Outset', 'Repeat', 'Slice', 'Source', width])\ncombine('font', ['Family', 'FeatureSettings', 'Kerning', 'LanguageOverride', 'MaxSize', 'MinSize', 'OpticalSizing', 'Palette', size, 'SizeAdjust', 'Stretch', style, 'Weight', 'VariationSettings'])\ncombine('fontSynthesis', ['SmallCaps', style, 'Weight'])\ncombine('transform', ['Box', 'Origin', style])\ncombine('background', [color, image, 'Attachment', 'BlendMode', 'Clip', 'Origin', 'Position', 'Repeat', size])\ncombine('listStyle', [image, 'Position', 'Type'])\ncombine('scrollSnap', ['Align', 'Stop', 'Type'])\ncombine('grid', ['Area', 'AutoColumns', 'AutoFlow', 'AutoRows'])\ncombine('gridTemplate', ['Areas', 'Columns', 'Rows'])\ncombine('overflow', ['Block', 'Inline', 'Wrap', 'X', 'Y'])\ncombine('transition', ['Delay', 'Duration', 'Property', 'TimingFunction'])\ncombine('lineStacking', ['Ruby', 'Shift', 'Strategy'])\ncombine('color', ['Adjust', 'InterpolationFilters', 'Scheme'])\ncombine('textAlign', ['All', 'Last'])\ncombine('page', ['BreakAfter', 'BreakBefore', 'BreakInside'])\ncombine('speak', ['Header', 'Numeral', 'Punctuation'])\ncombine('animation', ['Delay', 'Direction', 'Duration', 'FillMode', 'IterationCount', 'Name', 'PlayState', 'TimingFunction'])\ncombine('flex', ['Basis', 'Direction', 'Flow', 'Grow', 'Shrink', 'Wrap'])\ncombine('offset', [...after_before, ...end_start, 'Anchor', 'Distance', 'Path', 'Position', 'Rotate'])\ncombine('fontVariant', ['Alternates', 'Caps', 'EastAsian', 'Emoji', 'Ligatures', 'Numeric', 'Position'])\ncombine('perspective', ['Origin'])\ncombine('pitch', ['Range'])\ncombine('clip', ['Path', 'Rule'])\ncombine('flow', ['From', 'Into'])\n\ncombine('align', ['Content', 'Items', 'Self'], true)\ncombine('alignment', ['Adjust', 'Baseline'], true)\ncombine('bookmark', ['Label', 'Level', 'State'], true)\ncombine('borderStart', endRadius_startRadius, true)\ncombine('borderEnd', endRadius_startRadius, true)\ncombine('borderCorner', ['Fit', image, 'ImageTransform'], true)\ncombine('borderTopLeft', fitlength_fitwidth_image_radius, true)\ncombine('borderTopRight', fitlength_fitwidth_image_radius, true)\ncombine('borderBottomLeft', fitlength_fitwidth_image_radius, true)\ncombine('borderBottomRight', fitlength_fitwidth_image_radius, true)\ncombine('column', ['s', 'Count', 'Fill', 'Gap', 'Rule', 'RuleColor', 'RuleStyle', 'RuleWidth', 'Span', width], true)\ncombine('break', [...after_before, 'Inside'], true)\ncombine('wrap', [...after_before, 'Flow', 'Inside', 'Through'], true)\ncombine('justify', content_items_self, true)\ncombine('place', content_items_self, true)\ncombine('max', [...blockSize_height_inlineSize_width, 'Lines'], true)\ncombine('min', blockSize_height_inlineSize_width, true)\ncombine('line', ['Break', 'Clamp', 'Grid', 'Height', 'Padding', 'Snap'], true)\ncombine('inline', ['BoxAlign', size, 'Sizing'], true)\ncombine('text', ['CombineUpright', 'GroupAlign', 'Height', 'Indent', 'Justify', 'Orientation', 'Overflow', 'Shadow', 'SpaceCollapse', 'SpaceTrim', 'Spacing', 'Transform', 'UnderlinePosition', 'Wrap'], true)\ncombine('shape', ['ImageThreshold', 'Inside', 'Margin', 'Outside'], true)\ncombine('word', ['Break', 'Spacing', 'Wrap'], true)\ncombine('nav', ['Down', 'Left', 'Right', 'Up'], true)\ncombine('object', ['Fit', 'Position'], true)\ncombine('box', ['DecorationBreak', 'Shadow', 'Sizing', 'Snap'], true)\n\n/** 非常用 style */\n// combine('caret', [color, 'Shape'])\n// combine('counter', ['Increment', 'Reset', 'Set'], true)\n// combine('dropInitial', ['AfterAdjust', 'AfterAlign', 'BeforeAdjust', 'BeforeAlign', size, 'Value'], true)\n// combine('flood', [color, 'Opacity'], true)\n// combine('footnote', ['Display', 'Policy'], true)\n// combine('hyphenateLimit', ['Chars', 'Last', 'Lines', 'Zone'], true)\n// combine('initialLetters', ['Align', 'Wrap'])\n// combine('ruby', ['Align', 'Merge', 'Position'], true)\n\nexport { styleProperties }\n","import { isUndefined, toCamelCase, toDashed, Shortcuts, warn, isString } from '@tarojs/shared'\nimport { styleProperties } from './style_properties'\nimport { TaroElement } from './element'\nimport { PROPERTY_THRESHOLD } from '../constants'\n\nfunction setStyle (this: Style, newVal: string, styleKey: string) {\n  const old = this[styleKey]\n  if (newVal) {\n    this._usedStyleProp.add(styleKey)\n  }\n\n  process.env.NODE_ENV !== 'production' && warn(\n    isString(newVal) && newVal.length > PROPERTY_THRESHOLD,\n    `Style 属性 ${styleKey} 的值数据量过大，可能会影响渲染性能，考虑使用 CSS 类或其它方案替代。`\n  )\n\n  if (old !== newVal) {\n    this._value[styleKey] = newVal\n    this._element.enqueueUpdate({\n      path: `${this._element._path}.${Shortcuts.Style}`,\n      value: this.cssText\n    })\n  }\n}\n\nfunction initStyle (ctor: typeof Style) {\n  const properties = {}\n\n  for (let i = 0; i < styleProperties.length; i++) {\n    const styleKey = styleProperties[i]\n    properties[styleKey] = {\n      get (this: Style) {\n        return this._value[styleKey] || ''\n      },\n      set (this: Style, newVal: string) {\n        setStyle.call(this, newVal, styleKey)\n      }\n    }\n  }\n\n  Object.defineProperties(ctor.prototype, properties)\n}\n\nfunction isCssVariable (propertyName) {\n  return /^--/.test(propertyName)\n}\n\nexport class Style {\n  public _usedStyleProp: Set<string>\n\n  public _value: Partial<CSSStyleDeclaration>\n\n  public _element: TaroElement\n\n  public constructor (element: TaroElement) {\n    this._element = element\n    this._usedStyleProp = new Set()\n    this._value = {}\n  }\n\n  private setCssVariables (styleKey: string) {\n    this.hasOwnProperty(styleKey) || Object.defineProperty(this, styleKey, {\n      enumerable: true,\n      configurable: true,\n      get: () => {\n        return this._value[styleKey] || ''\n      },\n      set: (newVal: string) => {\n        setStyle.call(this, newVal, styleKey)\n      }\n    })\n  }\n\n  public get cssText () {\n    let text = ''\n    this._usedStyleProp.forEach(key => {\n      const val = this[key]\n      if (!val) return\n      const styleName = isCssVariable(key) ? key : toDashed(key)\n      text += `${styleName}: ${val};`\n    })\n    return text\n  }\n\n  public set cssText (str: string) {\n    if (str == null) {\n      str = ''\n    }\n\n    this._usedStyleProp.forEach(prop => {\n      this.removeProperty(prop)\n    })\n\n    if (str === '') {\n      return\n    }\n\n    const rules = str.split(';')\n\n    for (let i = 0; i < rules.length; i++) {\n      const rule = rules[i].trim()\n      if (rule === '') {\n        continue\n      }\n\n      // 可能存在 'background: url(http:x/y/z)' 的情况\n      const [propName, ...valList] = rule.split(':')\n      const val = valList.join(':')\n\n      if (isUndefined(val)) {\n        continue\n      }\n      this.setProperty(propName.trim(), val.trim())\n    }\n  }\n\n  public setProperty (propertyName: string, value?: string | null) {\n    if (propertyName[0] === '-') {\n      // 支持 webkit 属性或 css 变量\n      this.setCssVariables(propertyName)\n    } else {\n      propertyName = toCamelCase(propertyName)\n    }\n    if (isUndefined(value)) {\n      return\n    }\n\n    if (value === null || value === '') {\n      this.removeProperty(propertyName)\n    } else {\n      this[propertyName] = value\n    }\n  }\n\n  public removeProperty (propertyName: string): string {\n    propertyName = toCamelCase(propertyName)\n    if (!this._usedStyleProp.has(propertyName)) {\n      return ''\n    }\n\n    const value = this[propertyName]\n    this[propertyName] = ''\n    this._usedStyleProp.delete(propertyName)\n    return value\n  }\n\n  public getPropertyValue (propertyName: string) {\n    propertyName = toCamelCase(propertyName)\n    const value = this[propertyName]\n    if (!value) {\n      return ''\n    }\n\n    return value\n  }\n}\n\ninitStyle(Style)\n","import { NodeType } from './node_types'\n\nimport type { TaroElement } from './element'\n\ntype Filter = (element: TaroElement) => boolean\n\nfunction returnTrue () {\n  return true\n}\n\nexport function treeToArray (root: TaroElement, predict?: Filter): TaroElement[] {\n  const array: TaroElement[] = []\n  const filter = predict ?? returnTrue\n\n  let object: TaroElement | null = root\n\n  while (object) {\n    if (object.nodeType === NodeType.ELEMENT_NODE && filter(object)) {\n      array.push(object)\n    }\n\n    object = following(object, root)\n  }\n\n  return array\n}\n\nfunction following (el: TaroElement, root: TaroElement): TaroElement | null {\n  const firstChild = el.firstChild\n\n  if (firstChild) {\n    return firstChild as TaroElement\n  }\n\n  let current: TaroElement | null = el\n\n  do {\n    if (current === root) {\n      return null\n    }\n\n    const nextSibling = current.nextSibling\n\n    if (nextSibling) {\n      return nextSibling as TaroElement\n    }\n    current = current.parentElement\n  } while (current)\n\n  return null\n}\n","import type { TaroElement } from './element'\n\nexport class ClassList extends Set<string> {\n  private el: TaroElement\n\n  constructor (className: string, el: TaroElement) {\n    super()\n    className.trim().split(/\\s+/).forEach(super.add.bind(this))\n    this.el = el\n  }\n\n  public get value () {\n    return [...this].join(' ')\n  }\n\n  public add (s: string) {\n    super.add(s)\n    this._update()\n\n    return this\n  }\n\n  public get length (): number {\n    return this.size\n  }\n\n  public remove (s: string) {\n    super.delete(s)\n    this._update()\n  }\n\n  public toggle (s: string) {\n    if (super.has(s)) {\n      super.delete(s)\n    } else {\n      super.add(s)\n    }\n\n    this._update()\n  }\n\n  public replace (s1: string, s2: string) {\n    super.delete(s1)\n    super.add(s2)\n\n    this._update()\n  }\n\n  public contains (s: string) {\n    return super.has(s)\n  }\n\n  public toString () {\n    return this.value\n  }\n\n  private _update () {\n    this.el.className = this.value\n  }\n}\n","import { inject, injectable } from 'inversify'\nimport { isArray, isUndefined, Shortcuts, EMPTY_OBJ, warn, isString, toCamelCase } from '@tarojs/shared'\nimport SERVICE_IDENTIFIER from '../constants/identifiers'\nimport { TaroNode } from './node'\nimport { NodeType } from './node_types'\nimport { eventSource } from './event-source'\nimport { isElement, isHasExtractProp, shortcutAttr } from '../utils'\nimport { Style } from './style'\nimport { treeToArray } from './tree'\nimport { ClassList } from './class-list'\nimport {\n  ID,\n  CLASS,\n  STYLE,\n  FOCUS,\n  VIEW,\n  STATIC_VIEW,\n  PURE_VIEW,\n  PROPERTY_THRESHOLD,\n  CATCHMOVE,\n  CATCH_VIEW\n} from '../constants'\n\nimport type { TaroEvent } from './event'\nimport type { Attributes, InstanceNamedFactory } from '../interface'\nimport type { TaroNodeImpl } from '../dom-external/node-impl'\nimport type { TaroElementImpl } from '../dom-external/element-impl'\nimport type { Hooks } from '../hooks'\n\n@injectable()\nexport class TaroElement extends TaroNode {\n  public tagName: string\n  public props: Record<string, any> = {}\n  public style: Style\n  public dataset: Record<string, unknown> = EMPTY_OBJ\n  public innerHTML: string\n\n  public constructor (// eslint-disable-next-line @typescript-eslint/indent\n    @inject(SERVICE_IDENTIFIER.TaroNodeImpl) nodeImpl: TaroNodeImpl,\n    @inject(SERVICE_IDENTIFIER.TaroElementFactory) getElement: InstanceNamedFactory,\n    @inject(SERVICE_IDENTIFIER.Hooks) hooks: Hooks,\n    @inject(SERVICE_IDENTIFIER.TaroElementImpl) elementImpl: TaroElementImpl\n  ) {\n    super(nodeImpl, getElement, hooks)\n    elementImpl.bind(this)\n    this.nodeType = NodeType.ELEMENT_NODE\n    this.style = new Style(this)\n    hooks.patchElement(this)\n  }\n\n  private _stopPropagation (event: TaroEvent) {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    let target = this\n    // eslint-disable-next-line no-cond-assign\n    while ((target = target.parentNode as this)) {\n      const listeners = target.__handlers[event.type]\n\n      if (!isArray(listeners)) {\n        continue\n      }\n\n      for (let i = listeners.length; i--;) {\n        const l = listeners[i]\n        l._stop = true\n      }\n    }\n  }\n\n  public get id (): string {\n    return this.getAttribute(ID)!\n  }\n\n  public set id (val: string) {\n    this.setAttribute(ID, val)\n  }\n\n  public get className (): string {\n    return this.getAttribute(CLASS) || ''\n  }\n\n  public set className (val: string) {\n    this.setAttribute(CLASS, val)\n  }\n\n  public get cssText (): string {\n    return this.getAttribute(STYLE) || ''\n  }\n\n  public get classList (): ClassList {\n    return new ClassList(this.className, this)\n  }\n\n  public get children (): TaroElement[] {\n    return this.childNodes.filter(isElement)\n  }\n\n  public get attributes (): Attributes[] {\n    const props = this.props\n    const propKeys = Object.keys(props)\n    const style = this.style.cssText\n    const attrs = propKeys.map(key => ({ name: key, value: props[key] }))\n    return attrs.concat(style ? { name: STYLE, value: style } : [])\n  }\n\n  public get textContent (): string {\n    let text = ''\n    const childNodes = this.childNodes\n\n    for (let i = 0; i < childNodes.length; i++) {\n      text += childNodes[i].textContent\n    }\n\n    return text\n  }\n\n  public set textContent (text: string) {\n    super.textContent = text\n  }\n\n  public hasAttribute (qualifiedName: string): boolean {\n    return !isUndefined(this.props[qualifiedName])\n  }\n\n  public hasAttributes (): boolean {\n    return this.attributes.length > 0\n  }\n\n  public focus () {\n    this.setAttribute(FOCUS, true)\n  }\n\n  public blur () {\n    this.setAttribute(FOCUS, false)\n  }\n\n  public setAttribute (qualifiedName: string, value: any): void {\n    process.env.NODE_ENV !== 'production' && warn(\n      isString(value) && value.length > PROPERTY_THRESHOLD,\n      `元素 ${this.nodeName} 的 属性 ${qualifiedName} 的值数据量过大，可能会影响渲染性能。考虑降低图片转为 base64 的阈值或在 CSS 中使用 base64。`\n    )\n\n    const isPureView = this.nodeName === VIEW && !isHasExtractProp(this) && !this.isAnyEventBinded()\n\n    switch (qualifiedName) {\n      case STYLE:\n        this.style.cssText = value as string\n        break\n      case ID:\n        eventSource.delete(this.uid)\n        value = String(value)\n        this.props[qualifiedName] = this.uid = value\n        eventSource.set(value, this)\n        break\n      default:\n        this.props[qualifiedName] = value as string\n\n        if (qualifiedName.startsWith('data-')) {\n          if (this.dataset === EMPTY_OBJ) {\n            this.dataset = Object.create(null)\n          }\n          this.dataset[toCamelCase(qualifiedName.replace(/^data-/, ''))] = value\n        }\n        break\n    }\n\n    qualifiedName = shortcutAttr(qualifiedName)\n\n    const payload = {\n      path: `${this._path}.${toCamelCase(qualifiedName)}`,\n      value\n    }\n\n    this.hooks.modifySetAttrPayload?.(this, qualifiedName, payload)\n\n    this.enqueueUpdate(payload)\n\n    if (this.nodeName === VIEW) {\n      if (toCamelCase(qualifiedName) === CATCHMOVE) {\n        // catchMove = true: catch-view\n        // catchMove = false: view or static-view\n        this.enqueueUpdate({\n          path: `${this._path}.${Shortcuts.NodeName}`,\n          value: value ? CATCH_VIEW : (\n            this.isAnyEventBinded() ? VIEW : STATIC_VIEW\n          )\n        })\n      } else if (isPureView && isHasExtractProp(this)) {\n        // pure-view => static-view\n        this.enqueueUpdate({\n          path: `${this._path}.${Shortcuts.NodeName}`,\n          value: STATIC_VIEW\n        })\n      }\n    }\n  }\n\n  public removeAttribute (qualifiedName: string) {\n    const isStaticView = this.nodeName === VIEW && isHasExtractProp(this) && !this.isAnyEventBinded()\n\n    if (qualifiedName === STYLE) {\n      this.style.cssText = ''\n    } else {\n      const isInterrupt = this.hooks.onRemoveAttribute?.(this, qualifiedName)\n      if (isInterrupt) {\n        return\n      }\n\n      if (!this.props.hasOwnProperty(qualifiedName)) {\n        return\n      }\n      delete this.props[qualifiedName]\n    }\n\n    qualifiedName = shortcutAttr(qualifiedName)\n\n    const payload = {\n      path: `${this._path}.${toCamelCase(qualifiedName)}`,\n      value: ''\n    }\n\n    this.hooks.modifyRmAttrPayload?.(this, qualifiedName, payload)\n\n    this.enqueueUpdate(payload)\n\n    if (this.nodeName === VIEW) {\n      if (toCamelCase(qualifiedName) === CATCHMOVE) {\n        // catch-view => view or static-view or pure-view\n        this.enqueueUpdate({\n          path: `${this._path}.${Shortcuts.NodeName}`,\n          value: this.isAnyEventBinded() ? VIEW : (isHasExtractProp(this) ? STATIC_VIEW : PURE_VIEW)\n        })\n      } else if (isStaticView && !isHasExtractProp(this)) {\n        // static-view => pure-view\n        this.enqueueUpdate({\n          path: `${this._path}.${Shortcuts.NodeName}`,\n          value: PURE_VIEW\n        })\n      }\n    }\n  }\n\n  public getAttribute (qualifiedName: string): string {\n    const attr = qualifiedName === STYLE ? this.style.cssText : this.props[qualifiedName]\n    return attr ?? ''\n  }\n\n  public getElementsByTagName (tagName: string): TaroElement[] {\n    return treeToArray(this, (el) => {\n      return el.nodeName === tagName || (tagName === '*' && this !== el)\n    })\n  }\n\n  public getElementsByClassName (className: string): TaroElement[] {\n    return treeToArray(this, (el) => {\n      const classList = el.classList\n      const classNames = className.trim().split(/\\s+/)\n      return classNames.every(c => classList.has(c))\n    })\n  }\n\n  public dispatchEvent (event: TaroEvent): boolean {\n    const cancelable = event.cancelable\n\n    const listeners = this.__handlers[event.type]\n\n    if (!isArray(listeners)) {\n      return false\n    }\n\n    for (let i = listeners.length; i--;) {\n      const listener = listeners[i]\n      let result: unknown\n      if (listener._stop) {\n        listener._stop = false\n      } else {\n        result = listener.call(this, event)\n      }\n      if ((result === false || event._end) && cancelable) {\n        event.defaultPrevented = true\n      }\n\n      if (event._end && event._stop) {\n        break\n      }\n    }\n\n    if (event._stop) {\n      this._stopPropagation(event)\n    } else {\n      event._stop = true\n    }\n\n    return listeners != null\n  }\n\n  public addEventListener (type, handler, options) {\n    const name = this.nodeName\n    const SPECIAL_NODES = this.hooks.getSpecialNodes()\n\n    if (!this.isAnyEventBinded() && SPECIAL_NODES.indexOf(name) > -1) {\n      this.enqueueUpdate({\n        path: `${this._path}.${Shortcuts.NodeName}`,\n        value: name\n      })\n    }\n\n    super.addEventListener(type, handler, options)\n  }\n\n  public removeEventListener (type, handler) {\n    super.removeEventListener(type, handler)\n\n    const name = this.nodeName\n    const SPECIAL_NODES = this.hooks.getSpecialNodes()\n\n    if (!this.isAnyEventBinded() && SPECIAL_NODES.indexOf(name) > -1) {\n      this.enqueueUpdate({\n        path: `${this._path}.${Shortcuts.NodeName}`,\n        value: isHasExtractProp(this) ? `static-${name}` : `pure-${name}`\n      })\n    }\n  }\n}\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nexport default isArray;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nexport default isSymbol;\n","import isArray from './isArray.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nexport default isKey;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n","import baseGetTag from './_baseGetTag.js';\nimport isObject from './isObject.js';\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nexport default isFunction;\n","import root from './_root.js';\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nexport default coreJsData;\n","import coreJsData from './_coreJsData.js';\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nexport default isMasked;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nexport default toSource;\n","import isFunction from './isFunction.js';\nimport isMasked from './_isMasked.js';\nimport isObject from './isObject.js';\nimport toSource from './_toSource.js';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nexport default baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nexport default getValue;\n","import baseIsNative from './_baseIsNative.js';\nimport getValue from './_getValue.js';\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nexport default getNative;\n","import getNative from './_getNative.js';\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nexport default nativeCreate;\n","import nativeCreate from './_nativeCreate.js';\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nexport default hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default hashDelete;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nexport default hashGet;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nexport default hashHas;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nexport default hashSet;\n","import hashClear from './_hashClear.js';\nimport hashDelete from './_hashDelete.js';\nimport hashGet from './_hashGet.js';\nimport hashHas from './_hashHas.js';\nimport hashSet from './_hashSet.js';\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nexport default Hash;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nexport default listCacheClear;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nexport default eq;\n","import eq from './eq.js';\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nexport default assocIndexOf;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nexport default listCacheDelete;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nexport default listCacheGet;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nexport default listCacheHas;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nexport default listCacheSet;\n","import listCacheClear from './_listCacheClear.js';\nimport listCacheDelete from './_listCacheDelete.js';\nimport listCacheGet from './_listCacheGet.js';\nimport listCacheHas from './_listCacheHas.js';\nimport listCacheSet from './_listCacheSet.js';\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nexport default ListCache;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nexport default Map;\n","import Hash from './_Hash.js';\nimport ListCache from './_ListCache.js';\nimport Map from './_Map.js';\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nexport default mapCacheClear;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nexport default isKeyable;\n","import isKeyable from './_isKeyable.js';\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nexport default getMapData;\n","import getMapData from './_getMapData.js';\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default mapCacheDelete;\n","import getMapData from './_getMapData.js';\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nexport default mapCacheGet;\n","import getMapData from './_getMapData.js';\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nexport default mapCacheHas;\n","import getMapData from './_getMapData.js';\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nexport default mapCacheSet;\n","import mapCacheClear from './_mapCacheClear.js';\nimport mapCacheDelete from './_mapCacheDelete.js';\nimport mapCacheGet from './_mapCacheGet.js';\nimport mapCacheHas from './_mapCacheHas.js';\nimport mapCacheSet from './_mapCacheSet.js';\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nexport default MapCache;\n","import MapCache from './_MapCache.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nexport default memoize;\n","import memoize from './memoize.js';\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nexport default memoizeCapped;\n","import memoizeCapped from './_memoizeCapped.js';\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nexport default stringToPath;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nexport default arrayMap;\n","import Symbol from './_Symbol.js';\nimport arrayMap from './_arrayMap.js';\nimport isArray from './isArray.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nexport default baseToString;\n","import baseToString from './_baseToString.js';\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nexport default toString;\n","import isArray from './isArray.js';\nimport isKey from './_isKey.js';\nimport stringToPath from './_stringToPath.js';\nimport toString from './toString.js';\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nexport default castPath;\n","import isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nexport default toKey;\n","import castPath from './_castPath.js';\nimport toKey from './_toKey.js';\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nexport default baseGet;\n","import baseGet from './_baseGet.js';\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nexport default get;\n","import type { Options } from './interface'\n\nexport const options: Options = {\n  prerender: true,\n  debug: false\n}\n","import { options } from './options'\n\nclass Performance {\n  private recorder = new Map<string, number>()\n\n  public start (id: string) {\n    if (!options.debug) {\n      return\n    }\n    this.recorder.set(id, Date.now())\n  }\n\n  public stop (id: string) {\n    if (!options.debug) {\n      return\n    }\n    const now = Date.now()\n    const prev = this.recorder.get(id)!\n    const time = now - prev\n    // eslint-disable-next-line no-console\n    console.log(`${id} 时长： ${time}ms`)\n  }\n}\n\nexport const perf = new Performance()\n","import { inject, injectable } from 'inversify'\nimport { isFunction, Shortcuts } from '@tarojs/shared'\nimport get from 'lodash-es/get'\nimport SERVICE_IDENTIFIER from '../constants/identifiers'\nimport { TaroElement } from './element'\nimport { incrementId } from '../utils'\nimport { perf } from '../perf'\nimport { options } from '../options'\nimport {\n  SET_DATA,\n  PAGE_INIT,\n  ROOT_STR,\n  CUSTOM_WRAPPER\n} from '../constants'\n\nimport type { Func, UpdatePayload, UpdatePayloadValue, InstanceNamedFactory, MpInstance, HydratedData } from '../interface'\nimport type { TaroNodeImpl } from '../dom-external/node-impl'\nimport type { TaroElementImpl } from '../dom-external/element-impl'\nimport type { Hooks } from '../hooks'\nimport type { Events } from '../emitter/emitter'\n\nconst eventIncrementId = incrementId()\n\n@injectable()\nexport class TaroRootElement extends TaroElement {\n  private pendingFlush = false\n\n  private updatePayloads: UpdatePayload[] = []\n\n  private updateCallbacks: Func[]= []\n\n  private eventCenter: Events\n\n  public pendingUpdate = false\n\n  public ctx: null | MpInstance = null\n\n  public constructor (// eslint-disable-next-line @typescript-eslint/indent\n    @inject(SERVICE_IDENTIFIER.TaroNodeImpl) nodeImpl: TaroNodeImpl,\n    @inject(SERVICE_IDENTIFIER.TaroElementFactory) getElement: InstanceNamedFactory,\n    @inject(SERVICE_IDENTIFIER.Hooks) hooks: Hooks,\n    @inject(SERVICE_IDENTIFIER.TaroElementImpl) elementImpl: TaroElementImpl,\n    @inject(SERVICE_IDENTIFIER.eventCenter) eventCenter: Events\n  ) {\n    super(nodeImpl, getElement, hooks, elementImpl)\n    this.nodeName = ROOT_STR\n    this.eventCenter = eventCenter\n  }\n\n  public get _path (): string {\n    return ROOT_STR\n  }\n\n  protected get _root (): TaroRootElement {\n    return this\n  }\n\n  public enqueueUpdate (payload: UpdatePayload): void {\n    this.updatePayloads.push(payload)\n\n    if (!this.pendingUpdate && this.ctx !== null) {\n      this.performUpdate()\n    }\n  }\n\n  public performUpdate (initRender = false, prerender?: Func) {\n    this.pendingUpdate = true\n\n    const ctx = this.ctx!\n\n    setTimeout(() => {\n      perf.start(SET_DATA)\n      const data: Record<string, UpdatePayloadValue | ReturnType<HydratedData>> = Object.create(null)\n      const resetPaths = new Set<string>(\n        initRender\n          ? ['root.cn.[0]', 'root.cn[0]']\n          : []\n      )\n\n      while (this.updatePayloads.length > 0) {\n        const { path, value } = this.updatePayloads.shift()!\n        if (path.endsWith(Shortcuts.Childnodes)) {\n          resetPaths.add(path)\n        }\n        data[path] = value\n      }\n\n      for (const path in data) {\n        resetPaths.forEach(p => {\n          // 已经重置了数组，就不需要分别再设置了\n          if (path.includes(p) && path !== p) {\n            delete data[path]\n          }\n        })\n\n        const value = data[path]\n        if (isFunction(value)) {\n          data[path] = value()\n        }\n      }\n\n      if (isFunction(prerender)) {\n        prerender(data)\n      } else {\n        this.pendingUpdate = false\n        const customWrapperUpdate: { ctx: any, data: Record<string, any> }[] = []\n        const customWrapperMap: Map<Record<any, any>, Record<string, any>> = new Map()\n        const normalUpdate = {}\n        if (!initRender) {\n          for (const p in data) {\n            const dataPathArr = p.split('.')\n            let hasCustomWrapper = false\n            for (let i = dataPathArr.length; i > 0; i--) {\n              const allPath = dataPathArr.slice(0, i).join('.')\n              const getData = get(ctx.__data__ || ctx.data, allPath)\n              if (getData && getData.nn && getData.nn === CUSTOM_WRAPPER) {\n                const customWrapperId = getData.uid\n                const customWrapper = ctx.selectComponent(`#${customWrapperId}`)\n                const splitedPath = dataPathArr.slice(i).join('.')\n                if (customWrapper) {\n                  hasCustomWrapper = true\n                  customWrapperMap.set(customWrapper, { ...(customWrapperMap.get(customWrapper) || {}), [`i.${splitedPath}`]: data[p] })\n                }\n                break\n              }\n            }\n            if (!hasCustomWrapper) {\n              normalUpdate[p] = data[p]\n            }\n          }\n          if (customWrapperMap.size > 0) {\n            customWrapperMap.forEach((data, ctx) => {\n              customWrapperUpdate.push({ ctx, data })\n            })\n          }\n        }\n        const updateArrLen = customWrapperUpdate.length\n        if (updateArrLen) {\n          const eventId = `${this._path}_update_${eventIncrementId()}`\n          const eventCenter = this.eventCenter\n          let executeTime = 0\n          eventCenter.once(eventId, () => {\n            executeTime++\n            if (executeTime === updateArrLen + 1) {\n              perf.stop(SET_DATA)\n              if (!this.pendingFlush) {\n                this.flushUpdateCallback()\n              }\n              if (initRender) {\n                perf.stop(PAGE_INIT)\n              }\n            }\n          }, eventCenter)\n          customWrapperUpdate.forEach(item => {\n            if (process.env.NODE_ENV !== 'production' && options.debug) {\n              // eslint-disable-next-line no-console\n              console.log('custom wrapper setData: ', item.data)\n            }\n            item.ctx.setData(item.data, () => {\n              eventCenter.trigger(eventId)\n            })\n          })\n          if (Object.keys(normalUpdate).length) {\n            if (process.env.NODE_ENV !== 'production' && options.debug) {\n              // eslint-disable-next-line no-console\n              console.log('setData:', normalUpdate)\n            }\n            ctx.setData(normalUpdate, () => {\n              eventCenter.trigger(eventId)\n            })\n          }\n        } else {\n          if (process.env.NODE_ENV !== 'production' && options.debug) {\n            // eslint-disable-next-line no-console\n            console.log('setData:', data)\n          }\n          ctx.setData(data, () => {\n            perf.stop(SET_DATA)\n            if (!this.pendingFlush) {\n              this.flushUpdateCallback()\n            }\n            if (initRender) {\n              perf.stop(PAGE_INIT)\n            }\n          })\n        }\n      }\n    }, 0)\n  }\n\n  public enqueueUpdateCallback (cb: Func, ctx?: Record<string, any>) {\n    this.updateCallbacks.push(() => {\n      ctx ? cb.call(ctx) : cb()\n    })\n  }\n\n  public flushUpdateCallback () {\n    this.pendingFlush = false\n    const copies = this.updateCallbacks.slice(0)\n    this.updateCallbacks.length = 0\n    for (let i = 0; i < copies.length; i++) {\n      copies[i]()\n    }\n  }\n}\n","import { TaroElement } from './element'\nimport {\n  VALUE,\n  INPUT,\n  CHANGE\n} from '../constants'\n\nimport type { TaroEvent } from './event'\n\nexport class FormElement extends TaroElement {\n  public get value () {\n    // eslint-disable-next-line dot-notation\n    const val = this.props[VALUE]\n    return val == null ? '' : val\n  }\n\n  public set value (val: string | boolean | number | any[]) {\n    this.setAttribute(VALUE, val)\n  }\n\n  public dispatchEvent (event: TaroEvent) {\n    if (event.mpEvent) {\n      const val = event.mpEvent.detail.value\n      if (event.type === CHANGE) {\n        this.props.value = val as string\n      } else if (event.type === INPUT) {\n        // Web 规范中表单组件的 value 应该跟着输入改变\n        // 只是改 this.props.value 的话不会进行 setData，因此这里修改 this.value。\n        // 只测试了 React、Vue、Vue3 input 组件的 onInput 事件，onChange 事件不确定有没有副作用，所以暂不修改。\n        this.value = val as string\n      }\n    }\n\n    return super.dispatchEvent(event)\n  }\n}\n","import { TaroElement } from './element'\n\n// for Vue3\nexport class SVGElement extends TaroElement {}\n","import { options } from '../../options'\n\ninterface Position {\n  index: number\n  column: number\n  line: number\n}\n\nexport interface Token {\n  type: string\n  content?: string\n  position?: {\n    start?: Position\n    end?: Position\n  }\n  close?: boolean\n}\n\nfunction initPosition (): Position {\n  return {\n    index: 0,\n    column: 0,\n    line: 0\n  }\n}\n\nfunction feedPosition (position: Position, str: string, len: number) {\n  const start = position.index\n  const end = position.index = start + len\n  for (let i = start; i < end; i++) {\n    const char = str.charAt(i)\n    if (char === '\\n') {\n      position.line++\n      position.column = 0\n    } else {\n      position.column++\n    }\n  }\n}\n\nfunction jumpPosition (position: Position, str: string, end: number) {\n  const len = end - position.index\n  return feedPosition(position, str, len)\n}\n\nfunction copyPosition (position: Position) {\n  return {\n    index: position.index,\n    line: position.line,\n    column: position.column\n  }\n}\n\nconst whitespace = /\\s/\nfunction isWhitespaceChar (char: string) {\n  return whitespace.test(char)\n}\n\nconst equalSign = /=/\nfunction isEqualSignChar (char: string) {\n  return equalSign.test(char)\n}\n\nfunction shouldBeIgnore (tagName: string) {\n  const name = tagName.toLowerCase()\n  if (options.html!.skipElements.has(name)) {\n    return true\n  }\n  return false\n}\n\nconst alphanumeric = /[A-Za-z0-9]/\n\nfunction findTextEnd (str: string, index: number) {\n  while (true) {\n    const textEnd = str.indexOf('<', index)\n    if (textEnd === -1) {\n      return textEnd\n    }\n    const char = str.charAt(textEnd + 1)\n    if (char === '/' || char === '!' || alphanumeric.test(char)) {\n      return textEnd\n    }\n    index = textEnd + 1\n  }\n}\n\nfunction isWordEnd (cursor: number, wordBegin: number, html: string) {\n  if (!isWhitespaceChar(html.charAt(cursor))) return false\n\n  const len = html.length\n\n  // backwrad\n  for (let i = cursor - 1; i > wordBegin; i--) {\n    const char = html.charAt(i)\n    if (!isWhitespaceChar(char)) {\n      if (isEqualSignChar(char)) return false\n      break\n    }\n  }\n\n  // forward\n  for (let i = cursor + 1; i < len; i++) {\n    const char = html.charAt(i)\n    if (!isWhitespaceChar(char)) {\n      if (isEqualSignChar(char)) return false\n      return true\n    }\n  }\n}\n\nexport class Scaner {\n  private tokens: Token[] = []\n\n  private position: Position = initPosition()\n\n  private html: string\n\n  constructor (html: string) {\n    this.html = html\n  }\n\n  public scan (): Token[] {\n    const { html, position } = this\n    const len = html.length\n\n    while (position.index < len) {\n      const start = position.index\n      this.scanText()\n      if (position.index === start) {\n        const isComment = html.startsWith('!--', start + 1)\n        if (isComment) {\n          this.scanComment()\n        } else {\n          const tagName = this.scanTag()\n          if (shouldBeIgnore(tagName)) {\n            this.scanSkipTag(tagName)\n          }\n        }\n      }\n    }\n\n    return this.tokens\n  }\n\n  private scanText () {\n    const type = 'text'\n    const { html, position } = this\n    let textEnd = findTextEnd(html, position.index)\n    if (textEnd === position.index) {\n      return\n    }\n    if (textEnd === -1) {\n      textEnd = html.length\n    }\n\n    const start = copyPosition(position)\n    const content = html.slice(position.index, textEnd)\n    jumpPosition(position, html, textEnd)\n    const end = copyPosition(position)\n    this.tokens.push({ type, content, position: { start, end } })\n  }\n\n  private scanComment () {\n    const type = 'comment'\n    const { html, position } = this\n    const start = copyPosition(position)\n    feedPosition(position, html, 4) // \"<!--\".length\n    let contentEnd = html.indexOf('-->', position.index)\n    let commentEnd = contentEnd + 3 // \"-->\".length\n    if (contentEnd === -1) {\n      contentEnd = commentEnd = html.length\n    }\n\n    const content = html.slice(position.index, contentEnd)\n    jumpPosition(position, html, commentEnd)\n    this.tokens.push({\n      type,\n      content,\n      position: {\n        start,\n        end: copyPosition(position)\n      }\n    })\n  }\n\n  private scanTag () {\n    this.scanTagStart()\n    const tagName = this.scanTagName()\n    this.scanAttrs()\n    this.scanTagEnd()\n\n    return tagName\n  }\n\n  private scanTagStart () {\n    const type = 'tag-start'\n    const { html, position } = this\n\n    const secondChar = html.charAt(position.index + 1)\n    const close = secondChar === '/'\n    const start = copyPosition(position)\n    feedPosition(position, html, close ? 2 : 1)\n    this.tokens.push({ type, close, position: { start } })\n  }\n\n  private scanTagEnd () {\n    const type = 'tag-end'\n    const { html, position } = this\n\n    const firstChar = html.charAt(position.index)\n    const close = firstChar === '/'\n    feedPosition(position, html, close ? 2 : 1)\n    const end = copyPosition(position)\n    this.tokens.push({ type, close, position: { end } })\n  }\n\n  private scanTagName (): string {\n    const type = 'tag'\n    const { html, position } = this\n    const len = html.length\n    let start = position.index\n    while (start < len) {\n      const char = html.charAt(start)\n      const isTagChar = !(isWhitespaceChar(char) || char === '/' || char === '>')\n      if (isTagChar) break\n      start++\n    }\n\n    let end = start + 1\n    while (end < len) {\n      const char = html.charAt(end)\n      const isTagChar = !(isWhitespaceChar(char) || char === '/' || char === '>')\n      if (!isTagChar) break\n      end++\n    }\n\n    jumpPosition(position, html, end)\n    const tagName = html.slice(start, end)\n    this.tokens.push({\n      type,\n      content: tagName\n    })\n\n    return tagName\n  }\n\n  private scanAttrs () {\n    const { html, position, tokens } = this\n    let cursor = position.index\n    let quote: string | null = null // null, single-, or double-quote\n    let wordBegin = cursor // index of word start\n    const words: string[] = [] // \"key\", \"key=value\", \"key='value'\", etc\n    const len = html.length\n    while (cursor < len) {\n      const char = html.charAt(cursor)\n      if (quote) {\n        const isQuoteEnd = char === quote\n        if (isQuoteEnd) {\n          quote = null\n        }\n        cursor++\n        continue\n      }\n\n      const isTagEnd = char === '/' || char === '>'\n      if (isTagEnd) {\n        if (cursor !== wordBegin) {\n          words.push(html.slice(wordBegin, cursor))\n        }\n        break\n      }\n\n      if (isWordEnd(cursor, wordBegin, html)) {\n        if (cursor !== wordBegin) {\n          words.push(html.slice(wordBegin, cursor))\n        }\n        wordBegin = cursor + 1\n        cursor++\n        continue\n      }\n\n      const isQuoteStart = char === '\\'' || char === '\"'\n      if (isQuoteStart) {\n        quote = char\n        cursor++\n        continue\n      }\n\n      cursor++\n    }\n\n    jumpPosition(position, html, cursor)\n\n    const wLen = words.length\n    const type = 'attribute'\n    for (let i = 0; i < wLen; i++) {\n      const word = words[i]\n      const isNotPair = word.includes('=')\n      if (isNotPair) {\n        const secondWord = words[i + 1]\n        if (secondWord && secondWord.startsWith('=')) {\n          if (secondWord.length > 1) {\n            const newWord = word + secondWord\n            tokens.push({ type, content: newWord })\n            i += 1\n            continue\n          }\n          const thirdWord = words[i + 2]\n          i += 1\n          if (thirdWord) {\n            const newWord = word + '=' + thirdWord\n            tokens.push({ type, content: newWord })\n            i += 1\n            continue\n          }\n        }\n      }\n      if (word.endsWith('=')) {\n        const secondWord = words[i + 1]\n        if (secondWord && !secondWord.includes('=')) {\n          const newWord = word + secondWord\n          tokens.push({ type, content: newWord })\n          i += 1\n          continue\n        }\n\n        const newWord = word.slice(0, -1)\n        tokens.push({ type, content: newWord })\n        continue\n      }\n\n      tokens.push({ type, content: word })\n    }\n  }\n\n  private scanSkipTag (tagName: string) {\n    const { html, position } = this\n    const safeTagName = tagName.toLowerCase()\n    const len = html.length\n    while (position.index < len) {\n      const nextTag = html.indexOf('</', position.index)\n      if (nextTag === -1) {\n        this.scanText()\n        break\n      }\n\n      jumpPosition(position, html, nextTag)\n      const name = this.scanTag()\n      if (safeTagName === name.toLowerCase()) {\n        break\n      }\n    }\n  }\n}\n","import { internalComponents } from '@tarojs/shared'\n\nexport function makeMap (\n  str: string,\n  expectsLowerCase?: boolean\n): (key: string) => boolean {\n  const map: Record<string, boolean> = Object.create(null)\n  const list: Array<string> = str.split(',')\n  for (let i = 0; i < list.length; i++) {\n    map[list[i]] = true\n  }\n  return expectsLowerCase ? val => !!map[val.toLowerCase()] : val => !!map[val]\n}\n\nexport const specialMiniElements = {\n  img: 'image',\n  iframe: 'web-view'\n}\n\nconst internalCompsList = Object.keys(internalComponents)\n  .map(i => i.toLowerCase())\n  .join(',')\n\n// https://developers.weixin.qq.com/miniprogram/dev/component\nexport const isMiniElements = makeMap(internalCompsList, true)\n\n// https://developer.mozilla.org/en-US/docs/Web/HTML/Inline_elements\nexport const isInlineElements = makeMap('a,i,abbr,iframe,select,acronym,slot,small,span,bdi,kbd,strong,big,map,sub,sup,br,mark,mark,meter,template,canvas,textarea,cite,object,time,code,output,u,data,picture,tt,datalist,var,dfn,del,q,em,s,embed,samp,b', true)\n\n// https://developer.mozilla.org/en-US/docs/Web/HTML/Block-level_elements\nexport const isBlockElements = makeMap('address,fieldset,li,article,figcaption,main,aside,figure,nav,blockquote,footer,ol,details,form,p,dialog,h1,h2,h3,h4,h5,h6,pre,dd,header,section,div,hgroup,table,dl,hr,ul,dt', true)\n","export function unquote (str: string): string {\n  const car = str.charAt(0)\n  const end = str.length - 1\n  const isQuoteStart = car === '\"' || car === \"'\"\n  if (isQuoteStart && car === str.charAt(end)) {\n    return str.slice(1, end)\n  }\n  return str\n}\n","import { NodeType } from '../../dom/node_types'\nimport { unquote } from './utils'\n\nimport type { TaroNode } from '../../dom/node'\nimport type { ParsedTaroElement } from './parser'\n\nconst LEFT_BRACKET = '{'\nconst RIGHT_BRACKET = '}'\nconst CLASS_SELECTOR = '.'\nconst ID_SELECTOR = '#'\nconst CHILD_COMBINATOR = '>'\nconst GENERAL_SIBLING_COMBINATOR = '~'\nconst ADJACENT_SIBLING_COMBINATOR = '+'\n\ninterface ISelector {\n  isChild: boolean\n  isGeneralSibling: boolean\n  isAdjacentSibling: boolean\n  tag: string | null\n  id: string | null\n  class: string[]\n  attrs: {\n    all: boolean\n    key: string\n    value?: string | null\n  }[]\n}\n\ninterface IStyle {\n  content: string\n  selectorList: ISelector[]\n}\n\nexport default class StyleTagParser {\n  styles: IStyle[]= []\n\n  extractStyle (src: string) {\n    const REG_STYLE = /<style\\s?[^>]*>((.|\\n|\\s)+?)<\\/style>/g\n    let html = src\n    // let html = src.replace(/\\n/g, '')\n\n    html = html.replace(REG_STYLE, (_, $1: string) => {\n      const style = $1.trim()\n      this.stringToSelector(style)\n      return ''\n    })\n\n    return html.trim()\n  }\n\n  stringToSelector (style: string) {\n    let lb = style.indexOf(LEFT_BRACKET)\n\n    while (lb > -1) {\n      const rb = style.indexOf(RIGHT_BRACKET)\n      const selectors = style.slice(0, lb).trim()\n\n      let content = style.slice(lb + 1, rb)\n      content = content.replace(/:(.*);/g, function (_, $1) {\n        const t = $1.trim().replace(/ +/g, '+++')\n        return `:${t};`\n      })\n      content = content.replace(/ /g, '')\n      content = content.replace(/\\+\\+\\+/g, ' ')\n\n      if (!(/;$/.test(content))) {\n        content += ';'\n      }\n      selectors.split(',').forEach(src => {\n        const selectorList = this.parseSelector(src)\n        this.styles.push({\n          content,\n          selectorList\n        })\n      })\n      style = style.slice(rb + 1)\n      lb = style.indexOf(LEFT_BRACKET)\n    }\n    // console.log('res this.styles: ', this.styles)\n  }\n\n  parseSelector (src: string) {\n    // todo: 属性选择器里可以带空格：[a = \"b\"]，这里的 split(' ') 需要作兼容\n    const list = src.trim().replace(/ *([>~+]) */g, ' $1').replace(/ +/g, ' ').split(' ')\n    const selectors = list.map(item => {\n      const firstChar = item.charAt(0)\n      const selector: ISelector = {\n        isChild: firstChar === CHILD_COMBINATOR,\n        isGeneralSibling: firstChar === GENERAL_SIBLING_COMBINATOR,\n        isAdjacentSibling: firstChar === ADJACENT_SIBLING_COMBINATOR,\n        tag: null,\n        id: null,\n        class: [],\n        attrs: []\n      }\n\n      item = item.replace(/^[>~+]/, '')\n\n      // 属性选择器\n      item = item.replace(/\\[(.+?)\\]/g, function (_, $1: string) {\n        const [key, value] = $1.split('=')\n        const all = $1.indexOf('=') === -1\n\n        const attr = {\n          all,\n          key,\n          value: all ? null : value\n        }\n        selector.attrs.push(attr)\n        return ''\n      })\n\n      item = item.replace(/([.#][A-Za-z0-9-_]+)/g, function (_, $1: string) {\n        if ($1[0] === ID_SELECTOR) {\n          // id 选择器\n          selector.id = $1.substr(1)\n        } else if ($1[0] === CLASS_SELECTOR) {\n          // class 选择器\n          selector.class.push($1.substr(1))\n        }\n        return ''\n      })\n\n      // 标签选择器\n      if (item !== '') {\n        selector.tag = item\n      }\n\n      return selector\n    })\n    return selectors\n  }\n\n  matchStyle (tagName: string, el: ParsedTaroElement, list: number[]): string {\n    const res = sortStyles(this.styles).reduce((str, { content, selectorList }, i) => {\n      let idx = list[i]\n      let selector = selectorList[idx]\n      const nextSelector = selectorList[idx + 1]\n\n      if (nextSelector?.isGeneralSibling || nextSelector?.isAdjacentSibling) {\n        selector = nextSelector\n        idx += 1\n        list[i] += 1\n      }\n\n      let isMatch = this.matchCurrent(tagName, el, selector)\n\n      if (isMatch && selector.isGeneralSibling) {\n        let prev: ParsedTaroElement = getPreviousElement(el)\n        while (prev) {\n          if (prev.h5tagName && this.matchCurrent(prev.h5tagName, prev, selectorList[idx - 1])) {\n            isMatch = true\n            break\n          }\n          prev = getPreviousElement(prev)\n          isMatch = false\n        }\n      }\n      if (isMatch && selector.isAdjacentSibling) {\n        const prev: ParsedTaroElement = getPreviousElement(el)\n        if (!prev || !prev.h5tagName) {\n          isMatch = false\n        } else {\n          const isSiblingMatch = this.matchCurrent(prev.h5tagName, prev, selectorList[idx - 1])\n          if (!isSiblingMatch) {\n            isMatch = false\n          }\n        }\n      }\n\n      if (isMatch) {\n        if (idx === selectorList.length - 1) {\n          return str + content\n        } else if (idx < selectorList.length - 1) {\n          list[i] += 1\n        }\n      } else {\n        // 直接子代组合器: >\n        if (selector.isChild && idx > 0) {\n          list[i] -= 1\n          if (this.matchCurrent(tagName, el, selectorList[list[i]])) {\n            list[i] += 1\n          }\n        }\n      }\n\n      return str\n    }, '')\n    return res\n  }\n\n  matchCurrent (tagName: string, el: ParsedTaroElement, selector: ISelector): boolean {\n    // 标签选择器\n    if (selector.tag && selector.tag !== tagName) return false\n\n    // id 选择器\n    if (selector.id && selector.id !== el.id) return false\n\n    // class 选择器\n    if (selector.class.length) {\n      const classList = el.className.split(' ')\n      for (let i = 0; i < selector.class.length; i++) {\n        const cls = selector.class[i]\n        if (classList.indexOf(cls) === -1) {\n          return false\n        }\n      }\n    }\n\n    // 属性选择器\n    if (selector.attrs.length) {\n      for (let i = 0; i < selector.attrs.length; i++) {\n        const { all, key, value } = selector.attrs[i]\n        if (all && !el.hasAttribute(key)) {\n          return false\n        } else {\n          const attr = el.getAttribute(key)\n          if (attr !== unquote(value || '')) {\n            return false\n          }\n        }\n      }\n    }\n\n    return true\n  }\n}\n\nfunction getPreviousElement (el: TaroNode) {\n  const parent = el.parentElement\n  if (!parent) return null\n\n  const prev = el.previousSibling\n  if (!prev) return null\n\n  if (prev.nodeType === NodeType.ELEMENT_NODE) {\n    return prev\n  } else {\n    return getPreviousElement(prev)\n  }\n}\n\n// 根据 css selector 权重排序: 权重大的靠后\n// @WARN 不考虑伪类\n// https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/Cascade_and_inheritance#specificity_2\nfunction sortStyles (styles: IStyle[]) {\n  return styles.sort((s1, s2) => {\n    const hundreds1 = getHundredsWeight(s1.selectorList)\n    const hundreds2 = getHundredsWeight(s2.selectorList)\n\n    if (hundreds1 !== hundreds2) return hundreds1 - hundreds2\n\n    const tens1 = getTensWeight(s1.selectorList)\n    const tens2 = getTensWeight(s2.selectorList)\n\n    if (tens1 !== tens2) return tens1 - tens2\n\n    const ones1 = getOnesWeight(s1.selectorList)\n    const ones2 = getOnesWeight(s2.selectorList)\n\n    return ones1 - ones2\n  })\n}\n\nfunction getHundredsWeight (selectors: ISelector[]) {\n  return selectors.reduce((pre, cur) => pre + (cur.id ? 1 : 0), 0)\n}\n\nfunction getTensWeight (selectors: ISelector[]) {\n  return selectors.reduce((pre, cur) => pre + cur.class.length + cur.attrs.length, 0)\n}\n\nfunction getOnesWeight (selectors: ISelector[]) {\n  return selectors.reduce((pre, cur) => pre + (cur.tag ? 1 : 0), 0)\n}\n","import { isFunction } from '@tarojs/shared'\nimport { Scaner, Token } from './scaner'\nimport { options } from '../../options'\nimport { specialMiniElements, isMiniElements, isBlockElements, isInlineElements } from './tags'\nimport StyleTagParser from './style'\nimport { unquote } from './utils'\n\nimport type { TaroElement } from '../../dom/element'\nimport type { TaroDocument } from '../../dom/document'\n\ninterface State {\n  tokens: Token[]\n  cursor: number\n  stack: Element[]\n}\n\nconst closingTagAncestorBreakers = {\n  li: ['ul', 'ol', 'menu'],\n  dt: ['dl'],\n  dd: ['dl'],\n  tbody: ['table'],\n  thead: ['table'],\n  tfoot: ['table'],\n  tr: ['table'],\n  td: ['table']\n}\n\ninterface Node {\n  type: string;\n}\n\ninterface Comment extends Node {\n  type: 'comment'\n  content: string\n}\n\nexport interface Text extends Node {\n  type: 'text'\n  content: string\n}\n\nexport interface Element extends Node {\n  type: 'element'\n  tagName: string\n  children: ChildNode[]\n  attributes: string[]\n}\n\nexport interface ParsedTaroElement extends TaroElement{\n  h5tagName?: string\n}\n\ntype ChildNode = Comment | Text | Element\n\nfunction hasTerminalParent (tagName: string, stack: Element[]) {\n  const tagParents: undefined | string[] = closingTagAncestorBreakers[tagName]\n  if (tagParents) {\n    let currentIndex = stack.length - 1\n    while (currentIndex >= 0) {\n      const parentTagName = stack[currentIndex].tagName\n      if (parentTagName === tagName) {\n        break\n      }\n      if (tagParents && tagParents.includes(parentTagName!)) {\n        return true\n      }\n      currentIndex--\n    }\n  }\n  return false\n}\n\nfunction getTagName (tag: string) {\n  if (options.html!.renderHTMLTag) {\n    return tag\n  }\n\n  if (specialMiniElements[tag]) {\n    return specialMiniElements[tag]\n  } else if (isMiniElements(tag)) {\n    return tag\n  } else if (isBlockElements(tag)) {\n    return 'view'\n  } else if (isInlineElements(tag)) {\n    return 'text'\n  }\n\n  return 'view'\n}\n\nfunction splitEqual (str: string) {\n  const sep = '='\n  const idx = str.indexOf(sep)\n  if (idx === -1) return [str]\n  const key = str.slice(0, idx).trim()\n  const value = str.slice(idx + sep.length).trim()\n  return [key, value]\n}\n\nfunction format (\n  children: ChildNode[],\n  document: TaroDocument,\n  styleOptions: {\n    styleTagParser: StyleTagParser\n    descendantList: number[]\n  },\n  parent?: TaroElement\n) {\n  return children\n    .filter(child => {\n      // 过滤注释和空文本节点\n      if (child.type === 'comment') {\n        return false\n      } else if (child.type === 'text') {\n        return child.content !== ''\n      }\n      return true\n    })\n    .map((child: Text | Element) => {\n      // 文本节点\n      if (child.type === 'text') {\n        const text = document.createTextNode(child.content)\n        if (isFunction(options.html!.transformText)) {\n          return options.html!.transformText(text, child)\n        }\n        parent?.appendChild(text)\n        return text\n      }\n\n      const el: ParsedTaroElement = document.createElement(getTagName(child.tagName))\n      el.h5tagName = child.tagName\n\n      parent?.appendChild(el)\n\n      if (!options.html!.renderHTMLTag) {\n        el.className = `h5-${child.tagName}`\n      }\n\n      for (let i = 0; i < child.attributes.length; i++) {\n        const attr = child.attributes[i]\n        const [key, value] = splitEqual(attr)\n        if (key === 'class') {\n          el.className += ' ' + unquote(value)\n        } else if (key[0] === 'o' && key[1] === 'n') {\n          continue\n        } else {\n          el.setAttribute(key, value == null ? true : unquote(value))\n        }\n      }\n\n      const { styleTagParser, descendantList } = styleOptions\n      const list = descendantList.slice()\n      const style = styleTagParser.matchStyle(child.tagName, el, list)\n\n      el.setAttribute('style', style + el.style.cssText)\n      // console.log('style, ', style)\n\n      format(child.children, document, {\n        styleTagParser,\n        descendantList: list\n      }, el)\n\n      if (isFunction(options.html!.transformElement)) {\n        return options.html!.transformElement(el, child)\n      }\n\n      return el\n    })\n}\n\nexport function parser (html: string, document: TaroDocument) {\n  const styleTagParser = new StyleTagParser()\n  html = styleTagParser.extractStyle(html)\n\n  const tokens = new Scaner(html).scan()\n\n  const root: Element = { tagName: '', children: [], type: 'element', attributes: [] }\n\n  const state = { tokens, options, cursor: 0, stack: [root] }\n  parse(state)\n\n  return format(root.children, document, {\n    styleTagParser,\n    descendantList: Array(styleTagParser.styles.length).fill(0)\n  })\n}\n\nfunction parse (state: State) {\n  const { tokens, stack } = state\n  let { cursor } = state\n\n  const len = tokens.length\n\n  let nodes = stack[stack.length - 1].children\n\n  while (cursor < len) {\n    const token = tokens[cursor]\n    if (token.type !== 'tag-start') {\n      // comment or text\n      nodes.push(token as ChildNode)\n      cursor++\n      continue\n    }\n\n    const tagToken = tokens[++cursor]\n    cursor++\n    const tagName = tagToken.content!.toLowerCase()\n    if (token.close) {\n      let index = stack.length\n      let shouldRewind = false\n      while (--index > -1) {\n        if (stack[index].tagName === tagName) {\n          shouldRewind = true\n          break\n        }\n      }\n      while (cursor < len) {\n        const endToken = tokens[cursor]\n        if (endToken.type !== 'tag-end') break\n        cursor++\n      }\n      if (shouldRewind) {\n        stack.splice(index)\n        break\n      } else {\n        continue\n      }\n    }\n\n    const isClosingTag = options.html!.closingElements.has(tagName)\n    let shouldRewindToAutoClose = isClosingTag\n    if (shouldRewindToAutoClose) {\n      shouldRewindToAutoClose = !hasTerminalParent(tagName, stack)\n    }\n\n    if (shouldRewindToAutoClose) {\n      let currentIndex = stack.length - 1\n      while (currentIndex > 0) {\n        if (tagName === stack[currentIndex].tagName) {\n          stack.splice(currentIndex)\n          const previousIndex = currentIndex - 1\n          nodes = stack[previousIndex].children\n          break\n        }\n        currentIndex = currentIndex - 1\n      }\n    }\n\n    const attributes: string[] = []\n    let attrToken: Token\n    while (cursor < len) {\n      attrToken = tokens[cursor]\n      if (attrToken.type === 'tag-end') break\n      attributes.push(attrToken.content!)\n      cursor++\n    }\n\n    cursor++\n    const children: Element[] = []\n    const element: Element = {\n      type: 'element',\n      tagName: tagToken.content!,\n      attributes,\n      children\n    }\n    nodes.push(element)\n\n    const hasChildren = !(attrToken!.close || options.html!.voidElements.has(tagName))\n    if (hasChildren) {\n      stack.push({ tagName, children } as any)\n      const innerState: State = { tokens, cursor, stack }\n      parse(innerState)\n      cursor = innerState.cursor\n    }\n  }\n\n  state.cursor = cursor\n}\n","import { parser } from './parser'\nimport { options } from '../../options'\n\nimport type { TaroNode } from '../../dom/node'\nimport type { TaroDocument } from '../../dom/document'\n\noptions.html = {\n  skipElements: new Set(['style', 'script']),\n  voidElements: new Set([\n    '!doctype', 'area', 'base', 'br', 'col', 'command',\n    'embed', 'hr', 'img', 'input', 'keygen', 'link',\n    'meta', 'param', 'source', 'track', 'wbr'\n  ]),\n  closingElements: new Set([\n    'html', 'head', 'body', 'p', 'dt', 'dd', 'li', 'option',\n    'thead', 'th', 'tbody', 'tr', 'td', 'tfoot', 'colgroup'\n  ]),\n  renderHTMLTag: false\n}\n\nexport function setInnerHTML (element: TaroNode, html: string, getDoc: () => TaroDocument) {\n  while (element.firstChild) {\n    element.removeChild(element.firstChild)\n  }\n  const children = parser(html, getDoc())\n\n  for (let i = 0; i < children.length; i++) {\n    element.appendChild(children[i])\n  }\n}\n","import {\n  STYLE,\n  DATASET,\n  PROPS,\n  OBJECT\n} from '../constants'\nimport { parser } from '../dom-external/inner-html/parser'\nimport { GetDoc } from '../interface'\nimport { NodeType } from '../dom/node_types'\n\nimport type { Ctx } from '../interface'\n\nexport type IPosition = 'beforebegin' | 'afterbegin' | 'beforeend' | 'afterend'\n\n/**\n * An implementation of `Element.insertAdjacentHTML()`\n * to support Vue 3 with a version of or greater than `vue@3.1.2`\n */\nexport function insertAdjacentHTMLImpl (\n  position: IPosition,\n  html: string,\n  getDoc: GetDoc\n) {\n  const parsedNodes = parser(html, getDoc())\n\n  for (let i = 0; i < parsedNodes.length; i++) {\n    const n = parsedNodes[i]\n\n    switch (position) {\n      case 'beforebegin':\n        this.parentNode?.insertBefore(n, this)\n        break\n      case 'afterbegin':\n        if (this.hasChildNodes()) {\n          this.insertBefore(n, this.childNodes[0])\n        } else {\n          this.appendChild(n)\n        }\n        break\n      case 'beforeend':\n        this.appendChild(n)\n        break\n      case 'afterend':\n        this.parentNode?.appendChild(n)\n        break\n    }\n  }\n}\n\nexport function cloneNode (ctx: Ctx, getDoc, isDeep = false) {\n  const document = getDoc()\n  let newNode\n\n  if (ctx.nodeType === NodeType.ELEMENT_NODE) {\n    newNode = document.createElement(ctx.nodeName)\n  } else if (ctx.nodeType === NodeType.TEXT_NODE) {\n    newNode = document.createTextNode('')\n  }\n\n  for (const key in this) {\n    const value: any = this[key]\n    if ([PROPS, DATASET].includes(key) && typeof value === OBJECT) {\n      newNode[key] = { ...value }\n    } else if (key === '_value') {\n      newNode[key] = value\n    } else if (key === STYLE) {\n      newNode.style._value = { ...value._value }\n      newNode.style._usedStyleProp = new Set(Array.from(value._usedStyleProp))\n    }\n  }\n\n  if (isDeep) {\n    newNode.childNodes = ctx.childNodes.map(node => node.cloneNode(true))\n  }\n\n  return newNode\n}\n","import { inject, injectable } from 'inversify'\nimport SERVICE_IDENTIFIER from '../constants/identifiers'\nimport { ElementNames, InstanceNamedFactory } from '../interface'\nimport { setInnerHTML } from '../dom-external/inner-html/html'\nimport { cloneNode, insertAdjacentHTMLImpl } from './node'\n\nimport type { Ctx, GetDoc } from '../interface'\nimport type { TaroDocument } from '../dom/document'\nimport type { IPosition } from './node'\n\ndeclare const ENABLE_INNER_HTML: boolean\ndeclare const ENABLE_ADJACENT_HTML: boolean\ndeclare const ENABLE_CLONE_NODE: boolean\n\n@injectable()\nexport class TaroNodeImpl {\n  public getDoc: GetDoc\n\n  constructor (// eslint-disable-next-line @typescript-eslint/indent\n    @inject(SERVICE_IDENTIFIER.TaroElementFactory) getElement: InstanceNamedFactory\n  ) {\n    this.getDoc = () => getElement<TaroDocument>(ElementNames.Document)()\n  }\n\n  public bind (ctx: Ctx) {\n    const getDoc = this.getDoc\n\n    if (ENABLE_INNER_HTML) {\n      bindInnerHTML(ctx, getDoc)\n      if (ENABLE_ADJACENT_HTML) {\n        bindAdjacentHTML(ctx, getDoc)\n      }\n    }\n    if (ENABLE_CLONE_NODE) {\n      ctx.cloneNode = cloneNode.bind(ctx, ctx, getDoc)\n    }\n  }\n}\n\nfunction bindInnerHTML (ctx, getDoc) {\n  Object.defineProperty(ctx, 'innerHTML', {\n    configurable: true,\n    enumerable: true,\n    set (html: string) {\n      setInnerHTML.call(ctx, ctx, html, getDoc)\n    },\n    get (): string {\n      return ''\n    }\n  })\n}\n\nfunction bindAdjacentHTML (ctx, getDoc) {\n  ctx.insertAdjacentHTML = function (position: IPosition, html: string) {\n    insertAdjacentHTMLImpl.call(ctx, position, html, getDoc)\n  }\n}\n","import { options } from '../options'\nimport { ElementNames } from '../interface'\nimport { DOCUMENT_FRAGMENT } from '../constants'\n\nimport type { Ctx } from '../interface'\n\nexport function getBoundingClientRectImpl (): Promise<null> {\n  if (!options.miniGlobal) return Promise.resolve(null)\n  return new Promise(resolve => {\n    const query = options.miniGlobal.createSelectorQuery()\n    query.select(`#${this.uid}`).boundingClientRect(res => {\n      resolve(res)\n    }).exec()\n  })\n}\n\nexport function getTemplateContent (ctx: Ctx): string | undefined {\n  if (ctx.nodeName === 'template') {\n    const content = ctx._getElement(ElementNames.Element)(DOCUMENT_FRAGMENT)\n    content.childNodes = ctx.childNodes\n    ctx.childNodes = [content]\n    content.parentNode = ctx\n    content.childNodes.forEach(nodes => {\n      nodes.parentNode = content\n    })\n    return content\n  }\n}\n","import { injectable } from 'inversify'\nimport { getBoundingClientRectImpl, getTemplateContent } from './element'\n\nimport type { Ctx } from '../interface'\n\ndeclare const ENABLE_SIZE_APIS: boolean\ndeclare const ENABLE_TEMPLATE_CONTENT: boolean\n\n@injectable()\nexport class TaroElementImpl {\n  bind (ctx: Ctx) {\n    if (ENABLE_SIZE_APIS) {\n      ctx.getBoundingClientRect = async function (...args: any[]) {\n        return await getBoundingClientRectImpl.apply(ctx, args)\n      }\n    }\n    if (ENABLE_TEMPLATE_CONTENT) {\n      bindContent(ctx)\n    }\n  }\n}\n\nfunction bindContent (ctx: Ctx) {\n  Object.defineProperty(ctx, 'content', {\n    configurable: true,\n    enumerable: true,\n    get () {\n      return getTemplateContent(ctx)\n    }\n  })\n}\n","import { inject, injectable } from 'inversify'\nimport { controlledComponent, isUndefined } from '@tarojs/shared'\nimport SERVICE_IDENTIFIER from '../constants/identifiers'\nimport { TaroElement } from '../dom/element'\nimport { NodeType } from '../dom/node_types'\nimport { eventSource } from '../dom/event-source'\nimport { ElementNames, InstanceFactory, InstanceNamedFactory } from '../interface'\nimport {\n  ROOT_STR,\n  DOCUMENT_ELEMENT_NAME,\n  COMMENT\n} from '../constants'\n\nimport type { FormElement } from '../dom/form'\nimport type { TaroRootElement } from '../dom/root'\nimport type { TaroText } from '../dom/text'\nimport type { TaroNodeImpl } from '../dom-external/node-impl'\nimport type { TaroElementImpl } from '../dom-external/element-impl'\nimport type { Hooks } from '../hooks'\n\n@injectable()\nexport class TaroDocument extends TaroElement {\n  private _getText: InstanceFactory<TaroText>\n\n  public constructor (// eslint-disable-next-line @typescript-eslint/indent\n    @inject(SERVICE_IDENTIFIER.TaroNodeImpl) nodeImpl: TaroNodeImpl,\n    @inject(SERVICE_IDENTIFIER.TaroElementFactory) getElement: InstanceNamedFactory,\n    @inject(SERVICE_IDENTIFIER.Hooks) hooks: Hooks,\n    @inject(SERVICE_IDENTIFIER.TaroElementImpl) elementImpl: TaroElementImpl,\n    @inject(SERVICE_IDENTIFIER.TaroTextFactory) getText: InstanceFactory<TaroText>\n  ) {\n    super(nodeImpl, getElement, hooks, elementImpl)\n    this._getText = getText\n    this.nodeType = NodeType.DOCUMENT_NODE\n    this.nodeName = DOCUMENT_ELEMENT_NAME\n  }\n\n  public createElement (type: string): TaroElement | TaroRootElement | FormElement {\n    if (type === ROOT_STR) {\n      return this._getElement<TaroRootElement>(ElementNames.RootElement)()\n    }\n\n    if (controlledComponent.has(type)) {\n      return this._getElement<FormElement>(ElementNames.FormElement)(type)\n    }\n\n    return this._getElement<TaroElement>(ElementNames.Element)(type)\n  }\n\n  // an ugly fake createElementNS to deal with @vue/runtime-dom's\n  // support mounting app to svg container since vue@3.0.8\n  public createElementNS (_svgNS: string, type: string): TaroElement | TaroRootElement | FormElement {\n    return this.createElement(type)\n  }\n\n  public createTextNode (text: string): TaroText {\n    return this._getText(text)\n  }\n\n  public getElementById<T extends TaroElement> (id: string | undefined | null): T | null {\n    const el = eventSource.get(id)\n    return isUndefined(el) ? null : el as T\n  }\n\n  public querySelector<T extends TaroElement> (query: string): T | null {\n    // 为了 Vue3 的乞丐版实现\n    if (/^#/.test(query)) {\n      return this.getElementById<T>(query.slice(1))\n    }\n    return null\n  }\n\n  public querySelectorAll () {\n    // fake hack\n    return []\n  }\n\n  // @TODO: @PERF: 在 hydrate 移除掉空的 node\n  public createComment (): TaroText {\n    const textnode = this._getText('')\n    textnode.nodeName = COMMENT\n    return textnode\n  }\n}\n","import { inject, injectable, multiInject, /* multiInject, */ optional } from 'inversify'\nimport SERVICE_IDENTIFIER from './constants/identifiers'\n\nimport type {\n  IHooks,\n  OnRemoveAttribute,\n  GetLifecycle,\n  GetPathIndex,\n  GetEventCenter,\n  ModifyMpEvent,\n  ModifyTaroEvent,\n  IsBubbleEvents,\n  GetSpecialNodes,\n  BatchedEventUpdates,\n  MergePageInstance,\n  CreatePullDownComponent,\n  GetDOMNode,\n  InitNativeApi,\n  ModifySetAttrPayload,\n  ModifyHydrateData,\n  ModifyRmAttrPayload,\n  MpEvent,\n  OnAddEvent,\n  patchElement\n} from './interface'\nimport type { TaroElement } from './dom/element'\nimport type { TaroEvent } from './dom/event'\n\n@injectable()\nexport class Hooks implements IHooks {\n  @inject(SERVICE_IDENTIFIER.getLifecycle)\n  public getLifecycle: GetLifecycle\n\n  @inject(SERVICE_IDENTIFIER.getPathIndex)\n  public getPathIndex: GetPathIndex\n\n  @inject(SERVICE_IDENTIFIER.getEventCenter)\n  public getEventCenter: GetEventCenter\n\n  @inject(SERVICE_IDENTIFIER.isBubbleEvents)\n  public isBubbleEvents: IsBubbleEvents\n\n  @inject(SERVICE_IDENTIFIER.getSpecialNodes)\n  public getSpecialNodes: GetSpecialNodes\n\n  @inject(SERVICE_IDENTIFIER.onRemoveAttribute) @optional()\n  public onRemoveAttribute?: OnRemoveAttribute\n\n  @inject(SERVICE_IDENTIFIER.batchedEventUpdates) @optional()\n  public batchedEventUpdates?: BatchedEventUpdates\n\n  @inject(SERVICE_IDENTIFIER.mergePageInstance) @optional()\n  public mergePageInstance?: MergePageInstance\n\n  @inject(SERVICE_IDENTIFIER.createPullDownComponent) @optional()\n  public createPullDownComponent?: CreatePullDownComponent\n\n  @inject(SERVICE_IDENTIFIER.getDOMNode) @optional()\n  public getDOMNode?: GetDOMNode\n\n  @inject(SERVICE_IDENTIFIER.modifyHydrateData) @optional()\n  public modifyHydrateData?: ModifyHydrateData\n\n  @inject(SERVICE_IDENTIFIER.modifySetAttrPayload) @optional()\n  public modifySetAttrPayload?: ModifySetAttrPayload\n\n  @inject(SERVICE_IDENTIFIER.modifyRmAttrPayload) @optional()\n  public modifyRmAttrPayload?: ModifyRmAttrPayload\n\n  @inject(SERVICE_IDENTIFIER.onAddEvent) @optional()\n  public onAddEvent?: OnAddEvent\n\n  @multiInject(SERVICE_IDENTIFIER.modifyMpEvent) @optional()\n  private modifyMpEventImpls?: ModifyMpEvent[]\n\n  public modifyMpEvent (e: MpEvent) {\n    this.modifyMpEventImpls?.forEach(fn => fn(e))\n  }\n\n  @multiInject(SERVICE_IDENTIFIER.modifyTaroEvent) @optional()\n  private modifyTaroEventImpls?: ModifyTaroEvent[]\n\n  public modifyTaroEvent (e: TaroEvent, element: TaroElement) {\n    this.modifyTaroEventImpls?.forEach(fn => fn(e, element))\n  }\n\n  @multiInject(SERVICE_IDENTIFIER.initNativeApi) @optional()\n  public initNativeApiImpls?: InitNativeApi[]\n\n  public initNativeApi (taro: Record<string, any>) {\n    this.initNativeApiImpls?.forEach(fn => fn(taro))\n  }\n\n  @multiInject(SERVICE_IDENTIFIER.patchElement) @optional()\n  public patchElementImpls?: patchElement[]\n\n  public patchElement (element: TaroElement) {\n    this.patchElementImpls?.forEach(fn => fn(element))\n  }\n}\n","/**\n * 支持冒泡的事件, 除 支付宝小程序外，其余的可冒泡事件都和微信保持一致\n * 详见 见 https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html\n */\nexport const BUBBLE_EVENTS = new Set([\n  'touchstart',\n  'touchmove',\n  'touchcancel',\n  'touchend',\n  'touchforcechange',\n  'tap',\n  'longpress',\n  'longtap',\n  'transitionend',\n  'animationstart',\n  'animationiteration',\n  'animationend'\n])\n","import { ContainerModule } from 'inversify'\nimport SERVICE_IDENTIFIER from '../constants/identifiers'\nimport { BUBBLE_EVENTS } from '../constants/events'\n\nimport type { IsBubbleEvents, GetEventCenter, GetLifecycle, GetPathIndex, GetSpecialNodes } from '../interface'\n\nconst getLifecycle: GetLifecycle = function (instance, lifecycle) {\n  return instance[lifecycle]\n}\n\nconst getPathIndex: GetPathIndex = function (indexOfNode) {\n  return `[${indexOfNode}]`\n}\n\nconst getEventCenter: GetEventCenter = function (Events) {\n  return new Events()\n}\n\nconst isBubbleEvents = function (eventName) {\n  return BUBBLE_EVENTS.has(eventName)\n}\n\nconst getSpecialNodes = function () {\n  return ['view', 'text', 'image']\n}\n\nexport const DefaultHooksContainer = new ContainerModule(bind => {\n  bind<GetLifecycle>(SERVICE_IDENTIFIER.getLifecycle).toFunction(getLifecycle)\n  bind<GetPathIndex>(SERVICE_IDENTIFIER.getPathIndex).toFunction(getPathIndex)\n  bind<GetEventCenter>(SERVICE_IDENTIFIER.getEventCenter).toFunction(getEventCenter)\n  bind<IsBubbleEvents>(SERVICE_IDENTIFIER.isBubbleEvents).toFunction(isBubbleEvents)\n  bind<GetSpecialNodes>(SERVICE_IDENTIFIER.getSpecialNodes).toFunction(getSpecialNodes)\n})\n","import { defaultReconciler, isArray } from '@tarojs/shared'\nimport SERVICE_IDENTIFIER from '../constants/identifiers'\n\nimport type { Container } from 'inversify'\n\nexport default function processPluginHooks (container: Container) {\n  const keys = Object.keys(defaultReconciler)\n  keys.forEach(key => {\n    if (key in SERVICE_IDENTIFIER) {\n      // is hooks\n      const identifier = SERVICE_IDENTIFIER[key]\n      const fn = defaultReconciler[key]\n\n      if (isArray(fn)) {\n        // is multi\n        fn.forEach(item => container.bind(identifier).toFunction(item))\n      } else {\n        if (container.isBound(identifier)) {\n          // 之前有绑定过，需要重新绑定以覆盖前者\n          container.rebind(identifier).toFunction(fn)\n        } else {\n          container.bind(identifier).toFunction(fn)\n        }\n      }\n    }\n  })\n}\n","import { Container, interfaces } from 'inversify'\nimport SERVICE_IDENTIFIER from '../constants/identifiers'\nimport { TaroNodeImpl } from '../dom-external/node-impl'\nimport { TaroElementImpl } from '../dom-external/element-impl'\nimport { TaroElement } from '../dom/element'\nimport { TaroText } from '../dom/text'\nimport { TaroDocument } from '../dom/document'\nimport { TaroRootElement } from '../dom/root'\nimport { FormElement } from '../dom/form'\nimport { ElementNames, InstanceFactory, InstanceNamedFactory } from '../interface'\nimport { Hooks } from '../hooks'\nimport { DefaultHooksContainer } from './default-hooks'\nimport processPluginHooks from './plugin-hooks'\n\nconst container = new Container()\n\nif (process.env.TARO_ENV !== 'h5') {\n  container.bind<TaroElement>(SERVICE_IDENTIFIER.TaroElement).to(TaroElement).whenTargetNamed(ElementNames.Element)\n  container.bind<TaroDocument>(SERVICE_IDENTIFIER.TaroElement).to(TaroDocument).inSingletonScope().whenTargetNamed(ElementNames.Document)\n  container.bind<TaroRootElement>(SERVICE_IDENTIFIER.TaroElement).to(TaroRootElement).whenTargetNamed(ElementNames.RootElement)\n  container.bind<FormElement>(SERVICE_IDENTIFIER.TaroElement).to(FormElement).whenTargetNamed(ElementNames.FormElement)\n  container.bind<InstanceNamedFactory>(SERVICE_IDENTIFIER.TaroElementFactory).toFactory<TaroElement>((context: interfaces.Context) => {\n    return (named: ElementNames) => (nodeName?: string) => {\n      const el = context.container.getNamed<TaroElement>(SERVICE_IDENTIFIER.TaroElement, named)\n      if (nodeName) {\n        el.nodeName = nodeName\n      }\n      el.tagName = el.nodeName.toUpperCase()\n      return el\n    }\n  })\n\n  container.bind<TaroText>(SERVICE_IDENTIFIER.TaroText).to(TaroText)\n  container.bind<InstanceFactory<TaroText>>(SERVICE_IDENTIFIER.TaroTextFactory).toFactory<TaroText>((context: interfaces.Context) => {\n    return (text: string) => {\n      const textNode = context.container.get<TaroText>(SERVICE_IDENTIFIER.TaroText)\n      textNode._value = text\n      return textNode\n    }\n  })\n\n  container.bind<TaroNodeImpl>(SERVICE_IDENTIFIER.TaroNodeImpl).to(TaroNodeImpl).inSingletonScope()\n  container.bind<TaroElementImpl>(SERVICE_IDENTIFIER.TaroElementImpl).to(TaroElementImpl).inSingletonScope()\n}\n\ncontainer.bind<Hooks>(SERVICE_IDENTIFIER.Hooks).to(Hooks).inSingletonScope()\ncontainer.load(DefaultHooksContainer)\nprocessPluginHooks(container)\n\nexport default container\n","import { EMPTY_OBJ } from '@tarojs/shared'\nimport container from '../container'\nimport { ElementNames } from '../interface'\nimport { isParentBinded } from '../utils'\nimport SERVICE_IDENTIFIER from '../constants/identifiers'\nimport {\n  CONFIRM,\n  CURRENT_TARGET,\n  INPUT,\n  KEY_CODE,\n  TARGET,\n  TIME_STAMP,\n  TYPE,\n  TOUCHMOVE\n} from '../constants'\n\nimport type { TaroElement } from './element'\nimport type { InstanceNamedFactory, EventOptions, MpEvent, TaroDocumentInstance, IHooks } from '../interface'\n\nlet hooks\nlet getElement\nlet document\nif (process.env.TARO_ENV !== 'h5') {\n  hooks = container.get<IHooks>(SERVICE_IDENTIFIER.Hooks)\n  getElement = container.get<InstanceNamedFactory>(SERVICE_IDENTIFIER.TaroElementFactory)\n  document = getElement(ElementNames.Document)() as TaroDocumentInstance\n}\n\n// Taro 事件对象。以 Web 标准的事件对象为基础，加入小程序事件对象中携带的部分信息，并模拟实现事件冒泡。\nexport class TaroEvent {\n  public type: string\n\n  public bubbles: boolean\n\n  public cancelable: boolean\n\n  public _stop = false\n\n  public _end = false\n\n  public defaultPrevented = false\n\n  // timestamp can either be hi-res ( relative to page load) or low-res (relative to UNIX epoch)\n  // here use hi-res timestamp\n  public timeStamp = Date.now()\n\n  public mpEvent: MpEvent | undefined\n\n  public constructor (type: string, opts: EventOptions, event?: MpEvent) {\n    this.type = type.toLowerCase()\n    this.mpEvent = event\n    this.bubbles = Boolean(opts && opts.bubbles)\n    this.cancelable = Boolean(opts && opts.cancelable)\n  }\n\n  public stopPropagation () {\n    this._stop = true\n  }\n\n  public stopImmediatePropagation () {\n    this._end = this._stop = true\n  }\n\n  public preventDefault () {\n    this.defaultPrevented = true\n  }\n\n  get target () {\n    const element = document.getElementById(this.mpEvent?.target.id)\n    return {\n      ...this.mpEvent?.target,\n      ...this.mpEvent?.detail,\n      dataset: element !== null ? element.dataset : EMPTY_OBJ\n    }\n  }\n\n  get currentTarget () {\n    const element = document.getElementById(this.mpEvent?.currentTarget.id)\n\n    if (element === null) {\n      return this.target\n    }\n\n    return {\n      ...this.mpEvent?.currentTarget,\n      ...this.mpEvent?.detail,\n      dataset: element.dataset\n    }\n  }\n}\n\nexport function createEvent (event: MpEvent | string, node?: TaroElement) {\n  if (typeof event === 'string') {\n    // For Vue3 using document.createEvent\n    return new TaroEvent(event, { bubbles: true, cancelable: true })\n  }\n\n  const domEv = new TaroEvent(event.type, { bubbles: true, cancelable: true }, event)\n\n  for (const key in event) {\n    if (key === CURRENT_TARGET || key === TARGET || key === TYPE || key === TIME_STAMP) {\n      continue\n    } else {\n      domEv[key] = event[key]\n    }\n  }\n\n  if (domEv.type === CONFIRM && node?.nodeName === INPUT) {\n    // eslint-disable-next-line dot-notation\n    domEv[KEY_CODE] = 13\n  }\n\n  return domEv\n}\n\nconst eventsBatch = {}\n\n// 小程序的事件代理回调函数\nexport function eventHandler (event: MpEvent) {\n  hooks.modifyMpEvent?.(event)\n\n  if (event.currentTarget == null) {\n    event.currentTarget = event.target\n  }\n\n  const node = document.getElementById(event.currentTarget.id)\n  if (node) {\n    const dispatch = () => {\n      const e = createEvent(event, node)\n      hooks.modifyTaroEvent?.(e, node)\n      node.dispatchEvent(e)\n    }\n    if (typeof hooks.batchedEventUpdates === 'function') {\n      const type = event.type\n\n      if (\n        !hooks.isBubbleEvents(type) ||\n        !isParentBinded(node, type) ||\n        (type === TOUCHMOVE && !!node.props.catchMove)\n      ) {\n        // 最上层组件统一 batchUpdate\n        hooks.batchedEventUpdates(() => {\n          if (eventsBatch[type]) {\n            eventsBatch[type].forEach(fn => fn())\n            delete eventsBatch[type]\n          }\n          dispatch()\n        })\n      } else {\n        // 如果上层组件也有绑定同类型的组件，委托给上层组件调用事件回调\n        (eventsBatch[type] ||= []).push(dispatch)\n      }\n    } else {\n      dispatch()\n    }\n  }\n}\n","import { EMPTY_OBJ } from '@tarojs/shared'\n\nexport const isBrowser = typeof document !== 'undefined' && !!document.scripts\nexport const doc: Document = isBrowser ? document : EMPTY_OBJ\nexport const win: Window = isBrowser ? window : EMPTY_OBJ\n","import { createEvent } from '../dom/event'\nimport { isBrowser, doc } from '../env'\nimport ioc_container from '../container'\nimport SERVICE_IDENTIFIER from '../constants/identifiers'\nimport { ElementNames, InstanceNamedFactory } from '../interface'\nimport {\n  HTML,\n  HEAD,\n  BODY,\n  APP,\n  CONTAINER\n} from '../constants'\n\nimport type { TaroDocumentInstance } from '../interface'\n\nexport function createDocument () {\n  /**\n   * <document>\n   *   <html>\n   *     <head></head>\n   *     <body>\n   *       <container>\n   *         <app id=\"app\" />\n   *       </container>\n   *     </body>\n   *   </html>\n   * </document>\n   */\n  const getElement = ioc_container.get<InstanceNamedFactory>(SERVICE_IDENTIFIER.TaroElementFactory)\n  const doc = getElement(ElementNames.Document)() as TaroDocumentInstance\n  const documentCreateElement = doc.createElement.bind(doc)\n  const html = documentCreateElement(HTML)\n  const head = documentCreateElement(HEAD)\n  const body = documentCreateElement(BODY)\n  const app = documentCreateElement(APP)\n  app.id = APP\n  const container = documentCreateElement(CONTAINER) // 多包一层主要为了兼容 vue\n\n  doc.appendChild(html)\n  html.appendChild(head)\n  html.appendChild(body)\n  body.appendChild(container)\n  container.appendChild(app)\n\n  doc.documentElement = html\n  doc.head = head\n  doc.body = body\n  doc.createEvent = createEvent\n\n  return doc\n}\n\nexport const document = (isBrowser ? doc : createDocument()) as TaroDocumentInstance\n","import { isBrowser, win } from '../env'\n\nconst machine = 'Macintosh'\nconst arch = 'Intel Mac OS X 10_14_5'\nconst engine = 'AppleWebKit/534.36 (KHTML, like Gecko) NodeJS/v4.1.0 Chrome/76.0.3809.132 Safari/534.36'\n\nexport const navigator = isBrowser ? win.navigator : {\n  appCodeName: 'Mozilla',\n  appName: 'Netscape',\n  appVersion: '5.0 (' + machine + '; ' + arch + ') ' + engine,\n  cookieEnabled: true,\n  mimeTypes: [],\n  onLine: true,\n  platform: 'MacIntel',\n  plugins: [],\n  product: 'Taro',\n  productSub: '20030107',\n  userAgent: 'Mozilla/5.0 (' + machine + '; ' + arch + ') ' + engine,\n  vendor: 'Joyent',\n  vendorSub: ''\n}\n","// https://github.com/myrne/performance-now\nexport let now\n\n(function () {\n  let loadTime\n  if ((typeof performance !== 'undefined' && performance !== null) && performance.now) {\n    now = function () {\n      return performance.now()\n    }\n  } else if (Date.now) {\n    now = function () {\n      return Date.now() - loadTime\n    }\n    loadTime = Date.now()\n  } else {\n    now = function () {\n      return new Date().getTime() - loadTime\n    }\n    loadTime = new Date().getTime()\n  }\n})()\n\nlet lastTime = 0\n\n// https://gist.github.com/paulirish/1579671\n// https://gist.github.com/jalbam/5fe05443270fa6d8136238ec72accbc0\nlet raf = typeof requestAnimationFrame !== 'undefined' && requestAnimationFrame !== null ? requestAnimationFrame : function (callback) {\n  const _now = now()\n  const nextTime = Math.max(lastTime + 16, _now) // First time will execute it immediately but barely noticeable and performance is gained.\n  return setTimeout(function () { callback(lastTime = nextTime) }, nextTime - _now)\n}\n\nlet caf = typeof cancelAnimationFrame !== 'undefined' && cancelAnimationFrame !== null ? cancelAnimationFrame : clearTimeout\n\nif (typeof global !== 'undefined') {\n  raf = raf.bind(global)\n  caf = caf.bind(global)\n}\n\nexport {\n  raf,\n  caf\n}\n","import type { TaroElement } from '../dom/element'\nimport type { Style } from '../dom/style'\n\nexport function getComputedStyle (element: TaroElement): Style {\n  return element.style\n}\n","import { navigator } from './navigator'\nimport { document } from './document'\nimport { isBrowser, win } from '../env'\nimport { raf, caf } from './raf'\nimport { getComputedStyle } from './getComputedStyle'\nimport { DATE, SET_TIMEOUT } from '../constants'\n\nexport const window = isBrowser ? win : {\n  navigator,\n  document\n}\n\nif (!isBrowser) {\n  const globalProperties = [\n    ...Object.getOwnPropertyNames(global || win),\n    ...Object.getOwnPropertySymbols(global || win)\n  ]\n\n  globalProperties.forEach(property => {\n    if (property === 'atob') return\n    if (!Object.prototype.hasOwnProperty.call(window, property)) {\n      window[property] = global[property]\n    }\n  })\n\n  ;(document as any).defaultView = window\n}\n\nif (process.env.TARO_ENV && process.env.TARO_ENV !== 'h5') {\n  (window as any).requestAnimationFrame = raf;\n  (window as any).cancelAnimationFrame = caf;\n  (window as any).getComputedStyle = getComputedStyle;\n  (window as any).addEventListener = function () {};\n  (window as any).removeEventListener = function () {}\n  if (!(DATE in window)) {\n    (window as any).Date = Date\n  }\n  if (!(SET_TIMEOUT in window)) {\n    (window as any).setTimeout = setTimeout\n  }\n}\n","import { AppInstance, PageInstance } from './dsl/instance'\n\nexport interface Router {\n  params: Record<string, unknown>,\n  path: string,\n  onReady: string,\n  onHide: string,\n  onShow: string\n}\n\ninterface Current {\n  app: AppInstance | null,\n  router: Router | null,\n  page: PageInstance | null,\n  preloadData?: any\n}\n\nexport const Current: Current = {\n  app: null,\n  router: null,\n  page: null\n}\n\nexport const getCurrentInstance = () => Current\n","import container from '../container'\nimport SERVICE_IDENTIFIER from '../constants/identifiers'\n\nimport type { IHooks } from '../interface'\n\n/* eslint-disable no-dupe-class-members */\ntype Callback1<T1> = (arg1: T1) => any;\ntype Callback2<T1, T2> = (arg1: T1, arg2: T2) => any;\ntype Callback3<T1, T2, T3> = (arg1: T1, arg2: T2, arg3: T3) => any;\ntype Callback4<T1, T2, T3, T4> = (arg1: T1, arg2: T2, arg3: T3, arg4: T4) => any;\ntype Callback5<T1, T2, T3, T4, T5> = (arg1: T1, arg2: T2, arg3: T3,\n  arg4: T4, arg5: T5) => any;\ntype Callback6Rest<T1, T2, T3, T4, T5, T6> = (arg1: T1, arg2: T2, arg3: T3,\n  arg4: T4, arg5: T5, arg6: T6,\n  ...rest: any[]) => any;\n\nexport class Events {\n  private callbacks?: Record<string, unknown>\n  static eventSplitter = /\\s+/\n\n  constructor (opts?) {\n    if (typeof opts !== 'undefined' && opts.callbacks) {\n      this.callbacks = opts.callbacks\n    } else {\n      this.callbacks = {}\n    }\n  }\n\n  on<T>(event: string, callback: Callback1<T>, context): this\n  on<T1, T2>(event: string, callback: Callback2<T1, T2>, context): this\n  on<T1, T2, T3>(event: string, callback: Callback3<T1, T2, T3>, context): this\n  on<T1, T2, T3, T4>(event: string, callback: Callback4<T1, T2, T3, T4>, comtext): this\n  on<T1, T2, T3, T4, T5>(event: string, callback: Callback5<T1, T2, T3, T4, T5>, context): this\n  on<T1, T2, T3, T4, T5, T6>(event: string, callback: Callback6Rest<T1, T2, T3, T4, T5, T6>, context): this\n  on (eventName, callback, context): this {\n    let event, node, tail, list\n    if (!callback) {\n      return this\n    }\n    eventName = eventName.split(Events.eventSplitter)\n    this.callbacks ||= {}\n    const calls = this.callbacks\n    while ((event = eventName.shift())) {\n      list = calls[event]\n      node = list ? list.tail : {}\n      node.next = tail = {}\n      node.context = context\n      node.callback = callback\n      calls[event] = {\n        tail,\n        next: list ? list.next : node\n      }\n    }\n    return this\n  }\n\n  once (events, callback, context) {\n    const wrapper = (...args) => {\n      callback.apply(this, args)\n      this.off(events, wrapper, context)\n    }\n\n    this.on(events, wrapper, context)\n\n    return this\n  }\n\n  off (events, callback, context) {\n    let event, calls, node, tail, cb, ctx\n    if (!(calls = this.callbacks)) {\n      return this\n    }\n    if (!(events || callback || context)) {\n      delete this.callbacks\n      return this\n    }\n    events = events ? events.split(Events.eventSplitter) : Object.keys(calls)\n    while ((event = events.shift())) {\n      node = calls[event]\n      delete calls[event]\n      if (!node || !(callback || context)) {\n        continue\n      }\n      tail = node.tail\n      while ((node = node.next) !== tail) {\n        cb = node.callback\n        ctx = node.context\n        if ((callback && cb !== callback) || (context && ctx !== context)) {\n          this.on(event, cb, ctx)\n        }\n      }\n    }\n    return this\n  }\n\n  trigger(event: string)\n  trigger<T1>(event: string, arg: T1)\n  trigger<T1, T2>(event: string, arg1: T1, arg2: T2)\n  trigger<T1, T2, T3>(event: string, arg1: T1, arg2: T2, arg3: T3)\n  trigger<T1, T2, T3, T4>(event: string, arg1: T1, arg2: T2, arg3: T3, arg4: T4)\n  trigger<T1, T2, T3, T4, T5>(event: string, arg1: T1, arg2: T2, arg3: T3, arg4: T4, arg5: T5)\n  trigger<T1, T2, T3, T4, T5, T6>(event: string, arg1: T1, arg2: T2, arg3: T3, arg4: T4, arg5: T5,\n    arg6: T6, ...rest: any[])\n\n  trigger (events) {\n    let event, node, calls, tail\n    if (!(calls = this.callbacks)) {\n      return this\n    }\n    events = events.split(Events.eventSplitter)\n    const rest = [].slice.call(arguments, 1)\n    while ((event = events.shift())) {\n      if ((node = calls[event])) {\n        tail = node.tail\n        while ((node = node.next) !== tail) {\n          node.callback.apply(node.context || this, rest)\n        }\n      }\n    }\n    return this\n  }\n}\n\nexport type EventsType = typeof Events\n\nconst hooks = container.get<IHooks>(SERVICE_IDENTIFIER.Hooks)\nconst eventCenter = hooks.getEventCenter(Events)\ncontainer.bind<Events>(SERVICE_IDENTIFIER.eventCenter).toConstantValue(eventCenter)\n\nexport { eventCenter }\n","/* eslint-disable dot-notation */\nimport { isFunction, EMPTY_OBJ, ensure, Shortcuts, isUndefined, isArray } from '@tarojs/shared'\nimport container from '../container'\nimport SERVICE_IDENTIFIER from '../constants/identifiers'\nimport { eventHandler } from '../dom/event'\nimport { Current } from '../current'\nimport { document } from '../bom/document'\nimport { incrementId } from '../utils'\nimport { perf } from '../perf'\nimport { PAGE_INIT } from '../constants'\nimport { isBrowser } from '../env'\nimport { eventCenter } from '../emitter/emitter'\nimport { raf } from '../bom/raf'\n\nimport type { PageConfig } from '@tarojs/taro'\nimport type { Instance, PageInstance, PageProps } from './instance'\nimport type { Func, IHooks, MpInstance } from '../interface'\nimport type { TaroRootElement } from '../dom/root'\n\nconst instances = new Map<string, Instance>()\nconst pageId = incrementId()\nconst hooks = container.get<IHooks>(SERVICE_IDENTIFIER.Hooks)\n\nexport function injectPageInstance (inst: Instance<PageProps>, id: string) {\n  hooks.mergePageInstance?.(instances.get(id), inst)\n  instances.set(id, inst)\n}\n\nexport function getPageInstance (id: string): Instance | undefined {\n  return instances.get(id)\n}\n\nexport function addLeadingSlash (path?: string): string {\n  if (path == null) {\n    return ''\n  }\n  return path.charAt(0) === '/' ? path : '/' + path\n}\n\nexport function safeExecute (path: string, lifecycle: keyof PageInstance, ...args: unknown[]) {\n  const instance = instances.get(path)\n\n  if (instance == null) {\n    return\n  }\n\n  const func = hooks.getLifecycle(instance, lifecycle)\n\n  if (isArray(func)) {\n    const res = func.map(fn => fn.apply(instance, args))\n    return res[0]\n  }\n\n  if (!isFunction(func)) {\n    return\n  }\n\n  return func.apply(instance, args)\n}\n\nexport function stringify (obj?: Record<string, unknown>) {\n  if (obj == null) {\n    return ''\n  }\n  const path = Object.keys(obj).map((key) => {\n    return key + '=' + obj[key]\n  }).join('&')\n  return path === '' ? path : '?' + path\n}\n\nexport function getPath (id: string, options?: Record<string, unknown>): string {\n  let path = id\n  if (!isBrowser) {\n    path = id + stringify(options)\n  }\n  return path\n}\n\nexport function getOnReadyEventKey (path: string) {\n  return path + '.' + 'onReady'\n}\n\nexport function getOnShowEventKey (path: string) {\n  return path + '.' + 'onShow'\n}\n\nexport function getOnHideEventKey (path: string) {\n  return path + '.' + 'onHide'\n}\n\nexport function createPageConfig (component: any, pageName?: string, data?: Record<string, unknown>, pageConfig?: PageConfig) {\n  const id = pageName ?? `taro_page_${pageId()}`\n  // 小程序 Page 构造器是一个傲娇小公主，不能把复杂的对象挂载到参数上\n  let pageElement: TaroRootElement | null = null\n\n  let unmounting = false\n  let prepareMountList: (() => void)[] = []\n\n  const config: PageInstance = {\n    onLoad (this: MpInstance, options, cb?: Func) {\n      perf.start(PAGE_INIT)\n\n      Current.page = this as any\n      this.config = pageConfig || {}\n      options.$taroTimestamp = Date.now()\n\n      // this.$taroPath 是页面唯一标识，不可变，因此页面参数 options 也不可变\n      this.$taroPath = getPath(id, options)\n      // this.$taroParams 作为暴露给开发者的页面参数对象，可以被随意修改\n      if (this.$taroParams == null) {\n        this.$taroParams = Object.assign({}, options)\n      }\n\n      const router = isBrowser ? this.$taroPath : this.route || this.__route__\n      Current.router = {\n        params: this.$taroParams,\n        path: addLeadingSlash(router),\n        onReady: getOnReadyEventKey(id),\n        onShow: getOnShowEventKey(id),\n        onHide: getOnHideEventKey(id)\n      }\n\n      const mount = () => {\n        Current.app!.mount!(component, this.$taroPath, () => {\n          pageElement = document.getElementById<TaroRootElement>(this.$taroPath)\n\n          ensure(pageElement !== null, '没有找到页面实例。')\n          safeExecute(this.$taroPath, 'onLoad', this.$taroParams)\n          if (!isBrowser) {\n            pageElement.ctx = this\n            pageElement.performUpdate(true, cb)\n          } else {\n            isFunction(cb) && cb()\n          }\n        })\n      }\n      if (unmounting) {\n        prepareMountList.push(mount)\n      } else {\n        mount()\n      }\n    },\n    onReady () {\n      raf(() => {\n        eventCenter.trigger(getOnReadyEventKey(id))\n      })\n\n      safeExecute(this.$taroPath, 'onReady')\n      this.onReady.called = true\n    },\n    onUnload () {\n      unmounting = true\n      Current.app!.unmount!(this.$taroPath, () => {\n        unmounting = false\n        instances.delete(this.$taroPath)\n        if (pageElement) {\n          pageElement.ctx = null\n        }\n        if (prepareMountList.length) {\n          prepareMountList.forEach(fn => fn())\n          prepareMountList = []\n        }\n      })\n    },\n    onShow () {\n      Current.page = this as any\n      this.config = pageConfig || {}\n      const router = isBrowser ? this.$taroPath : this.route || this.__route__\n      Current.router = {\n        params: this.$taroParams,\n        path: addLeadingSlash(router),\n        onReady: getOnReadyEventKey(id),\n        onShow: getOnShowEventKey(id),\n        onHide: getOnHideEventKey(id)\n      }\n\n      raf(() => {\n        eventCenter.trigger(getOnShowEventKey(id))\n      })\n\n      safeExecute(this.$taroPath, 'onShow')\n    },\n    onHide () {\n      Current.page = null\n      Current.router = null\n      safeExecute(this.$taroPath, 'onHide')\n      eventCenter.trigger(getOnHideEventKey(id))\n    },\n    onPullDownRefresh () {\n      return safeExecute(this.$taroPath, 'onPullDownRefresh')\n    },\n    onReachBottom () {\n      return safeExecute(this.$taroPath, 'onReachBottom')\n    },\n    onPageScroll (options) {\n      return safeExecute(this.$taroPath, 'onPageScroll', options)\n    },\n    onResize (options) {\n      return safeExecute(this.$taroPath, 'onResize', options)\n    },\n    onTabItemTap (options) {\n      return safeExecute(this.$taroPath, 'onTabItemTap', options)\n    },\n    onTitleClick () {\n      return safeExecute(this.$taroPath, 'onTitleClick')\n    },\n    onOptionMenuClick () {\n      return safeExecute(this.$taroPath, 'onOptionMenuClick')\n    },\n    onPopMenuClick () {\n      return safeExecute(this.$taroPath, 'onPopMenuClick')\n    },\n    onPullIntercept () {\n      return safeExecute(this.$taroPath, 'onPullIntercept')\n    },\n    onAddToFavorites () {\n      return safeExecute(this.$taroPath, 'onAddToFavorites')\n    }\n  }\n\n  // onShareAppMessage 和 onShareTimeline 一样，会影响小程序右上方按钮的选项，因此不能默认注册。\n  if (component.onShareAppMessage ||\n      component.prototype?.onShareAppMessage ||\n      component.enableShareAppMessage) {\n    config.onShareAppMessage = function (options) {\n      const target = options?.target\n      if (target != null) {\n        const id = target.id\n        const element = document.getElementById(id)\n        if (element != null) {\n          options.target!.dataset = element.dataset\n        }\n      }\n      return safeExecute(this.$taroPath, 'onShareAppMessage', options)\n    }\n  }\n  if (component.onShareTimeline ||\n      component.prototype?.onShareTimeline ||\n      component.enableShareTimeline) {\n    config.onShareTimeline = function () {\n      return safeExecute(this.$taroPath, 'onShareTimeline')\n    }\n  }\n\n  config.eh = eventHandler\n\n  if (!isUndefined(data)) {\n    config.data = data\n  }\n\n  if (isBrowser) {\n    config.path = id\n  }\n\n  return config\n}\n\nexport function createComponentConfig (component: React.ComponentClass, componentName?: string, data?: Record<string, unknown>) {\n  const id = componentName ?? `taro_component_${pageId()}`\n  let componentElement: TaroRootElement | null = null\n\n  const config: any = {\n    attached () {\n      perf.start(PAGE_INIT)\n      const path = getPath(id, { id: this.getPageId?.() || pageId() })\n      Current.app!.mount!(component, path, () => {\n        componentElement = document.getElementById<TaroRootElement>(path)\n        ensure(componentElement !== null, '没有找到组件实例。')\n        safeExecute(path, 'onLoad')\n        if (!isBrowser) {\n          componentElement.ctx = this\n          componentElement.performUpdate(true)\n        }\n      })\n    },\n    detached () {\n      const path = getPath(id, { id: this.getPageId() })\n      Current.app!.unmount!(path, () => {\n        instances.delete(path)\n        if (componentElement) {\n          componentElement.ctx = null\n        }\n      })\n    },\n    methods: {\n      eh: eventHandler\n    }\n  }\n  if (!isUndefined(data)) {\n    config.data = data\n  }\n\n  config['options'] = component?.['options'] ?? EMPTY_OBJ\n  config['externalClasses'] = component?.['externalClasses'] ?? EMPTY_OBJ\n  config['behaviors'] = component?.['behaviors'] ?? EMPTY_OBJ\n  return config\n}\n\nexport function createRecursiveComponentConfig (componentName?: string) {\n  return {\n    properties: {\n      i: {\n        type: Object,\n        value: {\n          [Shortcuts.NodeName]: 'view'\n        }\n      },\n      l: {\n        type: String,\n        value: ''\n      }\n    },\n    options: {\n      addGlobalClass: true,\n      virtualHost: componentName !== 'custom-wrapper'\n    },\n    methods: {\n      eh: eventHandler\n    }\n  }\n}\n","import type * as React from 'react'\nimport { isFunction, ensure, EMPTY_OBJ } from '@tarojs/shared'\nimport container from '../container'\nimport SERVICE_IDENTIFIER from '../constants/identifiers'\nimport { Current } from '../current'\nimport { document } from '../bom/document'\nimport { getPageInstance, injectPageInstance, safeExecute, addLeadingSlash } from './common'\nimport { isBrowser } from '../env'\nimport { incrementId } from '../utils'\nimport { HOOKS_APP_ID } from '../constants'\nimport { eventHandler } from '../dom/event'\n\nimport type { AppConfig, PageInstance } from '@tarojs/taro'\nimport type { AppInstance, ReactPageComponent, PageProps, Instance, ReactAppInstance } from './instance'\nimport type { IHooks } from '../interface'\nimport type { TaroRootElement } from '../dom/root'\n\ndeclare const getCurrentPages: () => PageInstance[]\nconst hooks = container.get<IHooks>(SERVICE_IDENTIFIER.Hooks)\n\nfunction isClassComponent (R: typeof React, component): boolean {\n  return isFunction(component.render) ||\n  !!component.prototype?.isReactComponent ||\n  component.prototype instanceof R.Component // compat for some others react-like library\n}\n\n// 初始值设置为 any 主要是为了过 TS 的校验\nexport let R: typeof React = EMPTY_OBJ\nexport let PageContext: React.Context<string> = EMPTY_OBJ\n\nexport function connectReactPage (\n  R: typeof React,\n  id: string\n) {\n  const h = R.createElement\n  return (component: ReactPageComponent): React.ComponentClass<PageProps> => {\n    // eslint-disable-next-line dot-notation\n    const isReactComponent = isClassComponent(R, component)\n\n    const inject = (node?: Instance) => node && injectPageInstance(node, id)\n    const refs = isReactComponent ? { ref: inject } : {\n      forwardedRef: inject,\n      // 兼容 react-redux 7.20.1+\n      reactReduxForwardedRef: inject\n    }\n\n    if (PageContext === EMPTY_OBJ) {\n      PageContext = R.createContext('')\n    }\n\n    return class Page extends R.Component<PageProps, { hasError: boolean }> {\n      state = {\n        hasError: false\n      }\n\n      static getDerivedStateFromError (error: Error) {\n        process.env.NODE_ENV !== 'production' && console.warn(error)\n        return { hasError: true }\n      }\n\n      // React 16 uncaught error 会导致整个应用 crash，\n      // 目前把错误缩小到页面\n      componentDidCatch (error: Error, info: React.ErrorInfo) {\n        process.env.NODE_ENV !== 'production' && console.warn(error)\n        process.env.NODE_ENV !== 'production' && console.error(info.componentStack)\n      }\n\n      render () {\n        const children = this.state.hasError\n          ? []\n          : h(PageContext.Provider, { value: id }, h(component, {\n            ...this.props,\n            ...refs\n          }))\n\n        if (isBrowser) {\n          return h(\n            'div',\n            { id, className: 'taro_page' },\n            children\n          )\n        }\n\n        return h(\n          'root',\n          { id },\n          children\n        )\n      }\n    }\n  }\n}\n\nlet ReactDOM\n\ntype PageComponent = React.CElement<PageProps, React.Component<PageProps, any, any>>\n\nfunction setReconciler () {\n  const getLifecycle = function (instance, lifecycle) {\n    lifecycle = lifecycle.replace(/^on(Show|Hide)$/, 'componentDid$1')\n    return instance[lifecycle]\n  }\n\n  const modifyMpEvent = function (event) {\n    event.type = event.type.replace(/-/g, '')\n  }\n\n  const batchedEventUpdates = function (cb) {\n    ReactDOM.unstable_batchedUpdates(cb)\n  }\n\n  const mergePageInstance = function (prev, next) {\n    if (!prev || !next) return\n\n    // 子组件使用 lifecycle hooks 注册了生命周期后，会存在 prev，里面是注册的生命周期回调。\n\n    // prev 使用 Object.create(null) 创建，H5 的 fast-refresh 可能也会导致存在 prev，要排除这些意外产生的 prev\n    if ('constructor' in prev) return\n\n    Object.keys(prev).forEach(item => {\n      if (isFunction(next[item])) {\n        next[item] = [next[item], ...prev[item]]\n      } else {\n        next[item] = [...(next[item] || []), ...prev[item]]\n      }\n    })\n  }\n\n  hooks.getLifecycle = getLifecycle\n  hooks.modifyMpEvent = modifyMpEvent\n  hooks.batchedEventUpdates = batchedEventUpdates\n  hooks.mergePageInstance = mergePageInstance\n\n  if (process.env.TARO_ENV === 'h5') {\n    hooks.createPullDownComponent = (\n      el: React.FunctionComponent<PageProps> | React.ComponentClass<PageProps>,\n      _,\n      R: typeof React,\n      customWrapper\n    ) => {\n      const isReactComponent = isClassComponent(R, el)\n\n      return R.forwardRef((props, ref) => {\n        const newProps: React.Props<any> = { ...props }\n        const refs = isReactComponent ? { ref: ref } : {\n          forwardedRef: ref,\n          // 兼容 react-redux 7.20.1+\n          reactReduxForwardedRef: ref\n        }\n\n        return R.createElement(\n          customWrapper || 'taro-pull-to-refresh',\n          null,\n          R.createElement(el, {\n            ...newProps,\n            ...refs\n          })\n        )\n      })\n    }\n\n    hooks.getDOMNode = (inst) => {\n      return ReactDOM.findDOMNode(inst)\n    }\n  }\n}\n\nconst pageKeyId = incrementId()\n\nexport function createReactApp (App: React.ComponentClass, react: typeof React, reactdom, config: AppConfig) {\n  R = react\n  ReactDOM = reactdom\n  ensure(!!ReactDOM, '构建 React/Nerv 项目请把 process.env.FRAMEWORK 设置为 \\'react\\'/\\'nerv\\' ')\n\n  const ref = R.createRef<ReactAppInstance>()\n  const isReactComponent = isClassComponent(R, App)\n\n  setReconciler()\n  class AppWrapper extends R.Component {\n    // run createElement() inside the render function to make sure that owner is right\n    private pages: Array<() => PageComponent> = []\n    private elements: Array<PageComponent> = []\n\n    public mount (component: React.ComponentClass<PageProps>, id: string, cb: () => void) {\n      const key = id + pageKeyId()\n      const page = () => R.createElement(component, { key, tid: id })\n      this.pages.push(page)\n      this.forceUpdate(cb)\n    }\n\n    public unmount (id: string, cb: () => void) {\n      for (let i = 0; i < this.elements.length; i++) {\n        const element = this.elements[i]\n        if (element.props.tid === id) {\n          this.elements.splice(i, 1)\n          break\n        }\n      }\n\n      this.forceUpdate(cb)\n    }\n\n    public render () {\n      while (this.pages.length > 0) {\n        const page = this.pages.pop()!\n        this.elements.push(page())\n      }\n\n      let props: React.Props<any> | null = null\n\n      if (isReactComponent) {\n        props = { ref }\n      }\n\n      return R.createElement(\n        App,\n        props,\n        isBrowser ? R.createElement('div', null, this.elements.slice()) : this.elements.slice()\n      )\n    }\n  }\n\n  let wrapper: AppWrapper\n  if (!isBrowser) {\n    // eslint-disable-next-line react/no-render-return-value\n    wrapper = ReactDOM.render(R.createElement(AppWrapper), document.getElementById('app'))\n  }\n\n  const app: AppInstance = Object.create({\n    render (cb: () => void) {\n      wrapper.forceUpdate(cb)\n    },\n\n    mount (component: ReactPageComponent, id: string, cb: () => void) {\n      const page = connectReactPage(R, id)(component)\n      wrapper.mount(page, id, cb)\n    },\n\n    unmount (id: string, cb: () => void) {\n      wrapper.unmount(id, cb)\n    }\n  }, {\n    config: {\n      writable: true,\n      enumerable: true,\n      configurable: true,\n      value: config\n    },\n\n    onLaunch: {\n      enumerable: true,\n      writable: true,\n      value (options) {\n        Current.router = {\n          params: options?.query,\n          ...options\n        }\n        if (isBrowser) {\n          // 由于 H5 路由初始化的时候会清除 app 下的 dom 元素，所以需要在路由初始化后执行 render\n          // eslint-disable-next-line react/no-render-return-value\n          wrapper = ReactDOM.render(R.createElement(AppWrapper), document.getElementById('app'))\n        }\n        const app = ref.current\n\n        // For taroize\n        // 把 App Class 上挂载的额外属性同步到全局 app 对象中\n        if (app?.taroGlobalData) {\n          const globalData = app.taroGlobalData\n          const keys = Object.keys(globalData)\n          const descriptors = Object.getOwnPropertyDescriptors(globalData)\n          keys.forEach(key => {\n            Object.defineProperty(this, key, {\n              configurable: true,\n              enumerable: true,\n              get () {\n                return globalData[key]\n              },\n              set (value) {\n                globalData[key] = value\n              }\n            })\n          })\n          Object.defineProperties(this, descriptors)\n        }\n        this.$app = app\n\n        if (app != null && isFunction(app.onLaunch)) {\n          app.onLaunch(options)\n        }\n      }\n    },\n\n    onShow: {\n      enumerable: true,\n      writable: true,\n      value (options) {\n        const app = ref.current\n        Current.router = {\n          params: options?.query,\n          ...options\n        }\n        if (app != null && isFunction(app.componentDidShow)) {\n          app.componentDidShow(options)\n        }\n\n        // app useDidShow\n        triggerAppHook('onShow')\n      }\n    },\n\n    onHide: {\n      enumerable: true,\n      writable: true,\n      value (options: unknown) {\n        const app = ref.current\n        if (app != null && isFunction(app.componentDidHide)) {\n          app.componentDidHide(options)\n        }\n\n        // app useDidHide\n        triggerAppHook('onHide')\n      }\n    },\n\n    onPageNotFound: {\n      enumerable: true,\n      writable: true,\n      value (res: unknown) {\n        const app = ref.current\n        if (app != null && isFunction(app.onPageNotFound)) {\n          app.onPageNotFound(res)\n        }\n      }\n    }\n  })\n\n  function triggerAppHook (lifecycle) {\n    const instance = getPageInstance(HOOKS_APP_ID)\n    if (instance) {\n      const app = ref.current\n      const func = hooks.getLifecycle(instance, lifecycle)\n      if (Array.isArray(func)) {\n        func.forEach(cb => cb.apply(app))\n      }\n    }\n  }\n\n  Current.app = app\n  return Current.app\n}\n\nconst getNativeCompId = incrementId()\n\nfunction initNativeComponentEntry (R: typeof React, ReactDOM) {\n  interface IEntryState {\n    components: {\n      compId: string\n      element: React.ReactElement\n    }[]\n  }\n\n  interface IWrapperProps {\n    getCtx: () => any\n    renderComponent: (ctx: any) => React.ReactElement\n  }\n\n  class NativeComponentWrapper extends R.Component<IWrapperProps, Record<any, any>> {\n    root = R.createRef<TaroRootElement>()\n    ctx = this.props.getCtx()\n\n    componentDidMount () {\n      this.ctx.component = this\n      const rootElement = this.root.current!\n      rootElement.ctx = this.ctx\n      rootElement.performUpdate(true)\n    }\n\n    render () {\n      return (\n        R.createElement(\n          'root',\n          {\n            ref: this.root\n          },\n          this.props.renderComponent(this.ctx)\n        )\n      )\n    }\n  }\n\n  class Entry extends R.Component<Record<any, any>, IEntryState> {\n    state: IEntryState = {\n      components: []\n    }\n\n    componentDidMount () {\n      Current.app = this\n    }\n\n    mount (Component, compId, getCtx) {\n      const isReactComponent = isClassComponent(R, Component)\n      const inject = (node?: Instance) => node && injectPageInstance(node, compId)\n      const refs = isReactComponent ? { ref: inject } : {\n        forwardedRef: inject,\n        reactReduxForwardedRef: inject\n      }\n      const item = {\n        compId,\n        element: R.createElement(NativeComponentWrapper, {\n          key: compId,\n          getCtx,\n          renderComponent (ctx) {\n            return R.createElement(Component, { ...(ctx.data ||= {}).props, ...refs })\n          }\n        })\n      }\n      this.setState({\n        components: [...this.state.components, item]\n      })\n    }\n\n    unmount (compId) {\n      const components = this.state.components\n      const index = components.findIndex(item => item.compId === compId)\n      const next = [...components.slice(0, index), ...components.slice(index + 1)]\n      this.setState({\n        components: next\n      })\n    }\n\n    render () {\n      const components = this.state.components\n      return (\n        components.map(({ element }) => element)\n      )\n    }\n  }\n\n  setReconciler()\n\n  const app = document.getElementById('app')\n\n  ReactDOM.render(\n    R.createElement(Entry, {}),\n    app\n  )\n}\n\nexport function createNativeComponentConfig (Component, react: typeof React, reactdom, componentConfig) {\n  R = react\n  ReactDOM = reactdom\n\n  setReconciler()\n\n  const config = {\n    properties: {\n      props: {\n        type: null,\n        value: null,\n        observer (_newVal, oldVal) {\n          oldVal && this.component.forceUpdate()\n        }\n      }\n    },\n    created () {\n      if (!Current.app) {\n        initNativeComponentEntry(R, ReactDOM)\n      }\n    },\n    attached () {\n      setCurrent()\n      this.compId = getNativeCompId()\n      this.config = componentConfig\n      Current.app!.mount!(Component, this.compId, () => this)\n    },\n    ready () {\n      safeExecute(this.compId, 'onReady')\n    },\n    detached () {\n      Current.app!.unmount!(this.compId)\n    },\n    pageLifetimes: {\n      show () {\n        safeExecute(this.compId, 'onShow')\n      },\n      hide () {\n        safeExecute(this.compId, 'onHide')\n      }\n    },\n    methods: {\n      eh: eventHandler\n    }\n  }\n\n  function setCurrent () {\n    const pages = getCurrentPages()\n    const currentPage = pages[pages.length - 1]\n    if (Current.page === currentPage) return\n\n    Current.page = currentPage\n\n    const route = (currentPage as any).route || (currentPage as any).__route__\n    const router = {\n      params: currentPage.options || {},\n      path: addLeadingSlash(route),\n      onReady: '',\n      onHide: '',\n      onShow: ''\n    }\n    Current.router = router\n\n    if (!currentPage.options) {\n      // 例如在微信小程序中，页面 options 的设置时机比组件 attached 慢\n      Object.defineProperty(currentPage, 'options', {\n        enumerable: true,\n        configurable: true,\n        get () {\n          return this._optionsValue\n        },\n        set (value) {\n          router.params = value\n          this._optionsValue = value\n        }\n      })\n    }\n  }\n\n  return config\n}\n","import { isFunction, noop, ensure, isBoolean } from '@tarojs/shared'\nimport container from '../container'\nimport SERVICE_IDENTIFIER from '../constants/identifiers'\nimport { injectPageInstance } from './common'\nimport { Current } from '../current'\nimport { document } from '../bom/document'\nimport { isBrowser } from '../env'\n\n/* eslint-disable import/no-duplicates */\nimport type VueCtor from 'vue'\nimport type { ComponentOptions, VueConstructor, VNode } from 'vue'\nimport type { AppConfig } from '@tarojs/taro'\nimport type { AppInstance, VueAppInstance, VueInstance } from './instance'\nimport type { IHooks } from '../interface'\n\nexport type V = typeof VueCtor\n\nexport function connectVuePage (Vue: VueConstructor, id: string) {\n  return (component: ComponentOptions<VueCtor>) => {\n    const injectedPage = Vue.extend({\n      props: {\n        tid: String\n      },\n      mixins: [component, {\n        created () {\n          injectPageInstance(this, id)\n        }\n      }]\n    })\n\n    const options: ComponentOptions<VueCtor> = {\n      render (h) {\n        return h(\n          isBrowser ? 'div' : 'root',\n          {\n            attrs: {\n              id,\n              class: isBrowser ? 'taro_page' : ''\n            }\n          },\n          [\n            h(injectedPage, { props: { tid: id } })\n          ]\n        )\n      }\n    }\n\n    return options\n  }\n}\n\nfunction setReconciler () {\n  const hooks = container.get<IHooks>(SERVICE_IDENTIFIER.Hooks)\n\n  const onRemoveAttribute = function (dom, qualifiedName) {\n    // 处理原因: https://github.com/NervJS/taro/pull/5990\n    const props = dom.props\n    if (!props.hasOwnProperty(qualifiedName) || isBoolean(props[qualifiedName])) {\n      dom.setAttribute(qualifiedName, false)\n      return true\n    }\n  }\n\n  const getLifecycle = function (instance, lifecycle) {\n    return instance.$options[lifecycle]\n  }\n\n  hooks.onRemoveAttribute = onRemoveAttribute\n  hooks.getLifecycle = getLifecycle\n\n  if (process.env.TARO_ENV === 'h5') {\n    hooks.createPullDownComponent = (el, path, vue: VueConstructor) => {\n      const injectedPage = vue.extend({\n        props: {\n          tid: String\n        },\n        mixins: [el as ComponentOptions<Vue>, {\n          created () {\n            injectPageInstance(this, path)\n          }\n        }]\n      })\n\n      const options: ComponentOptions<Vue> = {\n        name: 'PullToRefresh',\n        render (h) {\n          return h(\n            'taro-pull-to-refresh',\n            {\n              class: ['hydrated']\n            },\n            [h(injectedPage, this.$slots.default)]\n          )\n        }\n      }\n\n      return options\n    }\n\n    hooks.getDOMNode = (el) => {\n      return el.$el as any\n    }\n  }\n}\n\nlet Vue\n\nexport function createVueApp (App: ComponentOptions<VueCtor>, vue: V, config: AppConfig) {\n  Vue = vue\n  ensure(!!Vue, '构建 Vue 项目请把 process.env.FRAMEWORK 设置为 \\'vue\\'')\n\n  setReconciler()\n\n  Vue.config.getTagNamespace = noop\n\n  const elements: VNode[] = []\n  const pages: Array<(h: Vue.CreateElement) => VNode> = []\n  let appInstance: VueAppInstance\n\n  const wrapper = new (Vue as VueConstructor)({\n    render (h) {\n      while (pages.length > 0) {\n        const page = pages.pop()!\n        elements.push(page(h))\n      }\n      return h(App, { ref: 'app' }, elements.slice())\n    },\n    methods: {\n      mount (component: ComponentOptions<VueCtor>, id: string, cb: () => void) {\n        pages.push((h) => h(component, { key: id }))\n        this.updateSync(cb)\n      },\n      updateSync (this: VueInstance, cb: () => void) {\n        this._update(this._render(), false)\n        this.$children.forEach((child: VueInstance) => child._update(child._render(), false))\n        cb()\n      },\n      unmount (id: string, cb: () => void) {\n        for (let i = 0; i < elements.length; i++) {\n          const element = elements[i]\n          if (element.key === id) {\n            elements.splice(i, 1)\n            break\n          }\n        }\n\n        this.updateSync(cb)\n      }\n    }\n  })\n  if (!isBrowser) {\n    wrapper.$mount(document.getElementById('app') as any)\n  }\n  const app: AppInstance = Object.create({\n    mount (component: ComponentOptions<VueCtor>, id: string, cb: () => void) {\n      const page = connectVuePage(Vue, id)(component)\n      wrapper.mount(page, id, cb)\n    },\n\n    unmount (id: string, cb: () => void) {\n      wrapper.unmount(id, cb)\n    }\n  }, {\n    config: {\n      writable: true,\n      enumerable: true,\n      configurable: true,\n      value: config\n    },\n\n    onLaunch: {\n      writable: true,\n      enumerable: true,\n      value (options) {\n        Current.router = {\n          params: options?.query,\n          ...options\n        }\n        if (isBrowser) {\n          // 由于 H5 路由初始化的时候会清除 app 下的 dom 元素，所以需要在路由初始化后再执行 render\n          wrapper.$mount(document.getElementById('app') as any)\n        }\n        appInstance = wrapper.$refs.app as VueAppInstance\n        if (appInstance != null && isFunction(appInstance.$options.onLaunch)) {\n          appInstance.$options.onLaunch.call(appInstance, options)\n        }\n      }\n    },\n\n    onShow: {\n      writable: true,\n      enumerable: true,\n      value (options) {\n        Current.router = {\n          params: options?.query,\n          ...options\n        }\n        if (appInstance != null && isFunction(appInstance.$options.onShow)) {\n          appInstance.$options.onShow.call(appInstance, options)\n        }\n      }\n    },\n\n    onHide: {\n      writable: true,\n      enumerable: true,\n      value (options) {\n        if (appInstance != null && isFunction(appInstance.$options.onHide)) {\n          appInstance.$options.onHide.call(appInstance, options)\n        }\n      }\n    }\n  })\n\n  Current.app = app\n\n  return Current.app\n}\n","import { isFunction, isArray, ensure } from '@tarojs/shared'\nimport container from '../container'\nimport SERVICE_IDENTIFIER from '../constants/identifiers'\nimport { Current } from '../current'\nimport { injectPageInstance, safeExecute } from './common'\nimport { isBrowser } from '../env'\n\nimport type {\n  App,\n  Component,\n  ComponentPublicInstance,\n  VNode,\n  h as createElement\n} from '@vue/runtime-core'\nimport type { TaroElement } from '../dom/element'\nimport type { AppConfig as Config } from '@tarojs/taro'\nimport type { GetLifecycle, IHooks } from '../interface'\nimport type { AppInstance } from './instance'\n\nfunction createVue3Page (h: typeof createElement, id: string) {\n  return function (component): VNode {\n    const inject = {\n      props: {\n        tid: String\n      },\n      created () {\n        injectPageInstance(this, id)\n        // vue3 组件 created 时机比小程序页面 onShow 慢，因此在 created 后再手动触发一次 onShow。\n        this.$nextTick(() => {\n          safeExecute(id, 'onShow')\n        })\n      }\n    }\n\n    if (isArray(component.mixins)) {\n      const mixins = component.mixins\n      const idx = mixins.length - 1\n      if (!mixins[idx].props?.tid) {\n        // mixins 里还没注入过，直接推入数组\n        component.mixins.push(inject)\n      } else {\n        // mixins 里已经注入过，代替前者\n        component.mixins[idx] = inject\n      }\n    } else {\n      component.mixins = [inject]\n    }\n\n    return h(\n      isBrowser ? 'div' : 'root',\n      {\n        key: id,\n        id,\n        class: isBrowser ? 'taro_page' : ''\n      },\n      [\n        h(Object.assign({}, component), {\n          tid: id\n        })\n      ]\n    )\n  }\n}\n\nfunction setReconciler () {\n  const hooks = container.get<IHooks>(SERVICE_IDENTIFIER.Hooks)\n\n  const getLifecycle: GetLifecycle = function (instance, lifecycle) {\n    return instance.$options[lifecycle]\n  }\n\n  const modifyMpEvent = function (event) {\n    event.type = event.type.replace(/-/g, '')\n  }\n\n  hooks.getLifecycle = getLifecycle\n  hooks.modifyMpEvent = modifyMpEvent\n\n  if (process.env.TARO_ENV === 'h5') {\n    hooks.createPullDownComponent = (component, path, h: typeof createElement) => {\n      const inject = {\n        props: {\n          tid: String\n        },\n        created () {\n          injectPageInstance(this, path)\n        }\n      }\n\n      component.mixins = isArray(component.mixins)\n        ? component.mixins.push(inject)\n        : [inject]\n\n      return {\n        render () {\n          return h(\n            'taro-pull-to-refresh',\n            {\n              class: 'hydrated'\n            },\n            [h(component, this.$slots.default)]\n          )\n        }\n      }\n    }\n\n    hooks.getDOMNode = (el) => {\n      return el.$el as any\n    }\n  }\n}\n\nexport function createVue3App (app: App<TaroElement>, h: typeof createElement, config: Config) {\n  let pages: VNode[] = []\n  let appInstance: ComponentPublicInstance\n\n  ensure(!isFunction(app._component), '入口组件不支持使用函数式组件')\n\n  setReconciler()\n\n  app._component.render = function () {\n    return pages.slice()\n  }\n  if (!isBrowser) {\n    appInstance = app.mount('#app')\n  }\n  const appConfig: AppInstance = Object.create({\n    mount (component: Component, id: string, cb: () => void) {\n      const page = createVue3Page(h, id)(component)\n      pages.push(page)\n      this.updateAppInstance(cb)\n    },\n\n    unmount (id: string, cb: () => void) {\n      pages = pages.filter(page => page.key !== id)\n      this.updateAppInstance(cb)\n    },\n\n    updateAppInstance (cb?: (() => void | undefined)) {\n      appInstance.$forceUpdate()\n      appInstance.$nextTick(cb)\n    }\n  }, {\n    config: {\n      writable: true,\n      enumerable: true,\n      configurable: true,\n      value: config\n    },\n\n    onLaunch: {\n      writable: true,\n      enumerable: true,\n      value (options) {\n        Current.router = {\n          params: options?.query,\n          ...options\n        }\n        if (isBrowser) {\n          appInstance = app.mount('#app')\n        }\n        const onLaunch = appInstance?.$options?.onLaunch\n        isFunction(onLaunch) && onLaunch.call(appInstance, options)\n      }\n    },\n\n    onShow: {\n      writable: true,\n      enumerable: true,\n      value (options) {\n        Current.router = {\n          params: options?.query,\n          ...options\n        }\n        const onShow = appInstance?.$options?.onShow\n        isFunction(onShow) && onShow.call(appInstance, options)\n      }\n    },\n\n    onHide: {\n      writable: true,\n      enumerable: true,\n      value (options) {\n        const onHide = appInstance?.$options?.onHide\n        isFunction(onHide) && onHide.call(appInstance, options)\n      }\n    }\n  })\n\n  Current.app = appConfig\n\n  return Current.app\n}\n","import { isFunction, isArray } from '@tarojs/shared'\nimport { PageContext, R as React } from './react'\nimport { getPageInstance, injectPageInstance } from './common'\nimport { PageLifeCycle } from './instance'\nimport { Current } from '../current'\nimport { HOOKS_APP_ID } from '../constants'\n\nimport type { Func } from '../interface'\n\nconst taroHooks = (lifecycle: keyof PageLifeCycle) => {\n  return (fn: Func) => {\n    const id = React.useContext(PageContext) || HOOKS_APP_ID\n\n    // hold fn ref and keep up to date\n    const fnRef = React.useRef(fn)\n    if (fnRef.current !== fn) fnRef.current = fn\n\n    React.useLayoutEffect(() => {\n      let inst = getPageInstance(id)\n      let first = false\n      if (inst == null) {\n        first = true\n        inst = Object.create(null)\n      }\n\n      inst = inst!\n\n      // callback is immutable but inner function is up to date\n      const callback = (...args: any) => fnRef.current(...args)\n\n      if (isFunction(inst[lifecycle])) {\n        (inst[lifecycle] as any) = [inst[lifecycle], callback]\n      } else {\n        (inst[lifecycle] as any) = [\n          ...((inst[lifecycle] as any) || []),\n          callback\n        ]\n      }\n\n      if (first) {\n        injectPageInstance(inst!, id)\n      }\n      return () => {\n        const inst = getPageInstance(id)\n        const list = inst![lifecycle]\n        if (list === callback) {\n          (inst![lifecycle] as any) = undefined\n        } else if (isArray(list)) {\n          (inst![lifecycle] as any) = list.filter(item => item !== callback)\n        }\n      }\n    }, [])\n  }\n}\n\nexport const useDidShow = taroHooks('componentDidShow')\n\nexport const useDidHide = taroHooks('componentDidHide')\n\nexport const usePullDownRefresh = taroHooks('onPullDownRefresh')\n\nexport const useReachBottom = taroHooks('onReachBottom')\n\nexport const usePageScroll = taroHooks('onPageScroll')\n\nexport const useResize = taroHooks('onResize')\n\nexport const useShareAppMessage = taroHooks('onShareAppMessage')\n\nexport const useTabItemTap = taroHooks('onTabItemTap')\n\nexport const useTitleClick = taroHooks('onTitleClick')\n\nexport const useOptionMenuClick = taroHooks('onOptionMenuClick')\n\nexport const usePullIntercept = taroHooks('onPullIntercept')\n\nexport const useShareTimeline = taroHooks('onShareTimeline')\n\nexport const useAddToFavorites = taroHooks('onAddToFavorites')\n\nexport const useReady = taroHooks('onReady')\n\nexport const useRouter = (dynamic = false) => {\n  return dynamic ? Current.router : React.useMemo(() => Current.router, [])\n}\n\nexport const useScope = () => undefined\n","import { Current } from './current'\nimport { getPath } from './dsl/common'\nimport { TaroRootElement } from './dom/root'\nimport { document } from './bom/document'\nimport { isBrowser } from './env'\n\nimport type { Func } from './interface'\n\nfunction removeLeadingSlash (path?: string) {\n  if (path == null) {\n    return ''\n  }\n  return path.charAt(0) === '/' ? path.slice(1) : path\n}\n\nexport const nextTick = (cb: Func, ctx?: Record<string, any>) => {\n  const router = Current.router\n  const timerFunc = () => {\n    setTimeout(function () {\n      ctx ? cb.call(ctx) : cb()\n    }, 1)\n  }\n\n  if (router !== null) {\n    let pageElement: TaroRootElement | null = null\n    const path = getPath(removeLeadingSlash(router.path), router.params)\n    pageElement = document.getElementById<TaroRootElement>(path)\n    if (pageElement?.pendingUpdate) {\n      if (isBrowser) {\n        // eslint-disable-next-line dot-notation\n        pageElement.firstChild?.['componentOnReady']?.().then(() => {\n          timerFunc()\n        }) ?? timerFunc()\n      } else {\n        pageElement.enqueueUpdateCallback(cb, ctx)\n      }\n    } else {\n      timerFunc()\n    }\n  } else {\n    timerFunc()\n  }\n}\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// This method of obtaining a reference to the global object needs to be\n// kept identical to the way it is obtained in runtime.js\nvar g = (function() { return this })() || Function(\"return this\")();\n\n// Use `getOwnPropertyNames` because not all browsers support calling\n// `hasOwnProperty` on the global `self` object in a worker. See #183.\nvar hadRuntime = g.regeneratorRuntime &&\n  Object.getOwnPropertyNames(g).indexOf(\"regeneratorRuntime\") >= 0;\n\n// Save the old regeneratorRuntime in case it needs to be restored later.\nvar oldRuntime = hadRuntime && g.regeneratorRuntime;\n\n// Force reevalutation of runtime.js.\ng.regeneratorRuntime = undefined;\n\nmodule.exports = require(\"./runtime\");\n\nif (hadRuntime) {\n  // Restore the original runtime.\n  g.regeneratorRuntime = oldRuntime;\n} else {\n  // Remove the global property added by runtime.js.\n  try {\n    delete g.regeneratorRuntime;\n  } catch(e) {\n    g.regeneratorRuntime = undefined;\n  }\n}\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  runtime.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration. If the Promise is rejected, however, the\n          // result for this iteration will be rejected with the same\n          // reason. Note that rejections of yielded Promises are not\n          // thrown back into the generator function, as is the case\n          // when an awaited Promise is rejected. This difference in\n          // behavior between yield and await is important, because it\n          // allows the consumer to decide what to do with the yielded\n          // rejection (swallow it and continue, manually .throw it back\n          // into the generator, abandon iteration, whatever). With\n          // await, by contrast, there is no opportunity to examine the\n          // rejection reason outside the generator function, so the\n          // only option is to throw it from the await expression, and\n          // let the generator function handle the exception.\n          result.value = unwrapped;\n          resolve(result);\n        }, reject);\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  runtime.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        if (delegate.iterator.return) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // In sloppy mode, unbound `this` refers to the global object, fallback to\n  // Function constructor if we're in global strict mode. That is sadly a form\n  // of indirect eval which violates Content Security Policy.\n  (function() { return this })() || Function(\"return this\")()\n);\n","export const View = 'view'\nexport const Icon = 'icon'\nexport const Progress = 'progress'\nexport const RichText = 'rich-text'\nexport const Text = 'text'\nexport const Button = 'button'\nexport const Checkbox = 'checkbox'\nexport const CheckboxGroup = 'checkbox-group'\nexport const Form = 'form'\nexport const Input = 'input'\nexport const Label = 'label'\nexport const Picker = 'picker'\nexport const PickerView = 'picker-view'\nexport const PickerViewColumn = 'picker-view-column'\nexport const Radio = 'radio'\nexport const RadioGroup = 'radio-group'\nexport const Slider = 'slider'\nexport const Switch = 'switch'\nexport const CoverImage = 'cover-image'\nexport const Textarea = 'textarea'\nexport const CoverView = 'cover-view'\nexport const MovableArea = 'movable-area'\nexport const MovableView = 'movable-view'\nexport const ScrollView = 'scroll-view'\nexport const Swiper = 'swiper'\nexport const SwiperItem = 'swiper-item'\nexport const Navigator = 'navigator'\nexport const Audio = 'audio'\nexport const Camera = 'camera'\nexport const Image = 'image'\nexport const LivePlayer = 'live-player'\nexport const Video = 'video'\nexport const Canvas = 'canvas'\nexport const Ad = 'ad'\nexport const WebView = 'web-view'\nexport const Block = 'block'\nexport const Map = 'map'\nexport const Slot = 'slot'\nexport const CustomWrapper = 'custom-wrapper'\n","// For React.createElement's type\nexport * from '@tarojs/components/mini'\nexport const Editor = 'editor'\nexport const MatchMedia = 'match-media'\nexport const FunctionalPageNavigator = 'functional-page-navigator'\nexport const LivePusher = 'live-pusher'\nexport const OfficialAccount = 'official-account'\nexport const OpenData = 'open-data'\nexport const NavigationBar = 'navigation-bar'\nexport const PageMeta = 'page-meta'\nexport const VoipRoom = 'voip-room'\nexport const AdCustom = 'ad-custom'\nexport const PageContainer = 'page-container'\nexport const KeyboardAccessory = 'keyboard-accessory'\n","export const needPromiseApis = new Set([\n  'authPrivateMessage',\n  'disableAlertBeforeUnload',\n  'enableAlertBeforeUnload',\n  'getBackgroundFetchData',\n  'getGroupEnterInfo',\n  'getShareInfo',\n  'getWeRunData',\n  'join1v1Chat',\n  'openVideoEditor',\n  'saveFileToDisk',\n  'scanItem',\n  'setEnable1v1Chat',\n  'setWindowSize',\n  'sendBizRedPacket',\n  'startFacialRecognitionVerify',\n  'openCustomerServiceChat'\n])\n","import { processApis } from '@tarojs/shared'\nimport { needPromiseApis } from './apis-list'\n\ndeclare const wx: any\n\nexport function initNativeApi (taro) {\n  processApis(taro, wx, {\n    needPromiseApis,\n    modifyApis (apis) {\n      // fix https://github.com/NervJS/taro/issues/9899\n      apis.delete('lanDebug')\n    }\n  })\n  taro.cloud = wx.cloud\n}\n","import { Shortcuts } from './shortcuts'\n\nexport const styles = {\n  style: `i.${Shortcuts.Style}`,\n  class: `i.${Shortcuts.Class}`\n}\n\nexport const events = {\n  bindtap: 'eh'\n}\n\nexport const touchEvents = {\n  bindTouchStart: '',\n  bindTouchMove: '',\n  bindTouchEnd: '',\n  bindTouchCancel: '',\n  bindLongTap: ''\n}\n\nexport const animationEvents = {\n  bindAnimationStart: '',\n  bindAnimationIteration: '',\n  bindAnimationEnd: '',\n  bindTransitionEnd: ''\n}\n\nexport function singleQuote (s: string) {\n  return `'${s}'`\n}\n\nconst View = {\n  'hover-class': singleQuote('none'),\n  'hover-stop-propagation': 'false',\n  'hover-start-time': '50',\n  'hover-stay-time': '400',\n  animation: '',\n  ...touchEvents,\n  ...animationEvents\n}\n\nconst Icon = {\n  type: '',\n  size: '23',\n  color: ''\n}\n\nconst MapComp = {\n  longitude: '',\n  latitude: '',\n  scale: '16',\n  markers: '[]',\n  covers: '',\n  polyline: '[]',\n  circles: '[]',\n  controls: '[]',\n  'include-points': '[]',\n  'show-location': '',\n  'layer-style': '1',\n  bindMarkerTap: '',\n  bindControlTap: '',\n  bindCalloutTap: '',\n  bindUpdated: '',\n  ...touchEvents\n}\n\nconst Progress = {\n  percent: '',\n  'stroke-width': '6',\n  color: singleQuote('#09BB07'),\n  activeColor: singleQuote('#09BB07'),\n  backgroundColor: singleQuote('#EBEBEB'),\n  active: 'false',\n  'active-mode': singleQuote('backwards'),\n  'show-info': 'false'\n}\n\nconst RichText = {\n  nodes: '[]'\n}\n\nconst Text = {\n  selectable: 'false',\n  space: '',\n  decode: 'false'\n}\n\nconst Button = {\n  size: singleQuote('default'),\n  type: '',\n  plain: 'false',\n  disabled: '',\n  loading: 'false',\n  'form-type': '',\n  'open-type': '',\n  'hover-class': singleQuote('button-hover'),\n  'hover-stop-propagation': 'false',\n  'hover-start-time': '20',\n  'hover-stay-time': '70',\n  name: '',\n  ...touchEvents\n}\n\nconst Checkbox = {\n  value: '',\n  disabled: '',\n  checked: 'false',\n  color: singleQuote('#09BB07'),\n  name: ''\n}\n\nconst CheckboxGroup = {\n  bindChange: '',\n  name: ''\n}\n\nconst Form = {\n  'report-submit': 'false',\n  bindSubmit: '',\n  bindReset: '',\n  name: ''\n}\n\nconst Input = {\n  value: '',\n  type: singleQuote(''),\n  password: 'false',\n  placeholder: '',\n  'placeholder-style': '',\n  'placeholder-class': singleQuote('input-placeholder'),\n  disabled: '',\n  maxlength: '140',\n  'cursor-spacing': '0',\n  focus: 'false',\n  'confirm-type': singleQuote('done'),\n  'confirm-hold': 'false',\n  cursor: 'i.value.length',\n  'selection-start': '-1',\n  'selection-end': '-1',\n  bindInput: '',\n  bindFocus: '',\n  bindBlur: '',\n  bindConfirm: '',\n  name: ''\n}\n\nconst Label = {\n  for: '',\n  name: ''\n}\n\nconst Picker = {\n  mode: singleQuote('selector'),\n  disabled: '',\n  range: '',\n  'range-key': '',\n  value: '',\n  start: '',\n  end: '',\n  fields: singleQuote('day'),\n  'custom-item': '',\n  name: '',\n  bindCancel: '',\n  bindChange: '',\n  bindColumnChange: ''\n}\n\nconst PickerView = {\n  value: '',\n  'indicator-style': '',\n  'indicator-class': '',\n  'mask-style': '',\n  'mask-class': '',\n  bindChange: '',\n  name: ''\n}\n\nconst PickerViewColumn = {\n  name: ''\n}\n\nconst Radio = {\n  value: '',\n  checked: 'false',\n  disabled: '',\n  color: singleQuote('#09BB07'),\n  name: ''\n}\n\nconst RadioGroup = {\n  bindChange: '',\n  name: ''\n}\n\nconst Slider = {\n  min: '0',\n  max: '100',\n  step: '1',\n  disabled: '',\n  value: '0',\n  activeColor: singleQuote('#1aad19'),\n  backgroundColor: singleQuote('#e9e9e9'),\n  'block-size': '28',\n  'block-color': singleQuote('#ffffff'),\n  'show-value': 'false',\n  bindChange: '',\n  bindChanging: '',\n  name: ''\n}\n\nconst Switch = {\n  checked: 'false',\n  disabled: '',\n  type: singleQuote('switch'),\n  color: singleQuote('#04BE02'),\n  bindChange: '',\n  name: ''\n}\n\nconst Textarea = {\n  value: '',\n  placeholder: '',\n  'placeholder-style': '',\n  'placeholder-class': singleQuote('textarea-placeholder'),\n  disabled: '',\n  maxlength: '140',\n  'auto-focus': 'false',\n  focus: 'false',\n  'auto-height': 'false',\n  fixed: 'false',\n  'cursor-spacing': '0',\n  cursor: '-1',\n  'selection-start': '-1',\n  'selection-end': '-1',\n  bindFocus: '',\n  bindBlur: '',\n  bindLineChange: '',\n  bindInput: '',\n  bindConfirm: '',\n  name: ''\n}\n\nconst CoverImage = {\n  src: '',\n  bindLoad: 'eh',\n  bindError: 'eh'\n}\n\nconst CoverView = {\n  'scroll-top': 'false',\n  ...touchEvents\n}\n\nconst MovableArea = {\n  'scale-area': 'false'\n}\n\nconst MovableView = {\n  direction: 'none',\n  inertia: 'false',\n  'out-of-bounds': 'false',\n  x: '',\n  y: '',\n  damping: '20',\n  friction: '2',\n  disabled: '',\n  scale: 'false',\n  'scale-min': '0.5',\n  'scale-max': '10',\n  'scale-value': '1',\n  animation: 'true',\n  bindChange: '',\n  bindScale: '',\n  bindHTouchMove: '',\n  bindVTouchMove: '',\n  width: singleQuote('10px'),\n  height: singleQuote('10px'),\n  ...touchEvents,\n  ...animationEvents\n}\n\nconst ScrollView = {\n  'scroll-x': 'false',\n  'scroll-y': 'false',\n  'upper-threshold': '50',\n  'lower-threshold': '50',\n  'scroll-top': '',\n  'scroll-left': '',\n  'scroll-into-view': '',\n  'scroll-with-animation': 'false',\n  'enable-back-to-top': 'false',\n  bindScrollToUpper: '',\n  bindScrollToLower: '',\n  bindScroll: '',\n  ...touchEvents,\n  ...animationEvents\n}\n\nconst Swiper = {\n  'indicator-dots': 'false',\n  'indicator-color': singleQuote('rgba(0, 0, 0, .3)'),\n  'indicator-active-color': singleQuote('#000000'),\n  autoplay: 'false',\n  current: '0',\n  interval: '5000',\n  duration: '500',\n  circular: 'false',\n  vertical: 'false',\n  'previous-margin': '\\'0px\\'',\n  'next-margin': '\\'0px\\'',\n  'display-multiple-items': '1',\n  bindChange: '',\n  bindTransition: '',\n  bindAnimationFinish: '',\n  ...touchEvents\n}\n\nconst SwiperItem = {\n  'item-id': ''\n}\n\nconst Navigator = {\n  url: '',\n  'open-type': singleQuote('navigate'),\n  delta: '1',\n  'hover-class': singleQuote('navigator-hover'),\n  'hover-stop-propagation': 'false',\n  'hover-start-time': '50',\n  'hover-stay-time': '600',\n  bindSuccess: '',\n  bindFail: '',\n  bindComplete: ''\n}\n\nconst Audio = {\n  id: '',\n  src: '',\n  loop: 'false',\n  controls: 'false',\n  poster: '',\n  name: '',\n  author: '',\n  bindError: '',\n  bindPlay: '',\n  bindPause: '',\n  bindTimeUpdate: '',\n  bindEnded: ''\n}\n\nconst Camera = {\n  'device-position': singleQuote('back'),\n  flash: singleQuote('auto'),\n  bindStop: '',\n  bindError: ''\n}\n\nconst Image = {\n  src: '',\n  mode: singleQuote('scaleToFill'),\n  'lazy-load': 'false',\n  bindError: '',\n  bindLoad: '',\n  ...touchEvents\n}\n\nconst LivePlayer = {\n  src: '',\n  autoplay: 'false',\n  muted: 'false',\n  orientation: singleQuote('vertical'),\n  'object-fit': singleQuote('contain'),\n  'background-mute': 'false',\n  'min-cache': '1',\n  'max-cache': '3',\n  animation: '',\n  bindStateChange: '',\n  bindFullScreenChange: '',\n  bindNetStatus: ''\n}\n\nconst Video = {\n  src: '',\n  duration: '',\n  controls: 'true',\n  'danmu-list': '',\n  'danmu-btn': '',\n  'enable-danmu': '',\n  autoplay: 'false',\n  loop: 'false',\n  muted: 'false',\n  'initial-time': '0',\n  'page-gesture': 'false',\n  direction: '',\n  'show-progress': 'true',\n  'show-fullscreen-btn': 'true',\n  'show-play-btn': 'true',\n  'show-center-play-btn': 'true',\n  'enable-progress-gesture': 'true',\n  'object-fit': singleQuote('contain'),\n  poster: '',\n  'show-mute-btn': 'false',\n  animation: '',\n  bindPlay: '',\n  bindPause: '',\n  bindEnded: '',\n  bindTimeUpdate: '',\n  bindFullScreenChange: '',\n  bindWaiting: '',\n  bindError: ''\n}\n\nconst Canvas = {\n  'canvas-id': '',\n  'disable-scroll': 'false',\n  bindError: '',\n  ...touchEvents\n}\n\nconst Ad = {\n  'unit-id': '',\n  'ad-intervals': '',\n  bindLoad: '',\n  bindError: '',\n  bindClose: ''\n}\n\nconst WebView = {\n  src: '',\n  bindMessage: '',\n  bindLoad: '',\n  bindError: ''\n}\n\nconst Block = {}\n\n// For Vue，因为 slot 标签被 vue 占用了\nconst SlotView = {\n  name: ''\n}\n\n// For React\n// Slot 和 SlotView 最终都会编译成 <view slot={{ i.name }} />\n// 因为 <slot name=\"{{ i.name }}\" /> 适用性没有前者高（无法添加类和样式）\n// 不给 View 直接加 slot 属性的原因是性能损耗\nconst Slot = {\n  name: ''\n}\n\nexport const internalComponents: Record<string, Record<string, string>> = {\n  View,\n  Icon,\n  Progress,\n  RichText,\n  Text,\n  Button,\n  Checkbox,\n  CheckboxGroup,\n  Form,\n  Input,\n  Label,\n  Picker,\n  PickerView,\n  PickerViewColumn,\n  Radio,\n  RadioGroup,\n  Slider,\n  Switch,\n  CoverImage,\n  Textarea,\n  CoverView,\n  MovableArea,\n  MovableView,\n  ScrollView,\n  Swiper,\n  SwiperItem,\n  Navigator,\n  Audio,\n  Camera,\n  Image,\n  LivePlayer,\n  Video,\n  Canvas,\n  Ad,\n  WebView,\n  Block,\n  Map: MapComp,\n  Slot,\n  SlotView\n}\n\nexport const controlledComponent = new Set([\n  'input',\n  'checkbox',\n  'picker',\n  'picker-view',\n  'radio',\n  'slider',\n  'switch',\n  'textarea'\n])\n\nexport const focusComponents = new Set([\n  'input',\n  'textarea'\n])\n\nexport const voidElements = new Set([\n  'progress',\n  'icon',\n  'rich-text',\n  'input',\n  'textarea',\n  'slider',\n  'switch',\n  'audio',\n  'ad',\n  'official-account',\n  'open-data',\n  'navigation-bar'\n])\n\nexport const nestElements = new Map([\n  ['view', -1],\n  ['catch-view', -1],\n  ['cover-view', -1],\n  ['static-view', -1],\n  ['pure-view', -1],\n  ['block', -1],\n  ['text', -1],\n  ['static-text', 6],\n  ['slot', 8],\n  ['slot-view', 8],\n  ['label', 6],\n  ['form', 4],\n  ['scroll-view', 4],\n  ['swiper', 4],\n  ['swiper-item', 4]\n])\n","import { initNativeApi } from './apis'\n\nexport { initNativeApi }\nexport * from './components'\nexport * from './apis-list'\nexport const hostConfig = {\n  initNativeApi\n}\n","import { mergeReconciler, mergeInternalComponents } from '@tarojs/shared'\nimport { hostConfig, components } from './runtime-utils'\n\nmergeReconciler(hostConfig)\nmergeInternalComponents(components)\n","import { TaroElement, Style, FormElement } from '@tarojs/runtime'\nimport { isFunction, isString, isObject, isNumber, internalComponents, capitalize, toCamelCase } from '@tarojs/shared'\n\nexport type Props = Record<string, unknown>\n\nfunction isEventName (s: string) {\n  return s[0] === 'o' && s[1] === 'n'\n}\n\nconst IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i\n\nexport function updateProps (dom: TaroElement, oldProps: Props, newProps: Props) {\n  let i: string\n\n  for (i in oldProps) {\n    if (!(i in newProps)) {\n      setProperty(dom, i, null, oldProps[i])\n    }\n  }\n  const isFormElement = dom instanceof FormElement\n  for (i in newProps) {\n    if (oldProps[i] !== newProps[i] || (isFormElement && i === 'value')) {\n      setProperty(dom, i, newProps[i], oldProps[i])\n    }\n  }\n}\n\n// function eventProxy (e: CommonEvent) {\n//   const el = document.getElementById(e.currentTarget.id)\n//   const handlers = el!.__handlers[e.type]\n//   handlers[0](e)\n// }\n\nfunction setEvent (dom: TaroElement, name: string, value: unknown, oldValue?: unknown) {\n  const isCapture = name.endsWith('Capture')\n  let eventName = name.toLowerCase().slice(2)\n  if (isCapture) {\n    eventName = eventName.slice(0, -7)\n  }\n\n  const compName = capitalize(toCamelCase(dom.tagName.toLowerCase()))\n\n  if (eventName === 'click' && compName in internalComponents) {\n    eventName = 'tap'\n  }\n\n  if (isFunction(value)) {\n    if (!oldValue) {\n      dom.addEventListener(eventName, value, isCapture)\n    }\n    if (eventName === 'regionchange') {\n      dom.__handlers.begin[0] = value\n      dom.__handlers.end[0] = value\n    } else {\n      dom.__handlers[eventName][0] = value\n    }\n  } else {\n    dom.removeEventListener(eventName, oldValue as any)\n  }\n}\n\nfunction setStyle (style: Style, key: string, value: string | number) {\n  if (key[0] === '-') {\n    style.setProperty(key, value.toString())\n  }\n\n  style[key] =\n    isNumber(value) && IS_NON_DIMENSIONAL.test(key) === false\n      ? value + 'px'\n      : value == null\n        ? ''\n        : value\n}\n\ntype StyleValue = Record<string, string | number>\ninterface DangerouslySetInnerHTML {\n  __html?: string\n}\n\nfunction setProperty (dom: TaroElement, name: string, value: unknown, oldValue?: unknown) {\n  name = name === 'className' ? 'class' : name\n\n  if (\n    name === 'key' ||\n    name === 'children' ||\n    name === 'ref'\n  ) {\n    // skip\n  } else if (name === 'style') {\n    const style = dom.style\n    if (isString(value)) {\n      style.cssText = value\n    } else {\n      if (isString(oldValue)) {\n        style.cssText = ''\n        oldValue = null\n      }\n\n      if (isObject<StyleValue>(oldValue)) {\n        for (const i in oldValue) {\n          if (!(value && i in (value as StyleValue))) {\n            setStyle(style, i, '')\n          }\n        }\n      }\n\n      if (isObject<StyleValue>(value)) {\n        for (const i in value) {\n          if (!oldValue || value[i] !== (oldValue as StyleValue)[i]) {\n            setStyle(style, i, value[i])\n          }\n        }\n      }\n    }\n  } else if (isEventName(name)) {\n    setEvent(dom, name, value, oldValue)\n  } else if (name === 'dangerouslySetInnerHTML') {\n    const newHtml = (value as DangerouslySetInnerHTML)?.__html ?? ''\n    const oldHtml = (oldValue as DangerouslySetInnerHTML)?.__html ?? ''\n    if (newHtml || oldHtml) {\n      if (oldHtml !== newHtml) {\n        dom.innerHTML = newHtml\n      }\n    }\n  } else if (!isFunction(value)) {\n    if (value == null) {\n      dom.removeAttribute(name)\n    } else {\n      dom.setAttribute(name, value as string)\n    }\n  }\n}\n","/* eslint-disable @typescript-eslint/indent */\nimport Reconciler, { HostConfig } from 'react-reconciler'\nimport * as scheduler from 'scheduler'\nimport { TaroElement, TaroText, document } from '@tarojs/runtime'\nimport { noop, EMPTY_ARR } from '@tarojs/shared'\nimport { Props, updateProps } from './props'\n\nconst {\n  unstable_now: now\n} = scheduler\n\nfunction returnFalse () {\n  return false\n}\n\nconst hostConfig: HostConfig<\n  string, // Type\n  Props, // Props\n  TaroElement, // Container\n  TaroElement, // Instance\n  TaroText, // TextInstance\n  TaroElement, // SuspenseInstance\n  TaroElement, // HydratableInstance\n  TaroElement, // PublicInstance\n  Record<string, any>, // HostContext\n  string[], // UpdatePayload\n  unknown, // ChildSet\n  unknown, // TimeoutHandle\n  unknown // NoTimeout\n> & {\n  hideInstance (instance: TaroElement): void\n  unhideInstance (instance: TaroElement, props): void\n} = {\n  createInstance (type) {\n    return document.createElement(type)\n  },\n\n  createTextInstance (text) {\n    return document.createTextNode(text)\n  },\n\n  getPublicInstance (inst: TaroElement) {\n    return inst\n  },\n\n  getRootHostContext () {\n    return {}\n  },\n\n  getChildHostContext () {\n    return {}\n  },\n\n  appendChild (parent, child) {\n    parent.appendChild(child)\n  },\n\n  appendInitialChild (parent, child) {\n    parent.appendChild(child)\n  },\n\n  appendChildToContainer (parent, child) {\n    parent.appendChild(child)\n  },\n\n  removeChild (parent, child) {\n    parent.removeChild(child)\n  },\n\n  removeChildFromContainer (parent, child) {\n    parent.removeChild(child)\n  },\n\n  insertBefore (parent, child, refChild) {\n    parent.insertBefore(child, refChild)\n  },\n\n  insertInContainerBefore (parent, child, refChild) {\n    parent.insertBefore(child, refChild)\n  },\n\n  commitTextUpdate (textInst, _, newText) {\n    textInst.nodeValue = newText\n  },\n\n  finalizeInitialChildren (dom, _, props) {\n    updateProps(dom, {}, props)\n    return false\n  },\n\n  prepareUpdate () {\n    return EMPTY_ARR\n  },\n\n  commitUpdate (dom, _payload, _type, oldProps, newProps) {\n    updateProps(dom, oldProps, newProps)\n  },\n\n  hideInstance (instance) {\n    const style = instance.style\n    style.setProperty('display', 'none')\n  },\n\n  unhideInstance (instance, props) {\n    const styleProp = props.style\n    let display = styleProp?.hasOwnProperty('display') ? styleProp.display : null\n    display = display == null || typeof display === 'boolean' || display === '' ? '' : ('' + display).trim()\n    // eslint-disable-next-line dot-notation\n    instance.style['display'] = display\n  },\n\n  clearContainer (element) {\n    if (element.childNodes.length > 0) {\n      element.textContent = ''\n    }\n  },\n\n  queueMicrotask: typeof Promise !== 'undefined'\n  ? callback =>\n      Promise.resolve(null)\n        .then(callback)\n        .catch(function (error) {\n          setTimeout(() => {\n            throw error\n          })\n        })\n  : setTimeout,\n\n  shouldSetTextContent: returnFalse,\n  prepareForCommit (..._: any[]) { return null },\n  resetAfterCommit: noop,\n  commitMount: noop,\n  now,\n  cancelTimeout: clearTimeout,\n  scheduleTimeout: setTimeout,\n  preparePortalMount: noop,\n  noTimeout: -1,\n  supportsMutation: true,\n  supportsPersistence: false,\n  isPrimaryRenderer: true,\n  supportsHydration: false\n}\n\nconst TaroReconciler = Reconciler(hostConfig)\n\nif (process.env.NODE_ENV !== 'production') {\n  const foundDevTools = TaroReconciler.injectIntoDevTools({\n    bundleType: 1,\n    version: '17.0.2',\n    rendererPackageName: 'taro-react'\n  })\n  if (!foundDevTools) {\n    // eslint-disable-next-line no-console\n    console.info('%cDownload the React DevTools ' + 'for a better development experience: ' + 'https://reactjs.org/link/react-devtools', 'font-weight:bold')\n  }\n}\n\nexport {\n  TaroReconciler\n}\n","import { TaroElement } from '@tarojs/runtime'\nimport { ReactNode } from 'react'\nimport { TaroReconciler } from './reconciler'\nimport { OpaqueRoot } from 'react-reconciler'\n\nexport const ContainerMap: WeakMap<TaroElement, Root> = new WeakMap()\n\ntype Renderer = typeof TaroReconciler\n\nexport type Callback = () => void | null | undefined\n\nclass Root {\n  private renderer: Renderer\n  private internalRoot: OpaqueRoot\n\n  public constructor (renderer: Renderer, domContainer: TaroElement) {\n    this.renderer = renderer\n    this.internalRoot = renderer.createContainer(domContainer, 0/** LegacyRoot: react-reconciler/src/ReactRootTags.js */, false, null)\n  }\n\n  public render (children: ReactNode, cb: Callback) {\n    this.renderer.updateContainer(children, this.internalRoot, null, cb)\n\n    return this.renderer.getPublicRootInstance(this.internalRoot)\n  }\n\n  public unmount (cb: Callback) {\n    this.renderer.updateContainer(null, this.internalRoot, null, cb)\n  }\n}\n\nexport function render (element: ReactNode, domContainer: TaroElement, cb: Callback) {\n  const oldRoot = ContainerMap.get(domContainer)\n  if (oldRoot != null) {\n    return oldRoot.render(element, cb)\n  }\n\n  const root = new Root(TaroReconciler, domContainer)\n  ContainerMap.set(domContainer, root)\n  return root.render(element, cb)\n}\n","/* eslint-disable @typescript-eslint/no-unused-vars */\nimport { render, ContainerMap } from './render'\nimport { TaroReconciler } from './reconciler'\nimport { TaroElement } from '@tarojs/runtime'\nimport { ReactNode } from 'react'\nimport { ensure } from '@tarojs/shared'\n\nconst unstable_batchedUpdates = TaroReconciler.batchedUpdates\n\nfunction unmountComponentAtNode (dom: TaroElement) {\n  ensure(dom && [1, 8, 9, 11].includes(dom.nodeType), 'unmountComponentAtNode(...): Target container is not a DOM element.')\n\n  const root = ContainerMap.get(dom)\n\n  if (!root) return false\n\n  unstable_batchedUpdates(() => {\n    root.unmount(() => {\n      ContainerMap.delete(dom)\n    })\n  }, null)\n\n  return true\n}\n\nfunction findDOMNode (comp?: TaroElement | ReactNode) {\n  if (comp == null) {\n    return null\n  }\n\n  const nodeType = (comp as TaroElement).nodeType\n  if (nodeType === 1 || nodeType === 3) {\n    return comp\n  }\n\n  return TaroReconciler.findHostInstance(comp as Record<string, any>)\n}\n\nconst portalType = typeof Symbol === 'function' && Symbol.for\n  ? Symbol.for('react.portal')\n  : 0xeaca\n\nfunction createPortal (\n  children: ReactNode,\n  containerInfo: TaroElement,\n  key?: string\n) {\n  return {\n    $$typeof: portalType,\n    key: key == null ? null : String(key),\n    children,\n    containerInfo,\n    implementation: null\n  }\n}\n\nexport {\n  render,\n  unstable_batchedUpdates,\n  unmountComponentAtNode,\n  findDOMNode,\n  createPortal\n}\n\nexport default {\n  render,\n  unstable_batchedUpdates,\n  unmountComponentAtNode,\n  findDOMNode,\n  createPortal\n}\n","export function isString (o: unknown): o is string {\n  return typeof o === 'string'\n}\n\nexport function isUndefined (o: unknown): o is undefined {\n  return typeof o === 'undefined'\n}\n\nexport function isNull (o: unknown): o is null {\n  return o === null\n}\n\nexport function isObject<T> (o: unknown): o is T {\n  return o !== null && typeof o === 'object'\n}\n\nexport function isBoolean (o: unknown): o is boolean {\n  return o === true || o === false\n}\n\nexport function isFunction (o: unknown): o is (...args: any[]) => any {\n  return typeof o === 'function'\n}\n\nexport function isNumber (o: unknown): o is number {\n  return typeof o === 'number'\n}\n\nexport function isBooleanStringLiteral (o: unknown): o is string {\n  return o === 'true' || o === 'false'\n}\n\nexport const isArray = Array.isArray\n","import { internalComponents } from './components'\nimport { isArray } from './is'\n\nexport const EMPTY_OBJ: any = {}\n\nexport const EMPTY_ARR = []\n\nexport const noop = (..._: unknown[]) => {}\n\nexport const defaultReconciler = Object.create(null)\n\n/**\n * Boxed value.\n *\n * @typeparam T Value type.\n */\nexport interface Box<T> {\n  v: T;\n}\n\n/**\n * box creates a boxed value.\n *\n * @typeparam T Value type.\n * @param v Value.\n * @returns Boxed value.\n */\nexport const box = <T>(v: T) => ({ v })\n\n/**\n * box creates a boxed value.\n *\n * @typeparam T Value type.\n * @param b Boxed value.\n * @returns Value.\n */\nexport const unbox = <T>(b: Box<T>) => b.v\n\nexport function toDashed (s: string) {\n  return s.replace(/([a-z0-9])([A-Z])/g, '$1-$2').toLowerCase()\n}\n\nexport function toCamelCase (s: string) {\n  let camel = ''\n  let nextCap = false\n  for (let i = 0; i < s.length; i++) {\n    if (s[i] !== '-') {\n      camel += nextCap ? s[i].toUpperCase() : s[i]\n      nextCap = false\n    } else {\n      nextCap = true\n    }\n  }\n  return camel\n}\n\nexport const toKebabCase = function (string) {\n  return string.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase()\n}\n\nexport function capitalize (s: string) {\n  return s.charAt(0).toUpperCase() + s.slice(1)\n}\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty\n\nexport const hasOwn = (\n  val: Record<any, any>,\n  key: string | symbol\n) => hasOwnProperty.call(val, key)\n\nconst reportIssue = '如有疑问，请提交 issue 至：https://github.com/nervjs/taro/issues'\n\n/**\n * ensure takes a condition and throw a error if the condition fails,\n * like failure::ensure: https://docs.rs/failure/0.1.1/failure/macro.ensure.html\n * @param condition condition.\n * @param msg error message.\n */\nexport function ensure (condition: boolean, msg: string): asserts condition {\n  if (!condition) {\n    throw new Error(msg + '\\n' + reportIssue)\n  }\n}\n\nexport function warn (condition: boolean, msg: string) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (condition) {\n      console.warn(`[taro warn] ${msg}`)\n    }\n  }\n}\n\nexport function queryToJson (str) {\n  const dec = decodeURIComponent\n  const qp = str.split('&')\n  const ret = {}\n  let name\n  let val\n  for (let i = 0, l = qp.length, item; i < l; ++i) {\n    item = qp[i]\n    if (item.length) {\n      const s = item.indexOf('=')\n      if (s < 0) {\n        name = dec(item)\n        val = ''\n      } else {\n        name = dec(item.slice(0, s))\n        val = dec(item.slice(s + 1))\n      }\n      if (typeof ret[name] === 'string') { // inline'd type check\n        ret[name] = [ret[name]]\n      }\n\n      if (Array.isArray(ret[name])) {\n        ret[name].push(val)\n      } else {\n        ret[name] = val\n      }\n    }\n  }\n  return ret // Object\n}\n\nlet _uniqueId = 1\nconst _loadTime = (new Date()).getTime().toString()\n\nexport function getUniqueKey () {\n  return _loadTime + (_uniqueId++)\n}\n\nconst cacheData = {}\n\nexport function cacheDataSet (key, val) {\n  cacheData[key] = val\n}\n\nexport function cacheDataGet (key, delelteAfterGet?) {\n  const temp = cacheData[key]\n  delelteAfterGet && delete cacheData[key]\n  return temp\n}\n\nexport function cacheDataHas (key) {\n  return key in cacheData\n}\n\nexport function mergeInternalComponents (components) {\n  Object.keys(components).forEach(name => {\n    if (name in internalComponents) {\n      Object.assign(internalComponents[name], components[name])\n    } else {\n      internalComponents[name] = components[name]\n    }\n  })\n}\n\nexport function mergeReconciler (hostConfig) {\n  Object.keys(hostConfig).forEach(key => {\n    const value = hostConfig[key]\n    const raw = defaultReconciler[key]\n    if (!raw) {\n      defaultReconciler[key] = value\n    } else {\n      if (isArray(raw)) {\n        defaultReconciler[key] = raw.push(value)\n      } else {\n        defaultReconciler[key] = [raw, value]\n      }\n    }\n  })\n}\n\nexport function unsupport (api) {\n  return function () {\n    console.warn(`小程序暂不支持 ${api}`)\n  }\n}\n\nexport function setUniqueKeyToRoute (key: string, obj) {\n  const routerParamsPrivateKey = '__key_'\n  const useDataCacheApis = [\n    'navigateTo',\n    'redirectTo',\n    'reLaunch',\n    'switchTab'\n  ]\n\n  if (useDataCacheApis.indexOf(key) > -1) {\n    const url = obj.url = obj.url || ''\n    const hasMark = url.indexOf('?') > -1\n    const cacheKey = getUniqueKey()\n    obj.url += (hasMark ? '&' : '?') + `${routerParamsPrivateKey}=${cacheKey}`\n  }\n}\n\nexport function indent (str: string, size: number): string {\n  return str.split('\\n')\n    .map((line, index) => {\n      const indent = index === 0 ? '' : Array(size).fill(' ').join('')\n      return indent + line\n    })\n    .join('\\n')\n}\n","import { unsupport, setUniqueKeyToRoute } from './utils'\n\ndeclare const getCurrentPages: () => any\ndeclare const getApp: () => any\ndeclare const requirePlugin: () => void\n\ntype IObject = Record<string, any>\n\ninterface IProcessApisIOptions {\n  noPromiseApis?: Set<string>\n  needPromiseApis?: Set<string>\n  handleSyncApis?: (key: string, global: IObject, args: any[]) => any\n  transformMeta?: (key: string, options: IObject) => { key: string, options: IObject },\n  modifyApis?: (apis: Set<string>) => void\n  modifyAsyncResult?: (key: string, res) => void\n  isOnlyPromisify?: boolean\n  [propName: string]: any\n}\n\nconst needPromiseApis = new Set<string>([\n  'addPhoneContact',\n  'authorize',\n  'canvasGetImageData',\n  'canvasPutImageData',\n  'canvasToTempFilePath',\n  'checkSession',\n  'chooseAddress',\n  'chooseImage',\n  'chooseInvoiceTitle',\n  'chooseLocation',\n  'chooseVideo',\n  'clearStorage',\n  'closeBLEConnection',\n  'closeBluetoothAdapter',\n  'closeSocket',\n  'compressImage',\n  'connectSocket',\n  'createBLEConnection',\n  'downloadFile',\n  'exitMiniProgram',\n  'getAvailableAudioSources',\n  'getBLEDeviceCharacteristics',\n  'getBLEDeviceServices',\n  'getBatteryInfo',\n  'getBeacons',\n  'getBluetoothAdapterState',\n  'getBluetoothDevices',\n  'getClipboardData',\n  'getConnectedBluetoothDevices',\n  'getConnectedWifi',\n  'getExtConfig',\n  'getFileInfo',\n  'getImageInfo',\n  'getLocation',\n  'getNetworkType',\n  'getSavedFileInfo',\n  'getSavedFileList',\n  'getScreenBrightness',\n  'getSetting',\n  'getStorage',\n  'getStorageInfo',\n  'getSystemInfo',\n  'getUserInfo',\n  'getWifiList',\n  'hideHomeButton',\n  'hideShareMenu',\n  'hideTabBar',\n  'hideTabBarRedDot',\n  'loadFontFace',\n  'login',\n  'makePhoneCall',\n  'navigateBack',\n  'navigateBackMiniProgram',\n  'navigateTo',\n  'navigateToBookshelf',\n  'navigateToMiniProgram',\n  'notifyBLECharacteristicValueChange',\n  'hideKeyboard',\n  'hideLoading',\n  'hideNavigationBarLoading',\n  'hideToast',\n  'openBluetoothAdapter',\n  'openDocument',\n  'openLocation',\n  'openSetting',\n  'pageScrollTo',\n  'previewImage',\n  'queryBookshelf',\n  'reLaunch',\n  'readBLECharacteristicValue',\n  'redirectTo',\n  'removeSavedFile',\n  'removeStorage',\n  'removeTabBarBadge',\n  'requestSubscribeMessage',\n  'saveFile',\n  'saveImageToPhotosAlbum',\n  'saveVideoToPhotosAlbum',\n  'scanCode',\n  'sendSocketMessage',\n  'setBackgroundColor',\n  'setBackgroundTextStyle',\n  'setClipboardData',\n  'setEnableDebug',\n  'setInnerAudioOption',\n  'setKeepScreenOn',\n  'setNavigationBarColor',\n  'setNavigationBarTitle',\n  'setScreenBrightness',\n  'setStorage',\n  'setTabBarBadge',\n  'setTabBarItem',\n  'setTabBarStyle',\n  'showActionSheet',\n  'showFavoriteGuide',\n  'showLoading',\n  'showModal',\n  'showShareMenu',\n  'showTabBar',\n  'showTabBarRedDot',\n  'showToast',\n  'startBeaconDiscovery',\n  'startBluetoothDevicesDiscovery',\n  'startDeviceMotionListening',\n  'startPullDownRefresh',\n  'stopBeaconDiscovery',\n  'stopBluetoothDevicesDiscovery',\n  'stopCompass',\n  'startCompass',\n  'startAccelerometer',\n  'stopAccelerometer',\n  'showNavigationBarLoading',\n  'stopDeviceMotionListening',\n  'stopPullDownRefresh',\n  'switchTab',\n  'uploadFile',\n  'vibrateLong',\n  'vibrateShort',\n  'writeBLECharacteristicValue'\n])\n\nfunction getCanIUseWebp (taro) {\n  return function () {\n    if (typeof taro.getSystemInfoSync !== 'function') {\n      console.error('不支持 API canIUseWebp')\n      return false\n    }\n    const { platform } = taro.getSystemInfoSync()\n    const platformLower = platform.toLowerCase()\n    if (platformLower === 'android' || platformLower === 'devtools') {\n      return true\n    }\n    return false\n  }\n}\n\nfunction getNormalRequest (global) {\n  return function request (options) {\n    options = options || {}\n    if (typeof options === 'string') {\n      options = {\n        url: options\n      }\n    }\n    const originSuccess = options.success\n    const originFail = options.fail\n    const originComplete = options.complete\n    let requestTask\n    const p: any = new Promise((resolve, reject) => {\n      options.success = res => {\n        originSuccess && originSuccess(res)\n        resolve(res)\n      }\n      options.fail = res => {\n        originFail && originFail(res)\n        reject(res)\n      }\n\n      options.complete = res => {\n        originComplete && originComplete(res)\n      }\n\n      requestTask = global.request(options)\n    })\n    p.abort = (cb) => {\n      cb && cb()\n      if (requestTask) {\n        requestTask.abort()\n      }\n      return p\n    }\n    return p\n  }\n}\n\nfunction processApis (taro, global, config: IProcessApisIOptions = {}) {\n  const patchNeedPromiseApis = config.needPromiseApis || []\n  const _needPromiseApis = new Set<string>([...patchNeedPromiseApis, ...needPromiseApis])\n  const preserved = [\n    'getEnv',\n    'interceptors',\n    'Current',\n    'getCurrentInstance',\n    'options',\n    'nextTick',\n    'eventCenter',\n    'Events',\n    'preload',\n    'webpackJsonp'\n  ]\n\n  const apis = new Set(Object.keys(global).filter(api => preserved.indexOf(api) === -1))\n\n  if (config.modifyApis) {\n    config.modifyApis(apis)\n  }\n\n  apis.forEach(key => {\n    if (_needPromiseApis.has(key)) {\n      const originKey = key\n      taro[originKey] = (options: Record<string, any> | string = {}, ...args) => {\n        let key = originKey\n\n        // 第一个参数 options 为字符串，单独处理\n        if (typeof options === 'string') {\n          if (args.length) {\n            return global[key](options, ...args)\n          }\n          return global[key](options)\n        }\n\n        // 改变 key 或 option 字段，如需要把支付宝标准的字段对齐微信标准的字段\n        if (config.transformMeta) {\n          const transformResult = config.transformMeta(key, options)\n          key = transformResult.key\n          ;(options as Record<string, any>) = transformResult.options\n          // 新 key 可能不存在\n          if (!global.hasOwnProperty(key)) {\n            return unsupport(key)()\n          }\n        }\n\n        let task: any = null\n        const obj: Record<string, any> = Object.assign({}, options)\n\n        // 为页面跳转相关的 API 设置一个随机数作为路由参数。为了给 runtime 区分页面。\n        setUniqueKeyToRoute(key, options)\n\n        // Promise 化\n        const p: any = new Promise((resolve, reject) => {\n          obj.success = res => {\n            config.modifyAsyncResult?.(key, res)\n            options.success?.(res)\n            if (key === 'connectSocket') {\n              resolve(\n                Promise.resolve().then(() => task ? Object.assign(task, res) : res)\n              )\n            } else {\n              resolve(res)\n            }\n          }\n          obj.fail = res => {\n            options.fail?.(res)\n            reject(res)\n          }\n          obj.complete = res => {\n            options.complete?.(res)\n          }\n          if (args.length) {\n            task = global[key](obj, ...args)\n          } else {\n            task = global[key](obj)\n          }\n        })\n\n        // 给 promise 对象挂载属性\n        if (key === 'uploadFile' || key === 'downloadFile') {\n          p.progress = cb => {\n            task?.onProgressUpdate(cb)\n            return p\n          }\n          p.abort = cb => {\n            cb?.()\n            task?.abort()\n            return p\n          }\n        }\n        return p\n      }\n    } else {\n      let platformKey = key\n\n      // 改变 key 或 option 字段，如需要把支付宝标准的字段对齐微信标准的字段\n      if (config.transformMeta) {\n        platformKey = config.transformMeta(key, {}).key\n      }\n\n      // API 不存在\n      if (!global.hasOwnProperty(platformKey)) {\n        taro[key] = unsupport(key)\n        return\n      }\n      if (typeof global[key] === 'function') {\n        taro[key] = (...args) => {\n          if (config.handleSyncApis) {\n            return config.handleSyncApis(key, global, args)\n          } else {\n            return global[platformKey].apply(global, args)\n          }\n        }\n      } else {\n        taro[key] = global[platformKey]\n      }\n    }\n  })\n\n  !config.isOnlyPromisify && equipCommonApis(taro, global, config)\n}\n\n/**\n * 挂载常用 API\n * @param taro Taro 对象\n * @param global 小程序全局对象，如微信的 wx，支付宝的 my\n */\nfunction equipCommonApis (taro, global, apis: Record<string, any> = {}) {\n  taro.canIUseWebp = getCanIUseWebp(taro)\n  taro.getCurrentPages = getCurrentPages || unsupport('getCurrentPages')\n  taro.getApp = getApp || unsupport('getApp')\n  taro.env = global.env || {}\n\n  try {\n    taro.requirePlugin = requirePlugin || unsupport('requirePlugin')\n  } catch (error) {\n    taro.requirePlugin = unsupport('requirePlugin')\n  }\n\n  // request & interceptors\n  const request = apis.request ? apis.request : getNormalRequest(global)\n  function taroInterceptor (chain) {\n    return request(chain.requestParams)\n  }\n  const link = new taro.Link(taroInterceptor)\n  taro.request = link.request.bind(link)\n  taro.addInterceptor = link.addInterceptor.bind(link)\n  taro.cleanInterceptors = link.cleanInterceptors.bind(link)\n  taro.miniGlobal = taro.options.miniGlobal = global\n}\n\nexport {\n  processApis\n}\n","const { container, SERVICE_IDENTIFIER } = require('@tarojs/runtime')\nconst taro = require('@tarojs/api').default\n\nconst hooks = container.get(SERVICE_IDENTIFIER.Hooks)\nif (typeof hooks.initNativeApi === 'function') {\n  hooks.initNativeApi(taro)\n}\n\nmodule.exports = taro\nmodule.exports.default = module.exports\n"],"sourceRoot":""}